/*! For license information please see LICENSES */
(window.webpackJsonp=window.webpackJsonp||[]).push([[268],{1043:function(e,t,n){"use strict";n.r(t);var r=n(37);n.d(t,"FirebaseError",(function(){return r.a})),n.d(t,"SDK_VERSION",(function(){return r.b})),n.d(t,"_DEFAULT_ENTRY_NAME",(function(){return r.c})),n.d(t,"_addComponent",(function(){return r.d})),n.d(t,"_addOrOverwriteComponent",(function(){return r.e})),n.d(t,"_apps",(function(){return r.f})),n.d(t,"_clearComponents",(function(){return r.g})),n.d(t,"_components",(function(){return r.h})),n.d(t,"_getProvider",(function(){return r.i})),n.d(t,"_isFirebaseApp",(function(){return r.j})),n.d(t,"_isFirebaseServerApp",(function(){return r.k})),n.d(t,"_registerComponent",(function(){return r.l})),n.d(t,"_removeServiceInstance",(function(){return r.m})),n.d(t,"_serverApps",(function(){return r.n})),n.d(t,"deleteApp",(function(){return r.o})),n.d(t,"getApp",(function(){return r.p})),n.d(t,"getApps",(function(){return r.q})),n.d(t,"initializeApp",(function(){return r.r})),n.d(t,"initializeServerApp",(function(){return r.s})),n.d(t,"onLog",(function(){return r.t})),n.d(t,"registerVersion",(function(){return r.u})),n.d(t,"setLogLevel",(function(){return r.v}));Object(r.u)("firebase","10.11.1","app")},1049:function(e,t,n){"use strict";n.r(t),n.d(t,"deleteToken",(function(){return nt})),n.d(t,"getMessaging",(function(){return et})),n.d(t,"getToken",(function(){return tt})),n.d(t,"isSupported",(function(){return Je})),n.d(t,"onMessage",(function(){return it}));var r=n(37),o=n(58),c=n(25),l=n(67);const f="@firebase/installations",d="0.6.6",h=1e4,v=`w:${d}`,_="FIS_v2",m="https://firebaseinstallations.googleapis.com/v1",y=36e5,E={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},w=new c.b("installations","Installations",E);function T(e){return e instanceof c.c&&e.code.includes("request-failed")}function I({projectId:e}){return`${m}/projects/${e}/installations`}function S(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function O(e,t){const n=(await t.json()).error;return w.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function A({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function R(e,{refreshToken:t}){const n=A(e);return n.append("Authorization",function(e){return`${_} ${e}`}(t)),n}async function k(e){const t=await e();return t.status>=500&&t.status<600?e():t}function D(e){return new Promise((t=>{setTimeout(t,e)}))}const P=/^[cdef][\w-]{21}$/,C="";function M(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){const t=(n=e,btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_"));var n;return t.substr(0,22)}(e);return P.test(t)?t:C}catch(e){return C}}function L(e){return`${e.appName}!${e.appId}`}const x=new Map;function N(e,t){const n=L(e);j(n,t),function(e,t){const n=U();n&&n.postMessage({key:e,fid:t});G()}(n,t)}function j(e,t){const n=x.get(e);if(n)for(const e of n)e(t)}let F=null;function U(){return!F&&"BroadcastChannel"in self&&(F=new BroadcastChannel("[Firebase] FID Change"),F.onmessage=e=>{j(e.data.key,e.data.fid)}),F}function G(){0===x.size&&F&&(F.close(),F=null)}const B="firebase-installations-database",$=1,z="firebase-installations-store";let V=null;function W(){return V||(V=Object(l.b)(B,$,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(z)}})),V}async function H(e,t){const n=L(e),r=(await W()).transaction(z,"readwrite"),o=r.objectStore(z),c=await o.get(n);return await o.put(t,n),await r.done,c&&c.fid===t.fid||N(e,t.fid),t}async function Y(e){const t=L(e),n=(await W()).transaction(z,"readwrite");await n.objectStore(z).delete(t),await n.done}async function X(e,t){const n=L(e),r=(await W()).transaction(z,"readwrite"),o=r.objectStore(z),c=await o.get(n),l=t(c);return void 0===l?await o.delete(n):await o.put(l,n),await r.done,!l||c&&c.fid===l.fid||N(e,l.fid),l}async function Z(e){let t;const n=await X(e.appConfig,(n=>{const r=function(e){const t=e||{fid:M(),registrationStatus:0};return J(t)}(n),o=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){return{installationEntry:t,registrationPromise:Promise.reject(w.create("app-offline"))}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=async function(e,t){try{const n=await async function({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const r=I(e),o=A(e),c=t.getImmediate({optional:!0});if(c){const e=await c.getHeartbeatsHeader();e&&o.append("x-firebase-client",e)}const body={fid:n,authVersion:_,appId:e.appId,sdkVersion:v},l={method:"POST",headers:o,body:JSON.stringify(body)},f=await k((()=>fetch(r,l)));if(f.ok){const e=await f.json();return{fid:e.fid||n,registrationStatus:2,refreshToken:e.refreshToken,authToken:S(e.authToken)}}throw await O("Create Installation",f)}(e,t);return H(e.appConfig,n)}catch(n){throw T(n)&&409===n.customData.serverCode?await Y(e.appConfig):await H(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:K(e)}:{installationEntry:t}}(e,r);return t=o.registrationPromise,o.installationEntry}));return n.fid===C?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function K(e){let t=await Q(e.appConfig);for(;1===t.registrationStatus;)await D(100),t=await Q(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await Z(e);return n||t}return t}function Q(e){return X(e,(e=>{if(!e)throw w.create("installation-not-found");return J(e)}))}function J(e){return 1===(t=e).registrationStatus&&t.registrationTime+h<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function ee({appConfig:e,heartbeatServiceProvider:t},n){const r=function(e,{fid:t}){return`${I(e)}/${t}/authTokens:generate`}(e,n),o=R(e,n),c=t.getImmediate({optional:!0});if(c){const e=await c.getHeartbeatsHeader();e&&o.append("x-firebase-client",e)}const body={installation:{sdkVersion:v,appId:e.appId}},l={method:"POST",headers:o,body:JSON.stringify(body)},f=await k((()=>fetch(r,l)));if(f.ok){return S(await f.json())}throw await O("Generate Auth Token",f)}async function te(e,t=!1){let n;const r=await X(e.appConfig,(r=>{if(!re(r))throw w.create("not-registered");const o=r.authToken;if(!t&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+y}(e)}(o))return r;if(1===o.requestStatus)return n=async function(e,t){let n=await ne(e.appConfig);for(;1===n.authToken.requestStatus;)await D(100),n=await ne(e.appConfig);const r=n.authToken;return 0===r.requestStatus?te(e,t):r}(e,t),r;{if(!navigator.onLine)throw w.create("app-offline");const t=function(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}(r);return n=async function(e,t){try{const n=await ee(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return await H(e.appConfig,r),n}catch(n){if(!T(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await H(e.appConfig,n)}else await Y(e.appConfig);throw n}}(e,t),t}}));return n?await n:r.authToken}function ne(e){return X(e,(e=>{if(!re(e))throw w.create("not-registered");const t=e.authToken;return 1===(n=t).requestStatus&&n.requestTime+h<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e;var n}))}function re(e){return void 0!==e&&2===e.registrationStatus}async function ie(e,t=!1){const n=e;await async function(e){const{registrationPromise:t}=await Z(e);t&&await t}(n);return(await te(n,t)).token}function oe(e){return w.create("missing-app-config-values",{valueName:e})}const ae="installations",se=e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw oe("App Configuration");if(!e.name)throw oe("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw oe(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:Object(r.i)(t,"heartbeat"),_delete:()=>Promise.resolve()}},ue=e=>{const t=e.getProvider("app").getImmediate(),n=Object(r.i)(t,ae).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:r}=await Z(t);return r?r.catch(console.error):te(t).catch(console.error),n.fid}(n),getToken:e=>ie(n,e)}};Object(r.l)(new o.a(ae,se,"PUBLIC")),Object(r.l)(new o.a("installations-internal",ue,"PRIVATE")),Object(r.u)(f,d),Object(r.u)(f,d,"esm2017");const ce="/firebase-messaging-sw.js",le="/firebase-cloud-messaging-push-scope",fe="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",de="https://fcmregistrations.googleapis.com/v1",pe="google.c.a.c_id",he="google.c.a.c_l",ge="google.c.a.ts";var ve,_e;function me(e){const t=new Uint8Array(e);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ye(e){const t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),r=new Uint8Array(n.length);for(let i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}!function(e){e[e.DATA_MESSAGE=1]="DATA_MESSAGE",e[e.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"}(ve||(ve={})),function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"}(_e||(_e={}));const be="fcm_token_details_db",Ee=5,we="fcm_token_object_Store";const Te="firebase-messaging-database",Ie=1,Se="firebase-messaging-store";let Oe=null;function Ae(){return Oe||(Oe=Object(l.b)(Te,Ie,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(Se)}})),Oe}async function Re(e){const t=De(e),n=await Ae(),r=await n.transaction(Se).objectStore(Se).get(t);if(r)return r;{const t=await async function(e){if("databases"in indexedDB){const e=(await indexedDB.databases()).map((e=>e.name));if(!e.includes(be))return null}let t=null;return(await Object(l.b)(be,Ee,{upgrade:async(n,r,o,c)=>{var l;if(r<2)return;if(!n.objectStoreNames.contains(we))return;const f=c.objectStore(we),d=await f.index("fcmSenderId").get(e);if(await f.clear(),d)if(2===r){const e=d;if(!e.auth||!e.p256dh||!e.endpoint)return;t={token:e.fcmToken,createTime:null!==(l=e.createTime)&&void 0!==l?l:Date.now(),subscriptionOptions:{auth:e.auth,p256dh:e.p256dh,endpoint:e.endpoint,swScope:e.swScope,vapidKey:"string"==typeof e.vapidKey?e.vapidKey:me(e.vapidKey)}}}else if(3===r){const e=d;t={token:e.fcmToken,createTime:e.createTime,subscriptionOptions:{auth:me(e.auth),p256dh:me(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:me(e.vapidKey)}}}else if(4===r){const e=d;t={token:e.fcmToken,createTime:e.createTime,subscriptionOptions:{auth:me(e.auth),p256dh:me(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:me(e.vapidKey)}}}}})).close(),await Object(l.a)(be),await Object(l.a)("fcm_vapid_details_db"),await Object(l.a)("undefined"),function(e){if(!e||!e.subscriptionOptions)return!1;const{subscriptionOptions:t}=e;return"number"==typeof e.createTime&&e.createTime>0&&"string"==typeof e.token&&e.token.length>0&&"string"==typeof t.auth&&t.auth.length>0&&"string"==typeof t.p256dh&&t.p256dh.length>0&&"string"==typeof t.endpoint&&t.endpoint.length>0&&"string"==typeof t.swScope&&t.swScope.length>0&&"string"==typeof t.vapidKey&&t.vapidKey.length>0}(t)?t:null}(e.appConfig.senderId);if(t)return await ke(e,t),t}}async function ke(e,t){const n=De(e),r=(await Ae()).transaction(Se,"readwrite");return await r.objectStore(Se).put(t,n),await r.done,t}function De({appConfig:e}){return e.appId}const Pe={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},Ce=new c.b("messaging","Messaging",Pe);async function Me(e,t){const n={method:"DELETE",headers:await xe(e)};try{const r=await fetch(`${Le(e.appConfig)}/${t}`,n),o=await r.json();if(o.error){const e=o.error.message;throw Ce.create("token-unsubscribe-failed",{errorInfo:e})}}catch(e){throw Ce.create("token-unsubscribe-failed",{errorInfo:null==e?void 0:e.toString()})}}function Le({projectId:e}){return`${de}/projects/${e}/registrations`}async function xe({appConfig:e,installations:t}){const n=await t.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function Ne({p256dh:e,auth:t,endpoint:n,vapidKey:r}){const body={web:{endpoint:n,auth:t,p256dh:e}};return r!==fe&&(body.web.applicationPubKey=r),body}const je=6048e5;async function Fe(e){const t=await async function(e,t){const n=await e.pushManager.getSubscription();if(n)return n;return e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ye(t)})}(e.swRegistration,e.vapidKey),n={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:me(t.getKey("auth")),p256dh:me(t.getKey("p256dh"))},r=await Re(e.firebaseDependencies);if(r){if(function(e,t){const n=t.vapidKey===e.vapidKey,r=t.endpoint===e.endpoint,o=t.auth===e.auth,c=t.p256dh===e.p256dh;return n&&r&&o&&c}(r.subscriptionOptions,n))return Date.now()>=r.createTime+je?async function(e,t){try{const n=await async function(e,t){const n=await xe(e),body=Ne(t.subscriptionOptions),r={method:"PATCH",headers:n,body:JSON.stringify(body)};let o;try{const n=await fetch(`${Le(e.appConfig)}/${t.token}`,r);o=await n.json()}catch(e){throw Ce.create("token-update-failed",{errorInfo:null==e?void 0:e.toString()})}if(o.error){const e=o.error.message;throw Ce.create("token-update-failed",{errorInfo:e})}if(!o.token)throw Ce.create("token-update-no-token");return o.token}(e.firebaseDependencies,t),r=Object.assign(Object.assign({},t),{token:n,createTime:Date.now()});return await ke(e.firebaseDependencies,r),n}catch(e){throw e}}(e,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{await Me(e.firebaseDependencies,r.token)}catch(e){console.warn(e)}return Ge(e.firebaseDependencies,n)}return Ge(e.firebaseDependencies,n)}async function Ue(e){const t=await Re(e.firebaseDependencies);t&&(await Me(e.firebaseDependencies,t.token),await async function(e){const t=De(e),n=(await Ae()).transaction(Se,"readwrite");await n.objectStore(Se).delete(t),await n.done}(e.firebaseDependencies));const n=await e.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}async function Ge(e,t){const n=await async function(e,t){const n=await xe(e),body=Ne(t),r={method:"POST",headers:n,body:JSON.stringify(body)};let o;try{const t=await fetch(Le(e.appConfig),r);o=await t.json()}catch(e){throw Ce.create("token-subscribe-failed",{errorInfo:null==e?void 0:e.toString()})}if(o.error){const e=o.error.message;throw Ce.create("token-subscribe-failed",{errorInfo:e})}if(!o.token)throw Ce.create("token-subscribe-no-token");return o.token}(e,t),r={token:n,createTime:Date.now(),subscriptionOptions:t};return await ke(e,r),r.token}function Be(e){const t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return function(e,t){if(!t.notification)return;e.notification={};const title=t.notification.title;title&&(e.notification.title=title);const body=t.notification.body;body&&(e.notification.body=body);const image=t.notification.image;image&&(e.notification.image=image);const n=t.notification.icon;n&&(e.notification.icon=n)}(t,e),function(e,t){if(!t.data)return;e.data=t.data}(t,e),function(e,t){var n,r,o,c,l;if(!t.fcmOptions&&!(null===(n=t.notification)||void 0===n?void 0:n.click_action))return;e.fcmOptions={};const link=null!==(o=null===(r=t.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==o?o:null===(c=t.notification)||void 0===c?void 0:c.click_action;link&&(e.fcmOptions.link=link);const f=null===(l=t.fcmOptions)||void 0===l?void 0:l.analytics_label;f&&(e.fcmOptions.analyticsLabel=f)}(t,e),t}function $e(e,t){const n=[];for(let i=0;i<e.length;i++)n.push(e.charAt(i)),i<t.length&&n.push(t.charAt(i));return n.join("")}function qe(e){return Ce.create("missing-app-config-values",{valueName:e})}$e("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),$e("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ze{constructor(e,t,n){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const r=function(e){if(!e||!e.options)throw qe("App Configuration Object");if(!e.name)throw qe("App Name");const t=["projectId","apiKey","appId","messagingSenderId"],{options:n}=e;for(const e of t)if(!n[e])throw qe(e);return{appName:e.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:r,installations:t,analyticsProvider:n}}_delete(){return Promise.resolve()}}async function Ve(e){try{e.swRegistration=await navigator.serviceWorker.register(ce,{scope:le}),e.swRegistration.update().catch((()=>{}))}catch(e){throw Ce.create("failed-service-worker-registration",{browserErrorMessage:null==e?void 0:e.message})}}async function We(e,t){if(!navigator)throw Ce.create("only-available-in-window");if("default"===Notification.permission&&await Notification.requestPermission(),"granted"!==Notification.permission)throw Ce.create("permission-blocked");return await async function(e,t){t?e.vapidKey=t:e.vapidKey||(e.vapidKey=fe)}(e,null==t?void 0:t.vapidKey),await async function(e,t){if(t||e.swRegistration||await Ve(e),t||!e.swRegistration){if(!(t instanceof ServiceWorkerRegistration))throw Ce.create("invalid-sw-registration");e.swRegistration=t}}(e,null==t?void 0:t.serviceWorkerRegistration),Fe(e)}async function He(e,t,data){const n=function(e){switch(e){case _e.NOTIFICATION_CLICKED:return"notification_open";case _e.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(t);(await e.firebaseDependencies.analyticsProvider.get()).logEvent(n,{message_id:data[pe],message_name:data[he],message_time:data[ge],message_device_time:Math.floor(Date.now()/1e3)})}async function Ye(e,t){const n=t.data;if(!n.isFirebaseMessaging)return;e.onMessageHandler&&n.messageType===_e.PUSH_RECEIVED&&("function"==typeof e.onMessageHandler?e.onMessageHandler(Be(n)):e.onMessageHandler.next(Be(n)));const r=n.data;(function(data){return"object"==typeof data&&!!data&&pe in data})(r)&&"1"===r["google.c.a.e"]&&await He(e,n.messageType,r)}const Xe="@firebase/messaging",Ze="0.12.8",Ke=e=>{const t=new ze(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",(e=>Ye(t,e))),t},Qe=e=>{const t=e.getProvider("messaging").getImmediate();return{getToken:e=>We(t,e)}};async function Je(){try{await Object(c.k)()}catch(e){return!1}return"undefined"!=typeof window&&Object(c.j)()&&Object(c.d)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}function et(e=Object(r.p)()){return Je().then((e=>{if(!e)throw Ce.create("unsupported-browser")}),(e=>{throw Ce.create("indexed-db-unsupported")})),Object(r.i)(Object(c.h)(e),"messaging").getImmediate()}async function tt(e,t){return We(e=Object(c.h)(e),t)}function nt(e){return async function(e){if(!navigator)throw Ce.create("only-available-in-window");return e.swRegistration||await Ve(e),Ue(e)}(e=Object(c.h)(e))}function it(e,t){return function(e,t){if(!navigator)throw Ce.create("only-available-in-window");return e.onMessageHandler=t,()=>{e.onMessageHandler=null}}(e=Object(c.h)(e),t)}Object(r.l)(new o.a("messaging",Ke,"PUBLIC")),Object(r.l)(new o.a("messaging-internal",Qe,"PRIVATE")),Object(r.u)(Xe,Ze),Object(r.u)(Xe,Ze,"esm2017")},1051:function(e,t,n){"use strict";var r=n(222),o=n(232);var c=function(e){if(!Object(o.a)(e))throw TypeError("Invalid UUID");var t,n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=255&t,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=255&t,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=255&t,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=255&t,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=255&t,n};function l(s,e,t,n){switch(s){case 0:return e&t^~e&n;case 1:case 3:return e^t^n;case 2:return e&t^e&n^t&n}}function f(e,t){return e<<t|e>>>32-t}var d=function(e,t,n){function o(e,o,l,f){if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));for(var t=[],i=0;i<e.length;++i)t.push(e.charCodeAt(i));return t}(e)),"string"==typeof o&&(o=c(o)),16!==o.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var d=new Uint8Array(16+e.length);if(d.set(o),d.set(e,o.length),(d=n(d))[6]=15&d[6]|t,d[8]=63&d[8]|128,l){f=f||0;for(var i=0;i<16;++i)l[f+i]=d[i];return l}return Object(r.a)(d)}try{o.name=e}catch(e){}return o.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",o.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",o}("v5",80,(function(e){var t=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){var r=unescape(encodeURIComponent(e));e=[];for(var i=0;i<r.length;++i)e.push(r.charCodeAt(i))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var o=e.length/4+2,c=Math.ceil(o/16),d=new Array(c),h=0;h<c;++h){for(var v=new Uint32Array(16),_=0;_<16;++_)v[_]=e[64*h+4*_]<<24|e[64*h+4*_+1]<<16|e[64*h+4*_+2]<<8|e[64*h+4*_+3];d[h]=v}d[c-1][14]=8*(e.length-1)/Math.pow(2,32),d[c-1][14]=Math.floor(d[c-1][14]),d[c-1][15]=8*(e.length-1)&4294967295;for(var m=0;m<c;++m){for(var y=new Uint32Array(80),E=0;E<16;++E)y[E]=d[m][E];for(var w=16;w<80;++w)y[w]=f(y[w-3]^y[w-8]^y[w-14]^y[w-16],1);for(var a=n[0],b=n[1],T=n[2],I=n[3],S=n[4],O=0;O<80;++O){var s=Math.floor(O/20),A=f(a,5)+l(s,b,T,I)+S+t[s]+y[O]>>>0;S=I,I=T,T=f(b,30)>>>0,b=a,a=A}n[0]=n[0]+a>>>0,n[1]=n[1]+b>>>0,n[2]=n[2]+T>>>0,n[3]=n[3]+I>>>0,n[4]=n[4]+S>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,255&n[0],n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,255&n[1],n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,255&n[2],n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,255&n[3],n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,255&n[4]]}));t.a=d},1052:function(e,t,n){"use strict";var r,o=new Uint8Array(16);function c(){if(!r&&!(r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(o)}var l=n(222);t.a=function(e,t,n){var r=(e=e||{}).random||(e.rng||c)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return Object(l.a)(r)}},111:function(e,t,n){"use strict";var r={name:"NoSsr",functional:!0,props:{placeholder:String,placeholderTag:{type:String,default:"div"}},render:function(e,t){var n=t.parent,r=t.slots,o=t.props,c=r(),l=c.default;void 0===l&&(l=[]);var f=c.placeholder;return n._isMounted?l:(n.$once("hook:mounted",(function(){n.$forceUpdate()})),o.placeholderTag&&(o.placeholder||f)?e(o.placeholderTag,{class:["no-ssr-placeholder"]},o.placeholder||f):l.length>0?l.map((function(){return e(!1)})):e(!1))}};e.exports=r},113:function(e,t,n){"use strict";function r(e,t,n){"object"==typeof n.value&&(n.value=o(n.value)),n.enumerable&&!n.get&&!n.set&&n.configurable&&n.writable&&"__proto__"!==t?e[t]=n.value:Object.defineProperty(e,t,n)}function o(e){if("object"!=typeof e)return e;var t,n,c,i=0,l=Object.prototype.toString.call(e);if("[object Object]"===l?c=Object.create(e.__proto__||null):"[object Array]"===l?c=Array(e.length):"[object Set]"===l?(c=new Set,e.forEach((function(e){c.add(o(e))}))):"[object Map]"===l?(c=new Map,e.forEach((function(e,t){c.set(o(t),o(e))}))):"[object Date]"===l?c=new Date(+e):"[object RegExp]"===l?c=new RegExp(e.source,e.flags):"[object DataView]"===l?c=new e.constructor(o(e.buffer)):"[object ArrayBuffer]"===l?c=e.slice(0):"Array]"===l.slice(-6)&&(c=new e.constructor(e)),c){for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)r(c,n[i],Object.getOwnPropertyDescriptor(e,n[i]));for(i=0,n=Object.getOwnPropertyNames(e);i<n.length;i++)Object.hasOwnProperty.call(c,t=n[i])&&c[t]===e[t]||r(c,t,Object.getOwnPropertyDescriptor(e,t))}return c||e}n.d(t,"a",(function(){return o}))},129:function(e,t,n){!function(t,n){var r=function(e,t,n){"use strict";var r,o;if(function(){var t,n={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",fastLoadedClass:"ls-is-cached",iframeLoadMode:0,srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:2,loadHidden:!0,ricTimeout:0,throttleDelay:125};for(t in o=e.lazySizesConfig||e.lazysizesConfig||{},n)t in o||(o[t]=n[t])}(),!t||!t.getElementsByClassName)return{init:function(){},cfg:o,noSupport:!0};var c=t.documentElement,l=e.HTMLPictureElement,f="addEventListener",d="getAttribute",h=e[f].bind(e),v=e.setTimeout,_=e.requestAnimationFrame||v,m=e.requestIdleCallback,y=/^picture$/i,E=["load","error","lazyincluded","_lazyloaded"],w={},T=Array.prototype.forEach,I=function(e,t){return w[t]||(w[t]=new RegExp("(\\s|^)"+t+"(\\s|$)")),w[t].test(e[d]("class")||"")&&w[t]},S=function(e,t){I(e,t)||e.setAttribute("class",(e[d]("class")||"").trim()+" "+t)},O=function(e,t){var n;(n=I(e,t))&&e.setAttribute("class",(e[d]("class")||"").replace(n," "))},A=function(e,t,n){var r=n?f:"removeEventListener";n&&A(e,t),E.forEach((function(n){e[r](n,t)}))},R=function(e,n,o,c,l){var f=t.createEvent("Event");return o||(o={}),o.instance=r,f.initEvent(n,!c,!l),f.detail=o,e.dispatchEvent(f),f},k=function(t,n){var r;!l&&(r=e.picturefill||o.pf)?(n&&n.src&&!t[d]("srcset")&&t.setAttribute("srcset",n.src),r({reevaluate:!0,elements:[t]})):n&&n.src&&(t.src=n.src)},D=function(e,style){return(getComputedStyle(e,null)||{})[style]},P=function(e,t,n){for(n=n||e.offsetWidth;n<o.minSize&&t&&!e._lazysizesWidth;)n=t.offsetWidth,t=t.parentNode;return n},C=(Oe=[],Ae=[],Re=Oe,ke=function(){var e=Re;for(Re=Oe.length?Ae:Oe,Ie=!0,Se=!1;e.length;)e.shift()();Ie=!1},De=function(e,n){Ie&&!n?e.apply(this,arguments):(Re.push(e),Se||(Se=!0,(t.hidden?v:_)(ke)))},De._lsFlush=ke,De),M=function(e,t){return t?function(){C(e)}:function(){var t=this,n=arguments;C((function(){e.apply(t,n)}))}},L=function(e){var t,r=0,c=o.throttleDelay,l=o.ricTimeout,f=function(){t=!1,r=n.now(),e()},d=m&&l>49?function(){m(f,{timeout:l}),l!==o.ricTimeout&&(l=o.ricTimeout)}:M((function(){v(f)}),!0);return function(e){var o;(e=!0===e)&&(l=33),t||(t=!0,(o=c-(n.now()-r))<0&&(o=0),e||o<9?d():v(d,o))}},x=function(e){var t,r,o=99,c=function(){t=null,e()},l=function(){var e=n.now()-r;e<o?v(l,o-e):(m||c)(c)};return function(){r=n.now(),t||(t=v(l,o))}},N=(ne=/^img$/i,re=/^iframe$/i,ie="onscroll"in e&&!/(gle|ing)bot/.test(navigator.userAgent),oe=0,ae=0,se=0,ue=-1,ce=function(e){se--,(!e||se<0||!e.target)&&(se=0)},le=function(e){return null==te&&(te="hidden"==D(t.body,"visibility")),te||!("hidden"==D(e.parentNode,"visibility")&&"hidden"==D(e,"visibility"))},fe=function(e,n){var r,o=e,l=le(e);for(K-=n,ee+=n,Q-=n,J+=n;l&&(o=o.offsetParent)&&o!=t.body&&o!=c;)(l=(D(o,"opacity")||1)>0)&&"visible"!=D(o,"overflow")&&(r=o.getBoundingClientRect(),l=J>r.left&&Q<r.right&&ee>r.top-1&&K<r.bottom+1);return l},de=function(){var e,i,rect,n,l,f,h,v,_,m,y,E,w=r.elements;if((H=o.loadMode)&&se<8&&(e=w.length)){for(i=0,ue++;i<e;i++)if(w[i]&&!w[i]._lazyRace)if(!ie||r.prematureUnveil&&r.prematureUnveil(w[i]))be(w[i]);else if((v=w[i][d]("data-expand"))&&(f=1*v)||(f=ae),m||(m=!o.expand||o.expand<1?c.clientHeight>500&&c.clientWidth>500?500:370:o.expand,r._defEx=m,y=m*o.expFactor,E=o.hFac,te=null,ae<y&&se<1&&ue>2&&H>2&&!t.hidden?(ae=y,ue=0):ae=H>1&&ue>1&&se<6?m:oe),_!==f&&(X=innerWidth+f*E,Z=innerHeight+f,h=-1*f,_=f),rect=w[i].getBoundingClientRect(),(ee=rect.bottom)>=h&&(K=rect.top)<=Z&&(J=rect.right)>=h*E&&(Q=rect.left)<=X&&(ee||J||Q||K)&&(o.loadHidden||le(w[i]))&&(V&&se<3&&!v&&(H<3||ue<4)||fe(w[i],f))){if(be(w[i]),l=!0,se>9)break}else!l&&V&&!n&&se<4&&ue<4&&H>2&&(z[0]||o.preloadAfterLoad)&&(z[0]||!v&&(ee||J||Q||K||"auto"!=w[i][d](o.sizesAttr)))&&(n=z[0]||w[i]);n&&!l&&be(n)}},pe=L(de),he=function(e){var t=e.target;t._lazyCache?delete t._lazyCache:(ce(e),S(t,o.loadedClass),O(t,o.loadingClass),A(t,ve),R(t,"lazyloaded"))},ge=M(he),ve=function(e){ge({target:e.target})},_e=function(e,t){var n=e.getAttribute("data-load-mode")||o.iframeLoadMode;0==n?e.contentWindow.location.replace(t):1==n&&(e.src=t)},me=function(source){var e,t=source[d](o.srcsetAttr);(e=o.customMedia[source[d]("data-media")||source[d]("media")])&&source.setAttribute("media",e),t&&source.setAttribute("srcset",t)},ye=M((function(e,t,n,r,c){var l,f,h,_,m,E;(m=R(e,"lazybeforeunveil",t)).defaultPrevented||(r&&(n?S(e,o.autosizesClass):e.setAttribute("sizes",r)),f=e[d](o.srcsetAttr),l=e[d](o.srcAttr),c&&(_=(h=e.parentNode)&&y.test(h.nodeName||"")),E=t.firesLoad||"src"in e&&(f||l||_),m={target:e},S(e,o.loadingClass),E&&(clearTimeout(W),W=v(ce,2500),A(e,ve,!0)),_&&T.call(h.getElementsByTagName("source"),me),f?e.setAttribute("srcset",f):l&&!_&&(re.test(e.nodeName)?_e(e,l):e.src=l),c&&(f||_)&&k(e,{src:l})),e._lazyRace&&delete e._lazyRace,O(e,o.lazyClass),C((function(){var t=e.complete&&e.naturalWidth>1;E&&!t||(t&&S(e,o.fastLoadedClass),he(m),e._lazyCache=!0,v((function(){"_lazyCache"in e&&delete e._lazyCache}),9)),"lazy"==e.loading&&se--}),!0)})),be=function(e){if(!e._lazyRace){var t,n=ne.test(e.nodeName),r=n&&(e[d](o.sizesAttr)||e[d]("sizes")),c="auto"==r;(!c&&V||!n||!e[d]("src")&&!e.srcset||e.complete||I(e,o.errorClass)||!I(e,o.lazyClass))&&(t=R(e,"lazyunveilread").detail,c&&j.updateElem(e,!0,e.offsetWidth),e._lazyRace=!0,se++,ye(e,t,c,r,n))}},Ee=x((function(){o.loadMode=3,pe()})),we=function(){3==o.loadMode&&(o.loadMode=2),Ee()},Te=function(){V||(n.now()-Y<999?v(Te,999):(V=!0,o.loadMode=3,pe(),h("scroll",we,!0)))},{_:function(){Y=n.now(),r.elements=t.getElementsByClassName(o.lazyClass),z=t.getElementsByClassName(o.lazyClass+" "+o.preloadClass),h("scroll",pe,!0),h("resize",pe,!0),h("pageshow",(function(e){if(e.persisted){var n=t.querySelectorAll("."+o.loadingClass);n.length&&n.forEach&&_((function(){n.forEach((function(img){img.complete&&be(img)}))}))}})),e.MutationObserver?new MutationObserver(pe).observe(c,{childList:!0,subtree:!0,attributes:!0}):(c[f]("DOMNodeInserted",pe,!0),c[f]("DOMAttrModified",pe,!0),setInterval(pe,999)),h("hashchange",pe,!0),["focus","mouseover","click","load","transitionend","animationend"].forEach((function(e){t[f](e,pe,!0)})),/d$|^c/.test(t.readyState)?Te():(h("load",Te),t[f]("DOMContentLoaded",pe),v(Te,2e4)),r.elements.length?(de(),C._lsFlush()):pe()},checkElems:pe,unveil:be,_aLSL:we}),j=(G=M((function(e,t,n,r){var o,i,c;if(e._lazysizesWidth=r,r+="px",e.setAttribute("sizes",r),y.test(t.nodeName||""))for(i=0,c=(o=t.getElementsByTagName("source")).length;i<c;i++)o[i].setAttribute("sizes",r);n.detail.dataAttr||k(e,n.detail)})),B=function(e,t,n){var r,o=e.parentNode;o&&(n=P(e,o,n),(r=R(e,"lazybeforesizes",{width:n,dataAttr:!!t})).defaultPrevented||(n=r.detail.width)&&n!==e._lazysizesWidth&&G(e,o,r,n))},$=x((function(){var i,e=U.length;if(e)for(i=0;i<e;i++)B(U[i])})),{_:function(){U=t.getElementsByClassName(o.autosizesClass),h("resize",$)},checkElems:$,updateElem:B}),F=function(){!F.i&&t.getElementsByClassName&&(F.i=!0,j._(),N._())};var U,G,B,$;var z,V,W,H,Y,X,Z,K,Q,J,ee,te,ne,re,ie,oe,ae,se,ue,ce,le,fe,de,pe,he,ge,ve,_e,me,ye,be,Ee,we,Te;var Ie,Se,Oe,Ae,Re,ke,De;return v((function(){o.init&&F()})),r={cfg:o,autoSizer:j,loader:N,init:F,uP:k,aC:S,rC:O,hC:I,fire:R,gW:P,rAF:C}}(t,t.document,Date);t.lazySizes=r,e.exports&&(e.exports=r)}("undefined"!=typeof window?window:{})},15:function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",(function(){return o})),n.d(t,"__assign",(function(){return c})),n.d(t,"__rest",(function(){return l})),n.d(t,"__decorate",(function(){return f})),n.d(t,"__param",(function(){return d})),n.d(t,"__esDecorate",(function(){return h})),n.d(t,"__runInitializers",(function(){return v})),n.d(t,"__propKey",(function(){return _})),n.d(t,"__setFunctionName",(function(){return m})),n.d(t,"__metadata",(function(){return y})),n.d(t,"__awaiter",(function(){return E})),n.d(t,"__generator",(function(){return w})),n.d(t,"__createBinding",(function(){return T})),n.d(t,"__exportStar",(function(){return I})),n.d(t,"__values",(function(){return S})),n.d(t,"__read",(function(){return O})),n.d(t,"__spread",(function(){return A})),n.d(t,"__spreadArrays",(function(){return R})),n.d(t,"__spreadArray",(function(){return k})),n.d(t,"__await",(function(){return D})),n.d(t,"__asyncGenerator",(function(){return P})),n.d(t,"__asyncDelegator",(function(){return C})),n.d(t,"__asyncValues",(function(){return M})),n.d(t,"__makeTemplateObject",(function(){return L})),n.d(t,"__importStar",(function(){return N})),n.d(t,"__importDefault",(function(){return j})),n.d(t,"__classPrivateFieldGet",(function(){return F})),n.d(t,"__classPrivateFieldSet",(function(){return U})),n.d(t,"__classPrivateFieldIn",(function(){return G})),n.d(t,"__addDisposableResource",(function(){return B})),n.d(t,"__disposeResources",(function(){return z}));var r=function(e,b){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,b){e.__proto__=b}||function(e,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(e[p]=b[p])},r(e,b)};function o(e,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function t(){this.constructor=e}r(e,b),e.prototype=null===b?Object.create(b):(t.prototype=b.prototype,new t)}var c=function(){return c=Object.assign||function(e){for(var s,i=1,t=arguments.length;i<t;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(e[p]=s[p]);return e},c.apply(this,arguments)};function l(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t}function f(e,t,n,desc){var r,o=arguments.length,c=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(c=(o<3?r(c):o>3?r(t,n,c):r(t,n))||c);return o>3&&c&&Object.defineProperty(t,n,c),c}function d(e,t){return function(n,r){t(n,r,e)}}function h(e,t,n,r,o,c){function l(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var f,d=r.kind,h="getter"===d?"get":"setter"===d?"set":"value",v=!t&&e?r.static?e:e.prototype:null,_=t||(v?Object.getOwnPropertyDescriptor(v,r.name):{}),m=!1,i=n.length-1;i>=0;i--){var y={};for(var p in r)y[p]="access"===p?{}:r[p];for(var p in r.access)y.access[p]=r.access[p];y.addInitializer=function(e){if(m)throw new TypeError("Cannot add initializers after decoration has completed");c.push(l(e||null))};var E=(0,n[i])("accessor"===d?{get:_.get,set:_.set}:_[h],y);if("accessor"===d){if(void 0===E)continue;if(null===E||"object"!=typeof E)throw new TypeError("Object expected");(f=l(E.get))&&(_.get=f),(f=l(E.set))&&(_.set=f),(f=l(E.init))&&o.unshift(f)}else(f=l(E))&&("field"===d?o.unshift(f):_[h]=f)}v&&Object.defineProperty(v,r.name,_),m=!0}function v(e,t,n){for(var r=arguments.length>2,i=0;i<t.length;i++)n=r?t[i].call(e,n):t[i].call(e);return r?n:void 0}function _(e){return"symbol"==typeof e?e:"".concat(e)}function m(e,t,n){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function y(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function E(e,t,n,r){return new(n||(n=Promise))((function(o,c){function l(e){try{d(r.next(e))}catch(e){c(e)}}function f(e){try{d(r.throw(e))}catch(e){c(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,f)}d((r=r.apply(e,t||[])).next())}))}function w(e,body){var t,n,r,g,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return g={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function c(c){return function(l){return function(c){if(t)throw new TypeError("Generator is already executing.");for(;g&&(g=0,c[0]&&(o=0)),o;)try{if(t=1,n&&(r=2&c[0]?n.return:c[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,c[1])).done)return r;switch(n=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(r=o.trys,(r=r.length>0&&r[r.length-1])||6!==c[0]&&2!==c[0])){o=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){o.label=c[1];break}if(6===c[0]&&o.label<r[1]){o.label=r[1],r=c;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(c);break}r[2]&&o.ops.pop(),o.trys.pop();continue}c=body.call(e,o)}catch(e){c=[6,e],n=0}finally{t=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}}var T=Object.create?function(e,t,n,r){void 0===r&&(r=n);var desc=Object.getOwnPropertyDescriptor(t,n);desc&&!("get"in desc?!t.__esModule:desc.writable||desc.configurable)||(desc={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,desc)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]};function I(e,t){for(var p in e)"default"===p||Object.prototype.hasOwnProperty.call(t,p)||T(t,e,p)}function S(e){var s="function"==typeof Symbol&&Symbol.iterator,t=s&&e[s],i=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")}function O(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),c=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)c.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return c}function A(){for(var e=[],i=0;i<arguments.length;i++)e=e.concat(O(arguments[i]));return e}function R(){for(var s=0,i=0,e=arguments.length;i<e;i++)s+=arguments[i].length;var t=Array(s),n=0;for(i=0;i<e;i++)for(var a=arguments[i],r=0,o=a.length;r<o;r++,n++)t[n]=a[r];return t}function k(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}function D(e){return this instanceof D?(this.v=e,this):new D(e)}function P(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,g=n.apply(e,t||[]),q=[];return i={},r("next"),r("throw"),r("return"),i[Symbol.asyncIterator]=function(){return this},i;function r(e){g[e]&&(i[e]=function(t){return new Promise((function(a,b){q.push([e,t,a,b])>1||o(e,t)}))})}function o(e,t){try{(n=g[e](t)).value instanceof D?Promise.resolve(n.value.v).then(c,l):f(q[0][2],n)}catch(e){f(q[0][3],e)}var n}function c(e){o("next",e)}function l(e){o("throw",e)}function f(e,t){e(t),q.shift(),q.length&&o(q[0][0],q[0][1])}}function C(e){var i,p;return i={},t("next"),t("throw",(function(e){throw e})),t("return"),i[Symbol.iterator]=function(){return this},i;function t(t,n){i[t]=e[t]?function(r){return(p=!p)?{value:D(e[t](r)),done:!1}:n?n(r):r}:n}}function M(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,t=e[Symbol.asyncIterator];return t?t.call(e):(e=S(e),i={},n("next"),n("throw"),n("return"),i[Symbol.asyncIterator]=function(){return this},i);function n(t){i[t]=e[t]&&function(n){return new Promise((function(r,o){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,o,(n=e[t](n)).done,n.value)}))}}}function L(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var x=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function N(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&T(t,e,n);return x(t,e),t}function j(e){return e&&e.__esModule?e:{default:e}}function F(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}function U(e,t,n,r,o){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?o.call(e,n):o?o.value=n:t.set(e,n),n}function G(e,t){if(null===t||"object"!=typeof t&&"function"!=typeof t)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof e?t===e:e.has(t)}function B(e,t,n){if(null!=t){if("object"!=typeof t&&"function"!=typeof t)throw new TypeError("Object expected.");var r;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=t[Symbol.asyncDispose]}if(void 0===r){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose]}if("function"!=typeof r)throw new TypeError("Object not disposable.");e.stack.push({value:t,dispose:r,async:n})}else n&&e.stack.push({async:!0});return t}var $="function"==typeof SuppressedError?SuppressedError:function(e,t,n){var r=new Error(n);return r.name="SuppressedError",r.error=e,r.suppressed=t,r};function z(e){function t(t){e.error=e.hasError?new $(t,e.error,"An error was suppressed during disposal."):t,e.hasError=!0}return function n(){for(;e.stack.length;){var r=e.stack.pop();try{var o=r.dispose&&r.dispose.call(r.value);if(r.async)return Promise.resolve(o).then(n,(function(e){return t(e),n()}))}catch(e){t(e)}}if(e.hasError)throw e.error}()}t.default={__extends:o,__assign:c,__rest:l,__decorate:f,__param:d,__metadata:y,__awaiter:E,__generator:w,__createBinding:T,__exportStar:I,__values:S,__read:O,__spread:A,__spreadArrays:R,__spreadArray:k,__await:D,__asyncGenerator:P,__asyncDelegator:C,__asyncValues:M,__makeTemplateObject:L,__importStar:N,__importDefault:j,__classPrivateFieldGet:F,__classPrivateFieldSet:U,__classPrivateFieldIn:G,__addDisposableResource:B,__disposeResources:z}},222:function(e,t,n){"use strict";for(var r=n(232),o=[],i=0;i<256;++i)o.push((i+256).toString(16).substr(1));t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(o[e[t+0]]+o[e[t+1]]+o[e[t+2]]+o[e[t+3]]+"-"+o[e[t+4]]+o[e[t+5]]+"-"+o[e[t+6]]+o[e[t+7]]+"-"+o[e[t+8]]+o[e[t+9]]+"-"+o[e[t+10]]+o[e[t+11]]+o[e[t+12]]+o[e[t+13]]+o[e[t+14]]+o[e[t+15]]).toLowerCase();if(!Object(r.a)(n))throw TypeError("Stringified UUID is invalid");return n}},232:function(e,t,n){"use strict";var r=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;t.a=function(e){return"string"==typeof e&&r.test(e)}},25:function(e,t,n){"use strict";(function(e,r){n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return S})),n.d(t,"c",(function(){return I})),n.d(t,"d",(function(){return T})),n.d(t,"e",(function(){return f})),n.d(t,"f",(function(){return A})),n.d(t,"g",(function(){return _})),n.d(t,"h",(function(){return k})),n.d(t,"i",(function(){return y})),n.d(t,"j",(function(){return E})),n.d(t,"k",(function(){return w}));const o=function(e){const t=[];let p=0;for(let i=0;i<e.length;i++){let n=e.charCodeAt(i);n<128?t[p++]=n:n<2048?(t[p++]=n>>6|192,t[p++]=63&n|128):55296==(64512&n)&&i+1<e.length&&56320==(64512&e.charCodeAt(i+1))?(n=65536+((1023&n)<<10)+(1023&e.charCodeAt(++i)),t[p++]=n>>18|240,t[p++]=n>>12&63|128,t[p++]=n>>6&63|128,t[p++]=63&n|128):(t[p++]=n>>12|224,t[p++]=n>>6&63|128,t[p++]=63&n|128)}return t},c={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(input,e){if(!Array.isArray(input))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,output=[];for(let i=0;i<input.length;i+=3){const e=input[i],n=i+1<input.length,r=n?input[i+1]:0,o=i+2<input.length,c=o?input[i+2]:0,l=e>>2,f=(3&e)<<4|r>>4;let d=(15&r)<<2|c>>6,h=63&c;o||(h=64,n||(d=64)),output.push(t[l],t[f],t[d],t[h])}return output.join("")},encodeString(input,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(input):this.encodeByteArray(o(input),e)},decodeString(input,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(input):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const o=e[n++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const c=e[n++];t[r++]=String.fromCharCode((31&o)<<6|63&c)}else if(o>239&&o<365){const u=((7&o)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(u>>10)),t[r++]=String.fromCharCode(56320+(1023&u))}else{const c=e[n++],l=e[n++];t[r++]=String.fromCharCode((15&o)<<12|(63&c)<<6|63&l)}}return t.join("")}(this.decodeStringToByteArray(input,e))},decodeStringToByteArray(input,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,output=[];for(let i=0;i<input.length;){const e=t[input.charAt(i++)],n=i<input.length?t[input.charAt(i)]:0;++i;const r=i<input.length?t[input.charAt(i)]:64;++i;const o=i<input.length?t[input.charAt(i)]:64;if(++i,null==e||null==n||null==r||null==o)throw new l;const c=e<<2|n>>4;if(output.push(c),64!==r){const e=n<<4&240|r>>2;if(output.push(e),64!==o){const e=r<<6&192|o;output.push(e)}}}return output},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class l extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const f=function(e){return function(e){const t=o(e);return c.encodeByteArray(t,!0)}(e).replace(/\./g,"")},d=function(e){try{return c.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};const h=()=>function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==e)return e;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,v=()=>{try{return h()||(()=>{if(void 0===r||void 0===r.env)return;const e=r.env.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"==typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}const t=e&&d(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`)}},_=()=>{var e;return null===(e=v())||void 0===e?void 0:e.config};class m{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function y(){return"object"==typeof self&&self.self===self}function E(){try{return"object"==typeof indexedDB}catch(e){return!1}}function w(){return new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var e;t((null===(e=o.error)||void 0===e?void 0:e.message)||"")}}catch(e){t(e)}}))}function T(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class I extends Error{constructor(code,e,t){super(e),this.code=code,this.customData=t,this.name="FirebaseError",Object.setPrototypeOf(this,I.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,S.prototype.create)}}class S{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(code,...data){const e=data[0]||{},t=`${this.service}/${code}`,template=this.errors[code],n=template?function(template,data){return template.replace(O,((e,t)=>{const n=data[t];return null!=n?String(n):`<${t}?>`}))}(template,e):"Error",r=`${this.serviceName}: ${n} (${t}).`;return new I(t,r,e)}}const O=/\{\$([^}]+)}/g;function A(a,b){if(a===b)return!0;const e=Object.keys(a),t=Object.keys(b);for(const n of e){if(!t.includes(n))return!1;const e=a[n],r=b[n];if(R(e)&&R(r)){if(!A(e,r))return!1}else if(e!==r)return!1}for(const n of t)if(!e.includes(n))return!1;return!0}function R(e){return null!==e&&"object"==typeof e}function k(e){return e&&e._delegate?e._delegate:e}}).call(this,n(59),n(69))},266:function(e,t,n){(function(e,n){var r="__lodash_hash_undefined__",o=1,c=2,l=9007199254740991,f="[object Arguments]",d="[object Array]",h="[object AsyncFunction]",v="[object Boolean]",_="[object Date]",m="[object Error]",y="[object Function]",E="[object GeneratorFunction]",w="[object Map]",T="[object Number]",I="[object Null]",S="[object Object]",O="[object Promise]",A="[object Proxy]",R="[object RegExp]",k="[object Set]",D="[object String]",P="[object Symbol]",C="[object Undefined]",M="[object WeakMap]",L="[object ArrayBuffer]",x="[object DataView]",N=/^\[object .+?Constructor\]$/,j=/^(?:0|[1-9]\d*)$/,F={};F["[object Float32Array]"]=F["[object Float64Array]"]=F["[object Int8Array]"]=F["[object Int16Array]"]=F["[object Int32Array]"]=F["[object Uint8Array]"]=F["[object Uint8ClampedArray]"]=F["[object Uint16Array]"]=F["[object Uint32Array]"]=!0,F[f]=F[d]=F[L]=F[v]=F[x]=F[_]=F[m]=F[y]=F[w]=F[T]=F[S]=F[R]=F[k]=F[D]=F[M]=!1;var U="object"==typeof e&&e&&e.Object===Object&&e,G="object"==typeof self&&self&&self.Object===Object&&self,B=U||G||Function("return this")(),$=t&&!t.nodeType&&t,z=$&&"object"==typeof n&&n&&!n.nodeType&&n,V=z&&z.exports===$,W=V&&U.process,H=function(){try{return W&&W.binding&&W.binding("util")}catch(e){}}(),Y=H&&H.isTypedArray;function X(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function Z(map){var e=-1,t=Array(map.size);return map.forEach((function(n,r){t[++e]=[r,n]})),t}function K(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var Q,J,ee,te=Array.prototype,ne=Function.prototype,re=Object.prototype,ie=B["__core-js_shared__"],oe=ne.toString,ae=re.hasOwnProperty,se=(Q=/[^.]+$/.exec(ie&&ie.keys&&ie.keys.IE_PROTO||""))?"Symbol(src)_1."+Q:"",ue=re.toString,ce=RegExp("^"+oe.call(ae).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),le=V?B.Buffer:void 0,fe=B.Symbol,de=B.Uint8Array,pe=re.propertyIsEnumerable,he=te.splice,ge=fe?fe.toStringTag:void 0,ve=Object.getOwnPropertySymbols,_e=le?le.isBuffer:void 0,me=(J=Object.keys,ee=Object,function(e){return J(ee(e))}),ye=He(B,"DataView"),be=He(B,"Map"),Ee=He(B,"Promise"),we=He(B,"Set"),Te=He(B,"WeakMap"),Ie=He(Object,"create"),Se=Ke(ye),Oe=Ke(be),Ae=Ke(Ee),Re=Ke(we),ke=Ke(Te),De=fe?fe.prototype:void 0,Pe=De?De.valueOf:void 0;function Ce(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Me(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Le(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function xe(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Le;++t<n;)this.add(e[t])}function Ne(e){var data=this.__data__=new Me(e);this.size=data.size}function je(e,t){var n=et(e),r=!n&&Je(e),o=!n&&!r&&tt(e),c=!n&&!r&&!o&&st(e),l=n||r||o||c,f=l?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],d=f.length;for(var h in e)!t&&!ae.call(e,h)||l&&("length"==h||o&&("offset"==h||"parent"==h)||c&&("buffer"==h||"byteLength"==h||"byteOffset"==h)||Ze(h,d))||f.push(h);return f}function Fe(e,t){for(var n=e.length;n--;)if(Qe(e[n][0],t))return n;return-1}function Ue(e){return null==e?void 0===e?C:I:ge&&ge in Object(e)?function(e){var t=ae.call(e,ge),n=e[ge];try{e[ge]=void 0;var r=!0}catch(e){}var o=ue.call(e);r&&(t?e[ge]=n:delete e[ge]);return o}(e):function(e){return ue.call(e)}(e)}function Ge(e){return at(e)&&Ue(e)==f}function Be(e,t,n,r,l){return e===t||(null==e||null==t||!at(e)&&!at(t)?e!=e&&t!=t:function(object,e,t,n,r,l){var h=et(object),y=et(e),E=h?d:Xe(object),I=y?d:Xe(e),O=(E=E==f?S:E)==S,A=(I=I==f?S:I)==S,C=E==I;if(C&&tt(object)){if(!tt(e))return!1;h=!0,O=!1}if(C&&!O)return l||(l=new Ne),h||st(object)?ze(object,e,t,n,r,l):function(object,e,t,n,r,l,f){switch(t){case x:if(object.byteLength!=e.byteLength||object.byteOffset!=e.byteOffset)return!1;object=object.buffer,e=e.buffer;case L:return!(object.byteLength!=e.byteLength||!l(new de(object),new de(e)));case v:case _:case T:return Qe(+object,+e);case m:return object.name==e.name&&object.message==e.message;case R:case D:return object==e+"";case w:var d=Z;case k:var h=n&o;if(d||(d=K),object.size!=e.size&&!h)return!1;var y=f.get(object);if(y)return y==e;n|=c,f.set(object,e);var E=ze(d(object),d(e),n,r,l,f);return f.delete(object),E;case P:if(Pe)return Pe.call(object)==Pe.call(e)}return!1}(object,e,E,t,n,r,l);if(!(t&o)){var M=O&&ae.call(object,"__wrapped__"),N=A&&ae.call(e,"__wrapped__");if(M||N){var j=M?object.value():object,F=N?e.value():e;return l||(l=new Ne),r(j,F,t,n,l)}}if(!C)return!1;return l||(l=new Ne),function(object,e,t,n,r,c){var l=t&o,f=Ve(object),d=f.length,h=Ve(e),v=h.length;if(d!=v&&!l)return!1;var _=d;for(;_--;){var m=f[_];if(!(l?m in e:ae.call(e,m)))return!1}var y=c.get(object);if(y&&c.get(e))return y==e;var E=!0;c.set(object,e),c.set(e,object);var w=l;for(;++_<d;){var T=object[m=f[_]],I=e[m];if(n)var S=l?n(I,T,m,e,object,c):n(T,I,m,object,e,c);if(!(void 0===S?T===I||r(T,I,t,n,c):S)){E=!1;break}w||(w="constructor"==m)}if(E&&!w){var O=object.constructor,A=e.constructor;O==A||!("constructor"in object)||!("constructor"in e)||"function"==typeof O&&O instanceof O&&"function"==typeof A&&A instanceof A||(E=!1)}return c.delete(object),c.delete(e),E}(object,e,t,n,r,l)}(e,t,n,r,Be,l))}function $e(e){return!(!ot(e)||function(e){return!!se&&se in e}(e))&&(nt(e)?ce:N).test(Ke(e))}function qe(object){if(t=(e=object)&&e.constructor,n="function"==typeof t&&t.prototype||re,e!==n)return me(object);var e,t,n,r=[];for(var o in Object(object))ae.call(object,o)&&"constructor"!=o&&r.push(o);return r}function ze(e,t,n,r,l,f){var d=n&o,h=e.length,v=t.length;if(h!=v&&!(d&&v>h))return!1;var _=f.get(e);if(_&&f.get(t))return _==t;var m=-1,y=!0,E=n&c?new xe:void 0;for(f.set(e,t),f.set(t,e);++m<h;){var w=e[m],T=t[m];if(r)var I=d?r(T,w,m,t,e,f):r(w,T,m,e,t,f);if(void 0!==I){if(I)continue;y=!1;break}if(E){if(!X(t,(function(e,t){if(o=t,!E.has(o)&&(w===e||l(w,e,n,r,f)))return E.push(t);var o}))){y=!1;break}}else if(w!==T&&!l(w,T,n,r,f)){y=!1;break}}return f.delete(e),f.delete(t),y}function Ve(object){return function(object,e,t){var n=e(object);return et(object)?n:function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}(n,t(object))}(object,ut,Ye)}function We(map,e){var t,n,data=map.__data__;return("string"==(n=typeof(t=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==t:null===t)?data["string"==typeof e?"string":"hash"]:data.map}function He(object,e){var t=function(object,e){return null==object?void 0:object[e]}(object,e);return $e(t)?t:void 0}Ce.prototype.clear=function(){this.__data__=Ie?Ie(null):{},this.size=0},Ce.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Ce.prototype.get=function(e){var data=this.__data__;if(Ie){var t=data[e];return t===r?void 0:t}return ae.call(data,e)?data[e]:void 0},Ce.prototype.has=function(e){var data=this.__data__;return Ie?void 0!==data[e]:ae.call(data,e)},Ce.prototype.set=function(e,t){var data=this.__data__;return this.size+=this.has(e)?0:1,data[e]=Ie&&void 0===t?r:t,this},Me.prototype.clear=function(){this.__data__=[],this.size=0},Me.prototype.delete=function(e){var data=this.__data__,t=Fe(data,e);return!(t<0)&&(t==data.length-1?data.pop():he.call(data,t,1),--this.size,!0)},Me.prototype.get=function(e){var data=this.__data__,t=Fe(data,e);return t<0?void 0:data[t][1]},Me.prototype.has=function(e){return Fe(this.__data__,e)>-1},Me.prototype.set=function(e,t){var data=this.__data__,n=Fe(data,e);return n<0?(++this.size,data.push([e,t])):data[n][1]=t,this},Le.prototype.clear=function(){this.size=0,this.__data__={hash:new Ce,map:new(be||Me),string:new Ce}},Le.prototype.delete=function(e){var t=We(this,e).delete(e);return this.size-=t?1:0,t},Le.prototype.get=function(e){return We(this,e).get(e)},Le.prototype.has=function(e){return We(this,e).has(e)},Le.prototype.set=function(e,t){var data=We(this,e),n=data.size;return data.set(e,t),this.size+=data.size==n?0:1,this},xe.prototype.add=xe.prototype.push=function(e){return this.__data__.set(e,r),this},xe.prototype.has=function(e){return this.__data__.has(e)},Ne.prototype.clear=function(){this.__data__=new Me,this.size=0},Ne.prototype.delete=function(e){var data=this.__data__,t=data.delete(e);return this.size=data.size,t},Ne.prototype.get=function(e){return this.__data__.get(e)},Ne.prototype.has=function(e){return this.__data__.has(e)},Ne.prototype.set=function(e,t){var data=this.__data__;if(data instanceof Me){var n=data.__data__;if(!be||n.length<199)return n.push([e,t]),this.size=++data.size,this;data=this.__data__=new Le(n)}return data.set(e,t),this.size=data.size,this};var Ye=ve?function(object){return null==object?[]:(object=Object(object),function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,c=[];++n<r;){var l=e[n];t(l,n,e)&&(c[o++]=l)}return c}(ve(object),(function(symbol){return pe.call(object,symbol)})))}:function(){return[]},Xe=Ue;function Ze(e,t){return!!(t=null==t?l:t)&&("number"==typeof e||j.test(e))&&e>-1&&e%1==0&&e<t}function Ke(e){if(null!=e){try{return oe.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Qe(e,t){return e===t||e!=e&&t!=t}(ye&&Xe(new ye(new ArrayBuffer(1)))!=x||be&&Xe(new be)!=w||Ee&&Xe(Ee.resolve())!=O||we&&Xe(new we)!=k||Te&&Xe(new Te)!=M)&&(Xe=function(e){var t=Ue(e),n=t==S?e.constructor:void 0,r=n?Ke(n):"";if(r)switch(r){case Se:return x;case Oe:return w;case Ae:return O;case Re:return k;case ke:return M}return t});var Je=Ge(function(){return arguments}())?Ge:function(e){return at(e)&&ae.call(e,"callee")&&!pe.call(e,"callee")},et=Array.isArray;var tt=_e||function(){return!1};function nt(e){if(!ot(e))return!1;var t=Ue(e);return t==y||t==E||t==h||t==A}function it(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=l}function ot(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function at(e){return null!=e&&"object"==typeof e}var st=Y?function(e){return function(t){return e(t)}}(Y):function(e){return at(e)&&it(e.length)&&!!F[Ue(e)]};function ut(object){return null!=(e=object)&&it(e.length)&&!nt(e)?je(object):qe(object);var e}n.exports=function(e,t){return Be(e,t)}}).call(this,n(59),n(409)(e))},286:function(e,t,n){"use strict";var r={name:"ClientOnly",functional:!0,props:{placeholder:String,placeholderTag:{type:String,default:"div"}},render:function(e,t){var n=t.parent,r=t.slots,o=t.props,c=r(),l=c.default;void 0===l&&(l=[]);var f=c.placeholder;return n._isMounted?l:(n.$once("hook:mounted",(function(){n.$forceUpdate()})),o.placeholderTag&&(o.placeholder||f)?e(o.placeholderTag,{class:["client-only-placeholder"]},o.placeholder||f):l.length>0?l.map((function(){return e(!1)})):e(!1))}};e.exports=r},288:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r={name:"AmpMustache",render(e){return e("template",{props:{...this.$props},attrs:{type:"amp-mustache"}},this.$slots.default)}}},290:function(e,t,n){"use strict";var r=["compactDisplay","currency","currencyDisplay","currencySign","localeMatcher","notation","numberingSystem","signDisplay","style","unit","unitDisplay","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits"];function o(e,t){"undefined"!=typeof console&&(console.warn("[vue-i18n] "+e),t&&console.warn(t.stack))}var c=Array.isArray;function l(e){return null!==e&&"object"==typeof e}function f(e){return"string"==typeof e}var d=Object.prototype.toString,h="[object Object]";function v(e){return d.call(e)===h}function _(e){return null==e}function m(e){return"function"==typeof e}function y(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=null,r=null;return 1===e.length?l(e[0])||c(e[0])?r=e[0]:"string"==typeof e[0]&&(n=e[0]):2===e.length&&("string"==typeof e[0]&&(n=e[0]),(l(e[1])||c(e[1]))&&(r=e[1])),{locale:n,params:r}}function E(e){return JSON.parse(JSON.stringify(e))}function w(e,t){return!!~e.indexOf(t)}var T=Object.prototype.hasOwnProperty;function I(e,t){return T.call(e,t)}function S(e){for(var t=arguments,output=Object(e),i=1;i<arguments.length;i++){var source=t[i];if(null!=source){var n=void 0;for(n in source)I(source,n)&&(l(source[n])?output[n]=S(output[n],source[n]):output[n]=source[n])}}return output}function O(a,b){if(a===b)return!0;var e=l(a),t=l(b);if(!e||!t)return!e&&!t&&String(a)===String(b);try{var n=c(a),r=c(b);if(n&&r)return a.length===b.length&&a.every((function(e,i){return O(e,b[i])}));if(n||r)return!1;var o=Object.keys(a),f=Object.keys(b);return o.length===f.length&&o.every((function(e){return O(a[e],b[e])}))}catch(e){return!1}}var A={name:"i18n",functional:!0,props:{tag:{type:[String,Boolean,Object],default:"span"},path:{type:String,required:!0},locale:{type:String},places:{type:[Array,Object]}},render:function(e,t){var data=t.data,n=t.parent,r=t.props,o=t.slots,c=n.$i18n;if(c){var path=r.path,l=r.locale,f=r.places,d=o(),h=c.i(path,l,function(e){var t;for(t in e)if("default"!==t)return!1;return Boolean(t)}(d)||f?function(e,t){var n=t?function(e){0;return Array.isArray(e)?e.reduce(k,{}):Object.assign({},e)}(t):{};if(!e)return n;e=e.filter((function(e){return e.tag||""!==e.text.trim()}));var r=e.every(D);0;return e.reduce(r?R:k,n)}(d.default,f):d),v=r.tag&&!0!==r.tag||!1===r.tag?r.tag:"span";return v?e(v,data,h):h}}};function R(e,t){return t.data&&t.data.attrs&&t.data.attrs.place&&(e[t.data.attrs.place]=t),e}function k(e,t,n){return e[n]=t,e}function D(e){return Boolean(e.data&&e.data.attrs&&e.data.attrs.place)}var P,C={name:"i18n-n",functional:!0,props:{tag:{type:[String,Boolean,Object],default:"span"},value:{type:Number,required:!0},format:{type:[String,Object]},locale:{type:String}},render:function(e,t){var n=t.props,o=t.parent,data=t.data,c=o.$i18n;if(!c)return null;var d=null,h=null;f(n.format)?d=n.format:l(n.format)&&(n.format.key&&(d=n.format.key),h=Object.keys(n.format).reduce((function(e,t){var o;return w(r,t)?Object.assign({},e,((o={})[t]=n.format[t],o)):e}),null));var v=n.locale||c.locale,_=c._ntp(n.value,v,d,h),m=_.map((function(e,t){var n,slot=data.scopedSlots&&data.scopedSlots[e.type];return slot?slot(((n={})[e.type]=e.value,n.index=t,n.parts=_,n)):e.value})),y=n.tag&&!0!==n.tag||!1===n.tag?n.tag:"span";return y?e(y,{attrs:data.attrs,class:data.class,staticClass:data.staticClass},m):m}};function M(e,t,n){N(e,n)&&j(e,t,n)}function L(e,t,n,r){if(N(e,n)){var o=n.context.$i18n;(function(e,t){var n=t.context;return e._locale===n.$i18n.locale})(e,n)&&O(t.value,t.oldValue)&&O(e._localeMessage,o.getLocaleMessage(o.locale))||j(e,t,n)}}function x(e,t,n,r){if(n.context){var c=n.context.$i18n||{};t.modifiers.preserve||c.preserveDirectiveContent||(e.textContent=""),e._vt=void 0,delete e._vt,e._locale=void 0,delete e._locale,e._localeMessage=void 0,delete e._localeMessage}else o("Vue instance does not exists in VNode context")}function N(e,t){var n=t.context;return n?!!n.$i18n||(o("VueI18n instance does not exists in Vue instance"),!1):(o("Vue instance does not exists in VNode context"),!1)}function j(e,t,n){var r,c,l=function(e){var path,t,n,r;f(e)?path=e:v(e)&&(path=e.path,t=e.locale,n=e.args,r=e.choice);return{path:path,locale:t,args:n,choice:r}}(t.value),path=l.path,d=l.locale,h=l.args,_=l.choice;if(path||d||h)if(path){var m=n.context;e._vt=e.textContent=null!=_?(r=m.$i18n).tc.apply(r,[path,_].concat(F(d,h))):(c=m.$i18n).t.apply(c,[path].concat(F(d,h))),e._locale=m.$i18n.locale,e._localeMessage=m.$i18n.getLocaleMessage(m.$i18n.locale)}else o("`path` is required in v-t directive");else o("value type not supported")}function F(e,t){var n=[];return e&&n.push(e),t&&(Array.isArray(t)||v(t))&&n.push(t),n}function U(e,t){void 0===t&&(t={bridge:!1}),U.installed=!0;(P=e).version&&Number(P.version.split(".")[0]);(function(e){e.prototype.hasOwnProperty("$i18n")||Object.defineProperty(e.prototype,"$i18n",{get:function(){return this._i18n}}),e.prototype.$t=function(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];var r=this.$i18n;return r._t.apply(r,[e,r.locale,r._getMessages(),this].concat(t))},e.prototype.$tc=function(e,t){for(var n=[],r=arguments.length-2;r-- >0;)n[r]=arguments[r+2];var o=this.$i18n;return o._tc.apply(o,[e,o.locale,o._getMessages(),this,t].concat(n))},e.prototype.$te=function(e,t){var n=this.$i18n;return n._te(e,n.locale,n._getMessages(),t)},e.prototype.$d=function(e){for(var t,n=[],r=arguments.length-1;r-- >0;)n[r]=arguments[r+1];return(t=this.$i18n).d.apply(t,[e].concat(n))},e.prototype.$n=function(e){for(var t,n=[],r=arguments.length-1;r-- >0;)n[r]=arguments[r+1];return(t=this.$i18n).n.apply(t,[e].concat(n))}})(P),P.mixin(function(e){function t(){this!==this.$root&&this.$options.__INTLIFY_META__&&this.$el&&this.$el.setAttribute("data-intlify",this.$options.__INTLIFY_META__)}return void 0===e&&(e=!1),e?{mounted:t}:{beforeCreate:function(){var e=this.$options;if(e.i18n=e.i18n||(e.__i18nBridge||e.__i18n?{}:null),e.i18n){if(e.i18n instanceof ne){if(e.__i18nBridge||e.__i18n)try{var t=e.i18n&&e.i18n.messages?e.i18n.messages:{};(e.__i18nBridge||e.__i18n).forEach((function(e){t=S(t,JSON.parse(e))})),Object.keys(t).forEach((function(n){e.i18n.mergeLocaleMessage(n,t[n])}))}catch(e){}this._i18n=e.i18n,this._i18nWatcher=this._i18n.watchI18nData()}else if(v(e.i18n)){var n=this.$root&&this.$root.$i18n&&this.$root.$i18n instanceof ne?this.$root.$i18n:null;if(n&&(e.i18n.root=this.$root,e.i18n.formatter=n.formatter,e.i18n.fallbackLocale=n.fallbackLocale,e.i18n.formatFallbackMessages=n.formatFallbackMessages,e.i18n.silentTranslationWarn=n.silentTranslationWarn,e.i18n.silentFallbackWarn=n.silentFallbackWarn,e.i18n.pluralizationRules=n.pluralizationRules,e.i18n.preserveDirectiveContent=n.preserveDirectiveContent),e.__i18nBridge||e.__i18n)try{var r=e.i18n&&e.i18n.messages?e.i18n.messages:{};(e.__i18nBridge||e.__i18n).forEach((function(e){r=S(r,JSON.parse(e))})),e.i18n.messages=r}catch(e){}var o=e.i18n.sharedMessages;o&&v(o)&&(e.i18n.messages=S(e.i18n.messages,o)),this._i18n=new ne(e.i18n),this._i18nWatcher=this._i18n.watchI18nData(),(void 0===e.i18n.sync||e.i18n.sync)&&(this._localeWatcher=this.$i18n.watchLocale()),n&&n.onComponentInstanceCreated(this._i18n)}}else this.$root&&this.$root.$i18n&&this.$root.$i18n instanceof ne?this._i18n=this.$root.$i18n:e.parent&&e.parent.$i18n&&e.parent.$i18n instanceof ne&&(this._i18n=e.parent.$i18n)},beforeMount:function(){var e=this.$options;e.i18n=e.i18n||(e.__i18nBridge||e.__i18n?{}:null),e.i18n?(e.i18n instanceof ne||v(e.i18n))&&(this._i18n.subscribeDataChanging(this),this._subscribing=!0):(this.$root&&this.$root.$i18n&&this.$root.$i18n instanceof ne||e.parent&&e.parent.$i18n&&e.parent.$i18n instanceof ne)&&(this._i18n.subscribeDataChanging(this),this._subscribing=!0)},mounted:t,beforeDestroy:function(){if(this._i18n){var e=this;this.$nextTick((function(){e._subscribing&&(e._i18n.unsubscribeDataChanging(e),delete e._subscribing),e._i18nWatcher&&(e._i18nWatcher(),e._i18n.destroyVM(),delete e._i18nWatcher),e._localeWatcher&&(e._localeWatcher(),delete e._localeWatcher)}))}}}}(t.bridge)),P.directive("t",{bind:M,update:L,unbind:x}),P.component(A.name,A),P.component(C.name,C),P.config.optionMergeStrategies.i18n=function(e,t){return void 0===t?e:t}}var G=function(){this._caches=Object.create(null)};G.prototype.interpolate=function(e,t){if(!t)return[e];var n=this._caches[e];return n||(n=function(e){var t=[],n=0,text="";for(;n<e.length;){var r=e[n++];if("{"===r){text&&t.push({type:"text",value:text}),text="";var sub="";for(r=e[n++];void 0!==r&&"}"!==r;)sub+=r,r=e[n++];var o="}"===r,c=B.test(sub)?"list":o&&$.test(sub)?"named":"unknown";t.push({value:sub,type:c})}else"%"===r?"{"!==e[n]&&(text+=r):text+=r}return text&&t.push({type:"text",value:text}),t}(e),this._caches[e]=n),function(e,t){var n=[],r=0,o=Array.isArray(t)?"list":l(t)?"named":"unknown";if("unknown"===o)return n;for(;r<e.length;){var c=e[r];switch(c.type){case"text":n.push(c.value);break;case"list":n.push(t[parseInt(c.value,10)]);break;case"named":"named"===o&&n.push(t[c.value])}r++}return n}(n,t)};var B=/^(?:\d)+/,$=/^(?:\w)+/;var z=[];z[0]={ws:[0],ident:[3,0],"[":[4],eof:[7]},z[1]={ws:[1],".":[2],"[":[4],eof:[7]},z[2]={ws:[2],ident:[3,0],0:[3,0],number:[3,0]},z[3]={ident:[3,0],0:[3,0],number:[3,0],ws:[1,1],".":[2,1],"[":[4,1],eof:[7,1]},z[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],eof:8,else:[4,0]},z[5]={"'":[4,0],eof:8,else:[5,0]},z[6]={'"':[4,0],eof:8,else:[6,0]};var V=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function W(e){if(null==e)return"eof";switch(e.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return e;case 95:case 36:case 45:return"ident";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"ws"}return"ident"}function H(path){var e,a,t,n=path.trim();return("0"!==path.charAt(0)||!isNaN(path))&&(t=n,V.test(t)?(a=(e=n).charCodeAt(0))!==e.charCodeAt(e.length-1)||34!==a&&39!==a?e:e.slice(1,-1):"*"+n)}var Y=function(){this._cache=Object.create(null)};Y.prototype.parsePath=function(path){var e=this._cache[path];return e||(e=function(path){var e,t,n,r,o,c,l,f=[],d=-1,h=0,v=0,_=[];function m(){var e=path[d+1];if(5===h&&"'"===e||6===h&&'"'===e)return d++,n="\\"+e,_[0](),!0}for(_[1]=function(){void 0!==t&&(f.push(t),t=void 0)},_[0]=function(){void 0===t?t=n:t+=n},_[2]=function(){_[0](),v++},_[3]=function(){if(v>0)v--,h=4,_[0]();else{if(v=0,void 0===t)return!1;if(!1===(t=H(t)))return!1;_[1]()}};null!==h;)if(d++,"\\"!==(e=path[d])||!m()){if(r=W(e),8===(o=(l=z[h])[r]||l.else||8))return;if(h=o[0],(c=_[o[1]])&&(n=void 0===(n=o[2])?e:n,!1===c()))return;if(7===h)return f}}(path),e&&(this._cache[path]=e)),e||[]},Y.prototype.getPathValue=function(e,path){if(!l(e))return null;var t=this.parsePath(path);if(0===t.length)return null;for(var n=t.length,r=e,i=0;i<n;){var o=r[t[i]];if(null==o)return null;r=o,i++}return r};var X,Z=/<\/?[\w\s="/.':;#-\/]+>/,K=/(?:@(?:\.[a-zA-Z]+)?:(?:[\w\-_|./]+|\([\w\-_:|./]+\)))/g,Q=/^@(?:\.([a-zA-Z]+))?:/,J=/[()]/g,ee={upper:function(e){return e.toLocaleUpperCase()},lower:function(e){return e.toLocaleLowerCase()},capitalize:function(e){return""+e.charAt(0).toLocaleUpperCase()+e.substr(1)}},te=new G,ne=function(e){var t=this;void 0===e&&(e={}),!P&&"undefined"!=typeof window&&window.Vue&&U(window.Vue);var n=e.locale||"en-US",r=!1!==e.fallbackLocale&&(e.fallbackLocale||"en-US"),o=e.messages||{},c=e.dateTimeFormats||e.datetimeFormats||{},l=e.numberFormats||{};this._vm=null,this._formatter=e.formatter||te,this._modifiers=e.modifiers||{},this._missing=e.missing||null,this._root=e.root||null,this._sync=void 0===e.sync||!!e.sync,this._fallbackRoot=void 0===e.fallbackRoot||!!e.fallbackRoot,this._fallbackRootWithEmptyString=void 0===e.fallbackRootWithEmptyString||!!e.fallbackRootWithEmptyString,this._formatFallbackMessages=void 0!==e.formatFallbackMessages&&!!e.formatFallbackMessages,this._silentTranslationWarn=void 0!==e.silentTranslationWarn&&e.silentTranslationWarn,this._silentFallbackWarn=void 0!==e.silentFallbackWarn&&!!e.silentFallbackWarn,this._dateTimeFormatters={},this._numberFormatters={},this._path=new Y,this._dataListeners=new Set,this._componentInstanceCreatedListener=e.componentInstanceCreatedListener||null,this._preserveDirectiveContent=void 0!==e.preserveDirectiveContent&&!!e.preserveDirectiveContent,this.pluralizationRules=e.pluralizationRules||{},this._warnHtmlInMessage=e.warnHtmlInMessage||"off",this._postTranslation=e.postTranslation||null,this._escapeParameterHtml=e.escapeParameterHtml||!1,"__VUE_I18N_BRIDGE__"in e&&(this.__VUE_I18N_BRIDGE__=e.__VUE_I18N_BRIDGE__),this.getChoiceIndex=function(e,n){var r=Object.getPrototypeOf(t);if(r&&r.getChoiceIndex)return r.getChoiceIndex.call(t,e,n);var o,c;return t.locale in t.pluralizationRules?t.pluralizationRules[t.locale].apply(t,[e,n]):(o=e,c=n,o=Math.abs(o),2===c?o?o>1?1:0:1:o?Math.min(o,2):0)},this._exist=function(e,n){return!(!e||!n)&&(!_(t._path.getPathValue(e,n))||!!e[n])},"warn"!==this._warnHtmlInMessage&&"error"!==this._warnHtmlInMessage||Object.keys(o).forEach((function(e){t._checkLocaleMessage(e,t._warnHtmlInMessage,o[e])})),this._initVM({locale:n,fallbackLocale:r,messages:o,dateTimeFormats:c,numberFormats:l})},re={vm:{configurable:!0},messages:{configurable:!0},dateTimeFormats:{configurable:!0},numberFormats:{configurable:!0},availableLocales:{configurable:!0},locale:{configurable:!0},fallbackLocale:{configurable:!0},formatFallbackMessages:{configurable:!0},missing:{configurable:!0},formatter:{configurable:!0},silentTranslationWarn:{configurable:!0},silentFallbackWarn:{configurable:!0},preserveDirectiveContent:{configurable:!0},warnHtmlInMessage:{configurable:!0},postTranslation:{configurable:!0},sync:{configurable:!0}};ne.prototype._checkLocaleMessage=function(e,t,n){var r=function(e,t,n,l){if(v(n))Object.keys(n).forEach((function(o){var c=n[o];v(c)?(l.push(o),l.push("."),r(e,t,c,l),l.pop(),l.pop()):(l.push(o),r(e,t,c,l),l.pop())}));else if(c(n))n.forEach((function(n,o){v(n)?(l.push("["+o+"]"),l.push("."),r(e,t,n,l),l.pop(),l.pop()):(l.push("["+o+"]"),r(e,t,n,l),l.pop())}));else if(f(n)){if(Z.test(n)){var d="Detected HTML in message '"+n+"' of keypath '"+l.join("")+"' at '"+t+"'. Consider component interpolation with '<i18n>' to avoid XSS. See https://bit.ly/2ZqJzkp";"warn"===e?o(d):"error"===e&&function(e,t){"undefined"!=typeof console&&(console.error("[vue-i18n] "+e),t&&console.error(t.stack))}(d)}}};r(t,e,n,[])},ne.prototype._initVM=function(data){var e=P.config.silent;P.config.silent=!0,this._vm=new P({data:data,__VUE18N__INSTANCE__:!0}),P.config.silent=e},ne.prototype.destroyVM=function(){this._vm.$destroy()},ne.prototype.subscribeDataChanging=function(e){this._dataListeners.add(e)},ne.prototype.unsubscribeDataChanging=function(e){!function(e,t){if(e.delete(t));}(this._dataListeners,e)},ne.prototype.watchI18nData=function(){var e=this;return this._vm.$watch("$data",(function(){for(var t,n,r=(t=e._dataListeners,n=[],t.forEach((function(a){return n.push(a)})),n),i=r.length;i--;)P.nextTick((function(){r[i]&&r[i].$forceUpdate()}))}),{deep:!0})},ne.prototype.watchLocale=function(e){if(e){if(!this.__VUE_I18N_BRIDGE__)return null;var t=this,n=this._vm;return this.vm.$watch("locale",(function(r){n.$set(n,"locale",r),t.__VUE_I18N_BRIDGE__&&e&&(e.locale.value=r),n.$forceUpdate()}),{immediate:!0})}if(!this._sync||!this._root)return null;var r=this._vm;return this._root.$i18n.vm.$watch("locale",(function(e){r.$set(r,"locale",e),r.$forceUpdate()}),{immediate:!0})},ne.prototype.onComponentInstanceCreated=function(e){this._componentInstanceCreatedListener&&this._componentInstanceCreatedListener(e,this)},re.vm.get=function(){return this._vm},re.messages.get=function(){return E(this._getMessages())},re.dateTimeFormats.get=function(){return E(this._getDateTimeFormats())},re.numberFormats.get=function(){return E(this._getNumberFormats())},re.availableLocales.get=function(){return Object.keys(this.messages).sort()},re.locale.get=function(){return this._vm.locale},re.locale.set=function(e){this._vm.$set(this._vm,"locale",e)},re.fallbackLocale.get=function(){return this._vm.fallbackLocale},re.fallbackLocale.set=function(e){this._localeChainCache={},this._vm.$set(this._vm,"fallbackLocale",e)},re.formatFallbackMessages.get=function(){return this._formatFallbackMessages},re.formatFallbackMessages.set=function(e){this._formatFallbackMessages=e},re.missing.get=function(){return this._missing},re.missing.set=function(e){this._missing=e},re.formatter.get=function(){return this._formatter},re.formatter.set=function(e){this._formatter=e},re.silentTranslationWarn.get=function(){return this._silentTranslationWarn},re.silentTranslationWarn.set=function(e){this._silentTranslationWarn=e},re.silentFallbackWarn.get=function(){return this._silentFallbackWarn},re.silentFallbackWarn.set=function(e){this._silentFallbackWarn=e},re.preserveDirectiveContent.get=function(){return this._preserveDirectiveContent},re.preserveDirectiveContent.set=function(e){this._preserveDirectiveContent=e},re.warnHtmlInMessage.get=function(){return this._warnHtmlInMessage},re.warnHtmlInMessage.set=function(e){var t=this,n=this._warnHtmlInMessage;if(this._warnHtmlInMessage=e,n!==e&&("warn"===e||"error"===e)){var r=this._getMessages();Object.keys(r).forEach((function(e){t._checkLocaleMessage(e,t._warnHtmlInMessage,r[e])}))}},re.postTranslation.get=function(){return this._postTranslation},re.postTranslation.set=function(e){this._postTranslation=e},re.sync.get=function(){return this._sync},re.sync.set=function(e){this._sync=e},ne.prototype._getMessages=function(){return this._vm.messages},ne.prototype._getDateTimeFormats=function(){return this._vm.dateTimeFormats},ne.prototype._getNumberFormats=function(){return this._vm.numberFormats},ne.prototype._warnDefault=function(e,t,n,r,o,c){if(!_(n))return n;if(this._missing){var l=this._missing.apply(null,[e,t,r,o]);if(f(l))return l}else 0;if(this._formatFallbackMessages){var d=y.apply(void 0,o);return this._render(t,c,d.params,t)}return t},ne.prototype._isFallbackRoot=function(e){return(this._fallbackRootWithEmptyString?!e:_(e))&&!_(this._root)&&this._fallbackRoot},ne.prototype._isSilentFallbackWarn=function(e){return this._silentFallbackWarn instanceof RegExp?this._silentFallbackWarn.test(e):this._silentFallbackWarn},ne.prototype._isSilentFallback=function(e,t){return this._isSilentFallbackWarn(t)&&(this._isFallbackRoot()||e!==this.fallbackLocale)},ne.prototype._isSilentTranslationWarn=function(e){return this._silentTranslationWarn instanceof RegExp?this._silentTranslationWarn.test(e):this._silentTranslationWarn},ne.prototype._interpolate=function(e,t,n,r,o,l,d){if(!t)return null;var h,y=this._path.getPathValue(t,n);if(c(y)||v(y))return y;if(_(y)){if(!v(t))return null;if(!f(h=t[n])&&!m(h))return null}else{if(!f(y)&&!m(y))return null;h=y}return f(h)&&(h.indexOf("@:")>=0||h.indexOf("@.")>=0)&&(h=this._link(e,t,h,r,"raw",l,d)),this._render(h,o,l,n)},ne.prototype._link=function(e,t,n,r,o,l,f){var d=n,h=d.match(K);for(var v in h)if(h.hasOwnProperty(v)){var link=h[v],_=link.match(Q),m=_[0],y=_[1],E=link.replace(m,"").replace(J,"");if(w(f,E))return d;f.push(E);var T=this._interpolate(e,t,E,r,"raw"===o?"string":o,"raw"===o?void 0:l,f);if(this._isFallbackRoot(T)){if(!this._root)throw Error("unexpected error");var I=this._root.$i18n;T=I._translate(I._getMessages(),I.locale,I.fallbackLocale,E,r,o,l)}T=this._warnDefault(e,E,T,r,c(l)?l:[l],o),this._modifiers.hasOwnProperty(y)?T=this._modifiers[y](T):ee.hasOwnProperty(y)&&(T=ee[y](T)),f.pop(),d=T?d.replace(link,T):d}return d},ne.prototype._createMessageContext=function(e,t,path,n){var r=this,o=c(e)?e:[],f=l(e)?e:{},d=this._getMessages(),h=this.locale;return{list:function(e){return o[e]},named:function(e){return f[e]},values:e,formatter:t,path:path,messages:d,locale:h,linked:function(e){return r._interpolate(h,d[h]||{},e,null,n,void 0,[e])}}},ne.prototype._render=function(e,t,n,path){if(m(e))return e(this._createMessageContext(n,this._formatter||te,path,t));var r=this._formatter.interpolate(e,n,path);return r||(r=te.interpolate(e,n,path)),"string"!==t||f(r)?r:r.join("")},ne.prototype._appendItemToChain=function(e,t,n){var r=!1;return w(e,t)||(r=!0,t&&(r="!"!==t[t.length-1],t=t.replace(/!/g,""),e.push(t),n&&n[t]&&(r=n[t]))),r},ne.prototype._appendLocaleToChain=function(e,t,n){var r,o=t.split("-");do{var c=o.join("-");r=this._appendItemToChain(e,c,n),o.splice(-1,1)}while(o.length&&!0===r);return r},ne.prototype._appendBlockToChain=function(e,t,n){for(var r=!0,i=0;i<t.length&&"boolean"==typeof r;i++){var o=t[i];f(o)&&(r=this._appendLocaleToChain(e,o,n))}return r},ne.prototype._getLocaleChain=function(e,t){if(""===e)return[];this._localeChainCache||(this._localeChainCache={});var n=this._localeChainCache[e];if(!n){t||(t=this.fallbackLocale),n=[];for(var r,o=[e];c(o);)o=this._appendBlockToChain(n,o,t);(o=f(r=c(t)?t:l(t)?t.default?t.default:null:t)?[r]:r)&&this._appendBlockToChain(n,o,null),this._localeChainCache[e]=n}return n},ne.prototype._translate=function(e,t,n,r,o,c,l){for(var f,d=this._getLocaleChain(t,n),i=0;i<d.length;i++){var h=d[i];if(!_(f=this._interpolate(h,e[h],r,o,c,l,[r])))return f}return null},ne.prototype._t=function(e,t,n,r){for(var o,c=[],l=arguments.length-4;l-- >0;)c[l]=arguments[l+4];if(!e)return"";var f,d=y.apply(void 0,c);this._escapeParameterHtml&&(d.params=(null!=(f=d.params)&&Object.keys(f).forEach((function(e){"string"==typeof f[e]&&(f[e]=f[e].replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"))})),f));var h=d.locale||t,v=this._translate(n,h,this.fallbackLocale,e,r,"string",d.params);if(this._isFallbackRoot(v)){if(!this._root)throw Error("unexpected error");return(o=this._root).$t.apply(o,[e].concat(c))}return v=this._warnDefault(h,e,v,r,c,"string"),this._postTranslation&&null!=v&&(v=this._postTranslation(v,e)),v},ne.prototype.t=function(e){for(var t,n=[],r=arguments.length-1;r-- >0;)n[r]=arguments[r+1];return(t=this)._t.apply(t,[e,this.locale,this._getMessages(),null].concat(n))},ne.prototype._i=function(e,t,n,r,o){var c=this._translate(n,t,this.fallbackLocale,e,r,"raw",o);if(this._isFallbackRoot(c)){if(!this._root)throw Error("unexpected error");return this._root.$i18n.i(e,t,o)}return this._warnDefault(t,e,c,r,[o],"raw")},ne.prototype.i=function(e,t,n){return e?(f(t)||(t=this.locale),this._i(e,t,this._getMessages(),null,n)):""},ne.prototype._tc=function(e,t,n,r,o){for(var c,l=[],f=arguments.length-5;f-- >0;)l[f]=arguments[f+5];if(!e)return"";void 0===o&&(o=1);var d={count:o,n:o},h=y.apply(void 0,l);return h.params=Object.assign(d,h.params),l=null===h.locale?[h.params]:[h.locale,h.params],this.fetchChoice((c=this)._t.apply(c,[e,t,n,r].concat(l)),o)},ne.prototype.fetchChoice=function(e,t){if(!e||!f(e))return null;var n=e.split("|");return n[t=this.getChoiceIndex(t,n.length)]?n[t].trim():e},ne.prototype.tc=function(e,t){for(var n,r=[],o=arguments.length-2;o-- >0;)r[o]=arguments[o+2];return(n=this)._tc.apply(n,[e,this.locale,this._getMessages(),null,t].concat(r))},ne.prototype._te=function(e,t,n){for(var r=[],o=arguments.length-3;o-- >0;)r[o]=arguments[o+3];var c=y.apply(void 0,r).locale||t;return this._exist(n[c],e)},ne.prototype.te=function(e,t){return this._te(e,this.locale,this._getMessages(),t)},ne.prototype.getLocaleMessage=function(e){return E(this._vm.messages[e]||{})},ne.prototype.setLocaleMessage=function(e,t){"warn"!==this._warnHtmlInMessage&&"error"!==this._warnHtmlInMessage||this._checkLocaleMessage(e,this._warnHtmlInMessage,t),this._vm.$set(this._vm.messages,e,t)},ne.prototype.mergeLocaleMessage=function(e,t){"warn"!==this._warnHtmlInMessage&&"error"!==this._warnHtmlInMessage||this._checkLocaleMessage(e,this._warnHtmlInMessage,t),this._vm.$set(this._vm.messages,e,S(void 0!==this._vm.messages[e]&&Object.keys(this._vm.messages[e]).length?Object.assign({},this._vm.messages[e]):{},t))},ne.prototype.getDateTimeFormat=function(e){return E(this._vm.dateTimeFormats[e]||{})},ne.prototype.setDateTimeFormat=function(e,t){this._vm.$set(this._vm.dateTimeFormats,e,t),this._clearDateTimeFormat(e,t)},ne.prototype.mergeDateTimeFormat=function(e,t){this._vm.$set(this._vm.dateTimeFormats,e,S(this._vm.dateTimeFormats[e]||{},t)),this._clearDateTimeFormat(e,t)},ne.prototype._clearDateTimeFormat=function(e,t){for(var n in t){var r=e+"__"+n;this._dateTimeFormatters.hasOwnProperty(r)&&delete this._dateTimeFormatters[r]}},ne.prototype._localizeDateTime=function(e,t,n,r,o){for(var c=t,l=r[c],f=this._getLocaleChain(t,n),i=0;i<f.length;i++){var d=f[i];if(c=d,!_(l=r[d])&&!_(l[o]))break}if(_(l)||_(l[o]))return null;var h=l[o],v=c+"__"+o,m=this._dateTimeFormatters[v];return m||(m=this._dateTimeFormatters[v]=new Intl.DateTimeFormat(c,h)),m.format(e)},ne.prototype._d=function(e,t,n){if(!n)return new Intl.DateTimeFormat(t).format(e);var r=this._localizeDateTime(e,t,this.fallbackLocale,this._getDateTimeFormats(),n);if(this._isFallbackRoot(r)){if(!this._root)throw Error("unexpected error");return this._root.$i18n.d(e,n,t)}return r||""},ne.prototype.d=function(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];var r=this.locale,o=null;return 1===t.length?f(t[0])?o=t[0]:l(t[0])&&(t[0].locale&&(r=t[0].locale),t[0].key&&(o=t[0].key)):2===t.length&&(f(t[0])&&(o=t[0]),f(t[1])&&(r=t[1])),this._d(e,r,o)},ne.prototype.getNumberFormat=function(e){return E(this._vm.numberFormats[e]||{})},ne.prototype.setNumberFormat=function(e,t){this._vm.$set(this._vm.numberFormats,e,t),this._clearNumberFormat(e,t)},ne.prototype.mergeNumberFormat=function(e,t){this._vm.$set(this._vm.numberFormats,e,S(this._vm.numberFormats[e]||{},t)),this._clearNumberFormat(e,t)},ne.prototype._clearNumberFormat=function(e,t){for(var n in t){var r=e+"__"+n;this._numberFormatters.hasOwnProperty(r)&&delete this._numberFormatters[r]}},ne.prototype._getNumberFormatter=function(e,t,n,r,o,c){for(var l=t,f=r[l],d=this._getLocaleChain(t,n),i=0;i<d.length;i++){var h=d[i];if(l=h,!_(f=r[h])&&!_(f[o]))break}if(_(f)||_(f[o]))return null;var v,m=f[o];if(c)v=new Intl.NumberFormat(l,Object.assign({},m,c));else{var y=l+"__"+o;(v=this._numberFormatters[y])||(v=this._numberFormatters[y]=new Intl.NumberFormat(l,m))}return v},ne.prototype._n=function(e,t,n,r){if(!ne.availabilities.numberFormat)return"";if(!n)return(r?new Intl.NumberFormat(t,r):new Intl.NumberFormat(t)).format(e);var o=this._getNumberFormatter(e,t,this.fallbackLocale,this._getNumberFormats(),n,r),c=o&&o.format(e);if(this._isFallbackRoot(c)){if(!this._root)throw Error("unexpected error");return this._root.$i18n.n(e,Object.assign({},{key:n,locale:t},r))}return c||""},ne.prototype.n=function(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];var o=this.locale,c=null,d=null;return 1===t.length?f(t[0])?c=t[0]:l(t[0])&&(t[0].locale&&(o=t[0].locale),t[0].key&&(c=t[0].key),d=Object.keys(t[0]).reduce((function(e,n){var o;return w(r,n)?Object.assign({},e,((o={})[n]=t[0][n],o)):e}),null)):2===t.length&&(f(t[0])&&(c=t[0]),f(t[1])&&(o=t[1])),this._n(e,o,c,d)},ne.prototype._ntp=function(e,t,n,r){if(!ne.availabilities.numberFormat)return[];if(!n)return(r?new Intl.NumberFormat(t,r):new Intl.NumberFormat(t)).formatToParts(e);var o=this._getNumberFormatter(e,t,this.fallbackLocale,this._getNumberFormats(),n,r),c=o&&o.formatToParts(e);if(this._isFallbackRoot(c)){if(!this._root)throw Error("unexpected error");return this._root.$i18n._ntp(e,t,n,r)}return c||[]},Object.defineProperties(ne.prototype,re),Object.defineProperty(ne,"availabilities",{get:function(){if(!X){var e="undefined"!=typeof Intl;X={dateTimeFormat:e&&void 0!==Intl.DateTimeFormat,numberFormat:e&&void 0!==Intl.NumberFormat}}return X}}),ne.install=U,ne.version="8.27.2",t.a=ne},351:function(e,t,n){"use strict";(function(e){var r=n(642),o=n(643),c=n(644);function l(){return d.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function f(e,t){if(l()<t)throw new RangeError("Invalid typed array length");return d.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=d.prototype:(null===e&&(e=new d(t)),e.length=t),e}function d(e,t,n){if(!(d.TYPED_ARRAY_SUPPORT||this instanceof d))return new d(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return _(this,e)}return h(this,e,t,n)}function h(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);d.TYPED_ARRAY_SUPPORT?(e=t).__proto__=d.prototype:e=m(e,t);return e}(e,t,n,r):"string"==typeof t?function(e,t,n){"string"==typeof n&&""!==n||(n="utf8");if(!d.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|E(t,n);e=f(e,r);var o=e.write(t,n);o!==r&&(e=e.slice(0,o));return e}(e,t,n):function(e,t){if(d.isBuffer(t)){var n=0|y(t.length);return 0===(e=f(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?f(e,0):m(e,t);if("Buffer"===t.type&&c(t.data))return m(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function v(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function _(e,t){if(v(t),e=f(e,t<0?0:0|y(t)),!d.TYPED_ARRAY_SUPPORT)for(var i=0;i<t;++i)e[i]=0;return e}function m(e,t){var n=t.length<0?0:0|y(t.length);e=f(e,n);for(var i=0;i<n;i+=1)e[i]=255&t[i];return e}function y(e){if(e>=l())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+l().toString(16)+" bytes");return 0|e}function E(e,t){if(d.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return X(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return Z(e).length;default:if(r)return X(e).length;t=(""+t).toLowerCase(),r=!0}}function w(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return j(this,t,n);case"utf8":case"utf-8":return M(this,t,n);case"ascii":return x(this,t,n);case"latin1":case"binary":return N(this,t,n);case"base64":return C(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function T(b,e,t){var i=b[e];b[e]=b[t],b[t]=i}function I(e,t,n,r,o){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof t&&(t=d.from(t,r)),d.isBuffer(t))return 0===t.length?-1:S(e,t,n,r,o);if("number"==typeof t)return t&=255,d.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):S(e,[t],n,r,o);throw new TypeError("val must be string, number or Buffer")}function S(e,t,n,r,o){var i,c=1,l=e.length,f=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;c=2,l/=2,f/=2,n/=2}function d(e,i){return 1===c?e[i]:e.readUInt16BE(i*c)}if(o){var h=-1;for(i=n;i<l;i++)if(d(e,i)===d(t,-1===h?0:i-h)){if(-1===h&&(h=i),i-h+1===f)return h*c}else-1!==h&&(i-=i-h),h=-1}else for(n+f>l&&(n=l-f),i=n;i>=0;i--){for(var v=!0,_=0;_<f;_++)if(d(e,i+_)!==d(t,_)){v=!1;break}if(v)return i}return-1}function O(e,t,n,r){n=Number(n)||0;var o=e.length-n;r?(r=Number(r))>o&&(r=o):r=o;var c=t.length;if(c%2!=0)throw new TypeError("Invalid hex string");r>c/2&&(r=c/2);for(var i=0;i<r;++i){var l=parseInt(t.substr(2*i,2),16);if(isNaN(l))return i;e[n+i]=l}return i}function A(e,t,n,r){return K(X(t,e.length-n),e,n,r)}function R(e,t,n,r){return K(function(e){for(var t=[],i=0;i<e.length;++i)t.push(255&e.charCodeAt(i));return t}(t),e,n,r)}function k(e,t,n,r){return R(e,t,n,r)}function D(e,t,n,r){return K(Z(t),e,n,r)}function P(e,t,n,r){return K(function(e,t){for(var n,r,o,c=[],i=0;i<e.length&&!((t-=2)<0);++i)r=(n=e.charCodeAt(i))>>8,o=n%256,c.push(o),c.push(r);return c}(t,e.length-n),e,n,r)}function C(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function M(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,c,l,f,d=e[i],h=null,v=d>239?4:d>223?3:d>191?2:1;if(i+v<=n)switch(v){case 1:d<128&&(h=d);break;case 2:128==(192&(o=e[i+1]))&&(f=(31&d)<<6|63&o)>127&&(h=f);break;case 3:o=e[i+1],c=e[i+2],128==(192&o)&&128==(192&c)&&(f=(15&d)<<12|(63&o)<<6|63&c)>2047&&(f<55296||f>57343)&&(h=f);break;case 4:o=e[i+1],c=e[i+2],l=e[i+3],128==(192&o)&&128==(192&c)&&128==(192&l)&&(f=(15&d)<<18|(63&o)<<12|(63&c)<<6|63&l)>65535&&f<1114112&&(h=f)}null===h?(h=65533,v=1):h>65535&&(h-=65536,r.push(h>>>10&1023|55296),h=56320|1023&h),r.push(h),i+=v}return function(e){var t=e.length;if(t<=L)return String.fromCharCode.apply(String,e);var n="",i=0;for(;i<t;)n+=String.fromCharCode.apply(String,e.slice(i,i+=L));return n}(r)}t.Buffer=d,t.SlowBuffer=function(e){+e!=e&&(e=0);return d.alloc(+e)},t.INSPECT_MAX_BYTES=50,d.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=l(),d.poolSize=8192,d._augment=function(e){return e.__proto__=d.prototype,e},d.from=function(e,t,n){return h(null,e,t,n)},d.TYPED_ARRAY_SUPPORT&&(d.prototype.__proto__=Uint8Array.prototype,d.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&d[Symbol.species]===d&&Object.defineProperty(d,Symbol.species,{value:null,configurable:!0})),d.alloc=function(e,t,n){return function(e,t,n,r){return v(t),t<=0?f(e,t):void 0!==n?"string"==typeof r?f(e,t).fill(n,r):f(e,t).fill(n):f(e,t)}(null,e,t,n)},d.allocUnsafe=function(e){return _(null,e)},d.allocUnsafeSlow=function(e){return _(null,e)},d.isBuffer=function(b){return!(null==b||!b._isBuffer)},d.compare=function(a,b){if(!d.isBuffer(a)||!d.isBuffer(b))throw new TypeError("Arguments must be Buffers");if(a===b)return 0;for(var e=a.length,t=b.length,i=0,n=Math.min(e,t);i<n;++i)if(a[i]!==b[i]){e=a[i],t=b[i];break}return e<t?-1:t<e?1:0},d.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},d.concat=function(e,t){if(!c(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return d.alloc(0);var i;if(void 0===t)for(t=0,i=0;i<e.length;++i)t+=e[i].length;var n=d.allocUnsafe(t),r=0;for(i=0;i<e.length;++i){var o=e[i];if(!d.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,r),r+=o.length}return n},d.byteLength=E,d.prototype._isBuffer=!0,d.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var i=0;i<e;i+=2)T(this,i,i+1);return this},d.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var i=0;i<e;i+=4)T(this,i,i+3),T(this,i+1,i+2);return this},d.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var i=0;i<e;i+=8)T(this,i,i+7),T(this,i+1,i+6),T(this,i+2,i+5),T(this,i+3,i+4);return this},d.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?M(this,0,e):w.apply(this,arguments)},d.prototype.equals=function(b){if(!d.isBuffer(b))throw new TypeError("Argument must be a Buffer");return this===b||0===d.compare(this,b)},d.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},d.prototype.compare=function(e,t,n,r,o){if(!d.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),t<0||n>e.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&t>=n)return 0;if(r>=o)return-1;if(t>=n)return 1;if(this===e)return 0;for(var c=(o>>>=0)-(r>>>=0),l=(n>>>=0)-(t>>>=0),f=Math.min(c,l),h=this.slice(r,o),v=e.slice(t,n),i=0;i<f;++i)if(h[i]!==v[i]){c=h[i],l=v[i];break}return c<l?-1:l<c?1:0},d.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},d.prototype.indexOf=function(e,t,n){return I(this,e,t,n,!0)},d.prototype.lastIndexOf=function(e,t,n){return I(this,e,t,n,!1)},d.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var c=!1;;)switch(r){case"hex":return O(this,e,t,n);case"utf8":case"utf-8":return A(this,e,t,n);case"ascii":return R(this,e,t,n);case"latin1":case"binary":return k(this,e,t,n);case"base64":return D(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,e,t,n);default:if(c)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),c=!0}},d.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var L=4096;function x(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function N(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function j(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var o="",i=t;i<n;++i)o+=Y(e[i]);return o}function F(e,t,n){for(var r=e.slice(t,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function U(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function G(e,t,n,r,o,c){if(!d.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<c)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function B(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function $(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function z(e,t,n,r,o,c){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function V(e,t,n,r,c){return c||z(e,0,n,4),o.write(e,t,n,r,23,4),n+4}function W(e,t,n,r,c){return c||z(e,0,n,8),o.write(e,t,n,r,52,8),n+8}d.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),d.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=d.prototype;else{var o=t-e;n=new d(o,void 0);for(var i=0;i<o;++i)n[i]=this[i+e]}return n},d.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||U(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r},d.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||U(e,t,this.length);for(var r=this[e+--t],o=1;t>0&&(o*=256);)r+=this[e+--t]*o;return r},d.prototype.readUInt8=function(e,t){return t||U(e,1,this.length),this[e]},d.prototype.readUInt16LE=function(e,t){return t||U(e,2,this.length),this[e]|this[e+1]<<8},d.prototype.readUInt16BE=function(e,t){return t||U(e,2,this.length),this[e]<<8|this[e+1]},d.prototype.readUInt32LE=function(e,t){return t||U(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},d.prototype.readUInt32BE=function(e,t){return t||U(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},d.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||U(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r>=(o*=128)&&(r-=Math.pow(2,8*t)),r},d.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||U(e,t,this.length);for(var i=t,r=1,o=this[e+--i];i>0&&(r*=256);)o+=this[e+--i]*r;return o>=(r*=128)&&(o-=Math.pow(2,8*t)),o},d.prototype.readInt8=function(e,t){return t||U(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},d.prototype.readInt16LE=function(e,t){t||U(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},d.prototype.readInt16BE=function(e,t){t||U(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},d.prototype.readInt32LE=function(e,t){return t||U(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},d.prototype.readInt32BE=function(e,t){return t||U(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},d.prototype.readFloatLE=function(e,t){return t||U(e,4,this.length),o.read(this,e,!0,23,4)},d.prototype.readFloatBE=function(e,t){return t||U(e,4,this.length),o.read(this,e,!1,23,4)},d.prototype.readDoubleLE=function(e,t){return t||U(e,8,this.length),o.read(this,e,!0,52,8)},d.prototype.readDoubleBE=function(e,t){return t||U(e,8,this.length),o.read(this,e,!1,52,8)},d.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||G(this,e,t,n,Math.pow(2,8*n)-1,0);var o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n},d.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||G(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},d.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||G(this,e,t,1,255,0),d.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},d.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||G(this,e,t,2,65535,0),d.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):B(this,e,t,!0),t+2},d.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||G(this,e,t,2,65535,0),d.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):B(this,e,t,!1),t+2},d.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||G(this,e,t,4,4294967295,0),d.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):$(this,e,t,!0),t+4},d.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||G(this,e,t,4,4294967295,0),d.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):$(this,e,t,!1),t+4},d.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);G(this,e,t,n,o-1,-o)}var i=0,c=1,sub=0;for(this[t]=255&e;++i<n&&(c*=256);)e<0&&0===sub&&0!==this[t+i-1]&&(sub=1),this[t+i]=(e/c>>0)-sub&255;return t+n},d.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);G(this,e,t,n,o-1,-o)}var i=n-1,c=1,sub=0;for(this[t+i]=255&e;--i>=0&&(c*=256);)e<0&&0===sub&&0!==this[t+i+1]&&(sub=1),this[t+i]=(e/c>>0)-sub&255;return t+n},d.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||G(this,e,t,1,127,-128),d.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},d.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||G(this,e,t,2,32767,-32768),d.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):B(this,e,t,!0),t+2},d.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||G(this,e,t,2,32767,-32768),d.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):B(this,e,t,!1),t+2},d.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||G(this,e,t,4,2147483647,-2147483648),d.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):$(this,e,t,!0),t+4},d.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||G(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),d.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):$(this,e,t,!1),t+4},d.prototype.writeFloatLE=function(e,t,n){return V(this,e,t,!0,n)},d.prototype.writeFloatBE=function(e,t,n){return V(this,e,t,!1,n)},d.prototype.writeDoubleLE=function(e,t,n){return W(this,e,t,!0,n)},d.prototype.writeDoubleBE=function(e,t,n){return W(this,e,t,!1,n)},d.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;i>=0;--i)e[i+t]=this[i+n];else if(o<1e3||!d.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},d.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var code=e.charCodeAt(0);code<256&&(e=code)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!d.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(i=t;i<n;++i)this[i]=e;else{var o=d.isBuffer(e)?e:X(new d(e,r).toString()),c=o.length;for(i=0;i<n-t;++i)this[i+t]=o[i%c]}return this};var H=/[^+\/0-9A-Za-z-_]/g;function Y(e){return e<16?"0"+e.toString(16):e.toString(16)}function X(e,t){var n;t=t||1/0;for(var r=e.length,o=null,c=[],i=0;i<r;++i){if((n=e.charCodeAt(i))>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&c.push(239,191,189);continue}if(i+1===r){(t-=3)>-1&&c.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&c.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&c.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;c.push(n)}else if(n<2048){if((t-=2)<0)break;c.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;c.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;c.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return c}function Z(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(H,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function K(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}}).call(this,n(59))},37:function(e,t,n){"use strict";n.d(t,"a",(function(){return v.c})),n.d(t,"b",(function(){return G})),n.d(t,"c",(function(){return T})),n.d(t,"d",(function(){return R})),n.d(t,"e",(function(){return k})),n.d(t,"f",(function(){return S})),n.d(t,"g",(function(){return x})),n.d(t,"h",(function(){return A})),n.d(t,"i",(function(){return P})),n.d(t,"j",(function(){return M})),n.d(t,"k",(function(){return L})),n.d(t,"l",(function(){return D})),n.d(t,"m",(function(){return C})),n.d(t,"n",(function(){return O})),n.d(t,"o",(function(){return W})),n.d(t,"p",(function(){return z})),n.d(t,"q",(function(){return V})),n.d(t,"r",(function(){return B})),n.d(t,"s",(function(){return $})),n.d(t,"t",(function(){return Y})),n.d(t,"u",(function(){return H})),n.d(t,"v",(function(){return X}));var r=n(58);const o=[];var c;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(c||(c={}));const l={debug:c.DEBUG,verbose:c.VERBOSE,info:c.INFO,warn:c.WARN,error:c.ERROR,silent:c.SILENT},f=c.INFO,d={[c.DEBUG]:"log",[c.VERBOSE]:"log",[c.INFO]:"info",[c.WARN]:"warn",[c.ERROR]:"error"},h=(e,t,...n)=>{if(t<e.logLevel)return;const r=(new Date).toISOString(),o=d[t];if(!o)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[o](`[${r}]  ${e.name}:`,...n)};var v=n(25),_=n(67);class m{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const component=e.getComponent();return"VERSION"===(null==component?void 0:component.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const y="@firebase/app",E="0.10.2",w=new class{constructor(e){this.name=e,this._logLevel=f,this._logHandler=h,this._userLogHandler=null,o.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in c))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?l[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,c.DEBUG,...e),this._logHandler(this,c.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,c.VERBOSE,...e),this._logHandler(this,c.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,c.INFO,...e),this._logHandler(this,c.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,c.WARN,...e),this._logHandler(this,c.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,c.ERROR,...e),this._logHandler(this,c.ERROR,...e)}}("@firebase/app"),T="[DEFAULT]",I={[y]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},S=new Map,O=new Map,A=new Map;function R(e,component){try{e.container.addComponent(component)}catch(t){w.debug(`Component ${component.name} failed to register with FirebaseApp ${e.name}`,t)}}function k(e,component){e.container.addOrOverwriteComponent(component)}function D(component){const e=component.name;if(A.has(e))return w.debug(`There were multiple attempts to register component ${e}.`),!1;A.set(e,component);for(const e of S.values())R(e,component);for(const e of O.values())R(e,component);return!0}function P(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function C(e,t,n=T){P(e,t).clearInstance(n)}function M(e){return void 0!==e.options}function L(e){return void 0!==e.settings}function x(){A.clear()}const N={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},j=new v.b("app","Firebase",N);class F{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new r.a("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw j.create("app-deleted",{appName:this._name})}}class U extends F{constructor(e,t,n,r){const o=void 0!==t.automaticDataCollectionEnabled&&t.automaticDataCollectionEnabled,c={name:n,automaticDataCollectionEnabled:o};if(void 0!==e.apiKey)super(e,c,r);else{super(e.options,c,r)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:o},t),this._finalizationRegistry=new FinalizationRegistry((()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,t.releaseOnDeref=void 0,H(y,E,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,void 0!==e&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){W(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw j.create("server-app-deleted")}}const G="10.11.1";function B(e,t={}){let n=e;if("object"!=typeof t){t={name:t}}const o=Object.assign({name:T,automaticDataCollectionEnabled:!1},t),c=o.name;if("string"!=typeof c||!c)throw j.create("bad-app-name",{appName:String(c)});if(n||(n=Object(v.g)()),!n)throw j.create("no-options");const l=S.get(c);if(l){if(Object(v.f)(n,l.options)&&Object(v.f)(o,l.config))return l;throw j.create("duplicate-app",{appName:c})}const f=new r.b(c);for(const component of A.values())f.addComponent(component);const d=new F(n,o,f);return S.set(c,d),d}function $(e,t){if(Object(v.i)())throw j.create("invalid-server-app-environment");let n;void 0===t.automaticDataCollectionEnabled&&(t.automaticDataCollectionEnabled=!1),n=M(e)?e.options:e;const o=Object.assign(Object.assign({},t),n);void 0!==o.releaseOnDeref&&delete o.releaseOnDeref;if(void 0!==t.releaseOnDeref&&"undefined"==typeof FinalizationRegistry)throw j.create("finalization-registry-not-supported",{});const c=""+(s=JSON.stringify(o),[...s].reduce(((e,t)=>Math.imul(31,e)+t.charCodeAt(0)|0),0));var s;const l=O.get(c);if(l)return l.incRefCount(t.releaseOnDeref),l;const f=new r.b(c);for(const component of A.values())f.addComponent(component);const d=new U(n,t,c,f);return O.set(c,d),d}function z(e=T){const t=S.get(e);if(!t&&e===T&&Object(v.g)())return B();if(!t)throw j.create("no-app",{appName:e});return t}function V(){return Array.from(S.values())}async function W(e){let t=!1;const n=e.name;if(S.has(n))t=!0,S.delete(n);else if(O.has(n)){e.decRefCount()<=0&&(O.delete(n),t=!0)}t&&(await Promise.all(e.container.getProviders().map((e=>e.delete()))),e.isDeleted=!0)}function H(e,t,n){var o;let c=null!==(o=I[e])&&void 0!==o?o:e;n&&(c+=`-${n}`);const l=c.match(/\s|\//),f=t.match(/\s|\//);if(l||f){const e=[`Unable to register library "${c}" with version "${t}":`];return l&&e.push(`library name "${c}" contains illegal characters (whitespace or "/")`),l&&f&&e.push("and"),f&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void w.warn(e.join(" "))}D(new r.a(`${c}-version`,(()=>({library:c,version:t})),"VERSION"))}function Y(e,t){if(null!==e&&"function"!=typeof e)throw j.create("invalid-log-argument");!function(e,t){for(const n of o){let r=null;t&&t.level&&(r=l[t.level]),n.userLogHandler=null===e?null:(t,n,...o)=>{const l=o.map((e=>{if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(e){return null}})).filter((e=>e)).join(" ");n>=(null!=r?r:t.logLevel)&&e({level:c[n].toLowerCase(),message:l,args:o,type:t.name})}}}(e,t)}function X(e){var t;t=e,o.forEach((e=>{e.setLogLevel(t)}))}const Z="firebase-heartbeat-database",K=1,Q="firebase-heartbeat-store";let J=null;function ee(){return J||(J=Object(_.b)(Z,K,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Q)}catch(e){console.warn(e)}}}).catch((e=>{throw j.create("idb-open",{originalErrorMessage:e.message})}))),J}async function te(e,t){try{const n=(await ee()).transaction(Q,"readwrite"),r=n.objectStore(Q);await r.put(t,ne(e)),await n.done}catch(e){if(e instanceof v.c)w.warn(e.message);else{const t=j.create("idb-set",{originalErrorMessage:null==e?void 0:e.message});w.warn(t.message)}}}function ne(e){return`${e.name}!${e.options.appId}`}class re{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new oe(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=ie();if((null!=(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||(this._heartbeatsCache=await this._heartbeatsCachePromise,null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))&&this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=ie(),{heartbeatsToSend:n,unsentEntries:r}=function(e,t=1024){const n=[];let r=e.slice();for(const o of e){const e=n.find((e=>e.agent===o.agent));if(e){if(e.dates.push(o.date),ae(n)>t){e.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),ae(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),o=Object(v.e)(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}}function ie(){return(new Date).toISOString().substring(0,10)}class oe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Object(v.j)()&&Object(v.k)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await ee()).transaction(Q),n=await t.objectStore(Q).get(ne(e));return await t.done,n}catch(e){if(e instanceof v.c)w.warn(e.message);else{const t=j.create("idb-get",{originalErrorMessage:null==e?void 0:e.message});w.warn(t.message)}}}(this.app);return(null==e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return te(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return te(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function ae(e){return Object(v.e)(JSON.stringify({version:2,heartbeats:e})).length}var se;se="",D(new r.a("platform-logger",(e=>new m(e)),"PRIVATE")),D(new r.a("heartbeat",(e=>new re(e)),"PRIVATE")),H(y,E,se),H(y,E,"esm2017"),H("fire-js","")},408:function(e,t,n){(function(e,n){var r="__lodash_hash_undefined__",o=9007199254740991,c="[object Arguments]",l="[object AsyncFunction]",f="[object Function]",d="[object GeneratorFunction]",h="[object Null]",v="[object Object]",_="[object Proxy]",m="[object Undefined]",y=/^\[object .+?Constructor\]$/,E=/^(?:0|[1-9]\d*)$/,w={};w["[object Float32Array]"]=w["[object Float64Array]"]=w["[object Int8Array]"]=w["[object Int16Array]"]=w["[object Int32Array]"]=w["[object Uint8Array]"]=w["[object Uint8ClampedArray]"]=w["[object Uint16Array]"]=w["[object Uint32Array]"]=!0,w[c]=w["[object Array]"]=w["[object ArrayBuffer]"]=w["[object Boolean]"]=w["[object DataView]"]=w["[object Date]"]=w["[object Error]"]=w[f]=w["[object Map]"]=w["[object Number]"]=w[v]=w["[object RegExp]"]=w["[object Set]"]=w["[object String]"]=w["[object WeakMap]"]=!1;var T="object"==typeof e&&e&&e.Object===Object&&e,I="object"==typeof self&&self&&self.Object===Object&&self,S=T||I||Function("return this")(),O=t&&!t.nodeType&&t,A=O&&"object"==typeof n&&n&&!n.nodeType&&n,R=A&&A.exports===O,k=R&&T.process,D=function(){try{var e=A&&A.require&&A.require("util").types;return e||k&&k.binding&&k.binding("util")}catch(e){}}(),P=D&&D.isTypedArray;var C,M,L,x=Array.prototype,N=Function.prototype,j=Object.prototype,F=S["__core-js_shared__"],U=N.toString,G=j.hasOwnProperty,B=(C=/[^.]+$/.exec(F&&F.keys&&F.keys.IE_PROTO||""))?"Symbol(src)_1."+C:"",$=j.toString,z=U.call(Object),V=RegExp("^"+U.call(G).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),W=R?S.Buffer:void 0,H=S.Symbol,Y=S.Uint8Array,X=W?W.allocUnsafe:void 0,Z=(M=Object.getPrototypeOf,L=Object,function(e){return M(L(e))}),K=Object.create,Q=j.propertyIsEnumerable,J=x.splice,ee=H?H.toStringTag:void 0,te=function(){try{var e=Ae(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),ne=W?W.isBuffer:void 0,re=Math.max,ie=Date.now,oe=Ae(S,"Map"),ae=Ae(Object,"create"),se=function(){function object(){}return function(e){if(!Ue(e))return{};if(K)return K(e);object.prototype=e;var t=new object;return object.prototype=void 0,t}}();function ue(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ce(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function le(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function fe(e){var data=this.__data__=new ce(e);this.size=data.size}function de(e,t){var n=Le(e),r=!n&&Me(e),o=!n&&!r&&Ne(e),c=!n&&!r&&!o&&Be(e),l=n||r||o||c,f=l?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],d=f.length;for(var h in e)!t&&!G.call(e,h)||l&&("length"==h||o&&("offset"==h||"parent"==h)||c&&("buffer"==h||"byteLength"==h||"byteOffset"==h)||Re(h,d))||f.push(h);return f}function pe(object,e,t){(void 0!==t&&!Ce(object[e],t)||void 0===t&&!(e in object))&&ve(object,e,t)}function he(object,e,t){var n=object[e];G.call(object,e)&&Ce(n,t)&&(void 0!==t||e in object)||ve(object,e,t)}function ge(e,t){for(var n=e.length;n--;)if(Ce(e[n][0],t))return n;return-1}function ve(object,e,t){"__proto__"==e&&te?te(object,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):object[e]=t}ue.prototype.clear=function(){this.__data__=ae?ae(null):{},this.size=0},ue.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ue.prototype.get=function(e){var data=this.__data__;if(ae){var t=data[e];return t===r?void 0:t}return G.call(data,e)?data[e]:void 0},ue.prototype.has=function(e){var data=this.__data__;return ae?void 0!==data[e]:G.call(data,e)},ue.prototype.set=function(e,t){var data=this.__data__;return this.size+=this.has(e)?0:1,data[e]=ae&&void 0===t?r:t,this},ce.prototype.clear=function(){this.__data__=[],this.size=0},ce.prototype.delete=function(e){var data=this.__data__,t=ge(data,e);return!(t<0)&&(t==data.length-1?data.pop():J.call(data,t,1),--this.size,!0)},ce.prototype.get=function(e){var data=this.__data__,t=ge(data,e);return t<0?void 0:data[t][1]},ce.prototype.has=function(e){return ge(this.__data__,e)>-1},ce.prototype.set=function(e,t){var data=this.__data__,n=ge(data,e);return n<0?(++this.size,data.push([e,t])):data[n][1]=t,this},le.prototype.clear=function(){this.size=0,this.__data__={hash:new ue,map:new(oe||ce),string:new ue}},le.prototype.delete=function(e){var t=Oe(this,e).delete(e);return this.size-=t?1:0,t},le.prototype.get=function(e){return Oe(this,e).get(e)},le.prototype.has=function(e){return Oe(this,e).has(e)},le.prototype.set=function(e,t){var data=Oe(this,e),n=data.size;return data.set(e,t),this.size+=data.size==n?0:1,this},fe.prototype.clear=function(){this.__data__=new ce,this.size=0},fe.prototype.delete=function(e){var data=this.__data__,t=data.delete(e);return this.size=data.size,t},fe.prototype.get=function(e){return this.__data__.get(e)},fe.prototype.has=function(e){return this.__data__.has(e)},fe.prototype.set=function(e,t){var data=this.__data__;if(data instanceof ce){var n=data.__data__;if(!oe||n.length<199)return n.push([e,t]),this.size=++data.size,this;data=this.__data__=new le(n)}return data.set(e,t),this.size=data.size,this};var _e,me=function(object,e,t){for(var n=-1,r=Object(object),o=t(object),c=o.length;c--;){var l=o[_e?c:++n];if(!1===e(r[l],l,r))break}return object};function ye(e){return null==e?void 0===e?m:h:ee&&ee in Object(e)?function(e){var t=G.call(e,ee),n=e[ee];try{e[ee]=void 0;var r=!0}catch(e){}var o=$.call(e);r&&(t?e[ee]=n:delete e[ee]);return o}(e):function(e){return $.call(e)}(e)}function be(e){return Ge(e)&&ye(e)==c}function Ee(e){return!(!Ue(e)||function(e){return!!B&&B in e}(e))&&(je(e)?V:y).test(function(e){if(null!=e){try{return U.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))}function we(object){if(!Ue(object))return function(object){var e=[];if(null!=object)for(var t in Object(object))e.push(t);return e}(object);var e=ke(object),t=[];for(var n in object)("constructor"!=n||!e&&G.call(object,n))&&t.push(n);return t}function Te(object,source,e,t,n){object!==source&&me(source,(function(r,o){if(n||(n=new fe),Ue(r))!function(object,source,e,t,n,r,o){var c=De(object,e),l=De(source,e),f=o.get(l);if(f)return void pe(object,e,f);var d=r?r(c,l,e+"",object,source,o):void 0,h=void 0===d;if(h){var _=Le(l),m=!_&&Ne(l),y=!_&&!m&&Be(l);d=l,_||m||y?Le(c)?d=c:Ge(S=c)&&xe(S)?d=function(source,e){var t=-1,n=source.length;e||(e=Array(n));for(;++t<n;)e[t]=source[t];return e}(c):m?(h=!1,d=function(e,t){if(t)return e.slice();var n=e.length,r=X?X(n):new e.constructor(n);return e.copy(r),r}(l,!0)):y?(h=!1,E=l,w=!0?(T=E.buffer,I=new T.constructor(T.byteLength),new Y(I).set(new Y(T)),I):E.buffer,d=new E.constructor(w,E.byteOffset,E.length)):d=[]:function(e){if(!Ge(e)||ye(e)!=v)return!1;var t=Z(e);if(null===t)return!0;var n=G.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&U.call(n)==z}(l)||Me(l)?(d=c,Me(c)?d=function(e){return function(source,e,object,t){var n=!object;object||(object={});var r=-1,o=e.length;for(;++r<o;){var c=e[r],l=t?t(object[c],source[c],c,object,source):void 0;void 0===l&&(l=source[c]),n?ve(object,c,l):he(object,c,l)}return object}(e,$e(e))}(c):Ue(c)&&!je(c)||(d=function(object){return"function"!=typeof object.constructor||ke(object)?{}:se(Z(object))}(l))):h=!1}var E,w,T,I;var S;h&&(o.set(l,d),n(d,l,t,r,o),o.delete(l));pe(object,e,d)}(object,source,o,e,Te,t,n);else{var c=t?t(De(object,o),r,o+"",object,source,n):void 0;void 0===c&&(c=r),pe(object,o,c)}}),$e)}function Ie(e,t){return Pe(function(e,t,n){return t=re(void 0===t?e.length-1:t,0),function(){for(var r=arguments,o=-1,c=re(r.length-t,0),l=Array(c);++o<c;)l[o]=r[t+o];o=-1;for(var f=Array(t+1);++o<t;)f[o]=r[o];return f[t]=n(l),function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}(e,this,f)}}(e,t,Ve),e+"")}var Se=te?function(e,t){return te(e,"toString",{configurable:!0,enumerable:!1,value:(n=t,function(){return n}),writable:!0});var n}:Ve;function Oe(map,e){var t,n,data=map.__data__;return("string"==(n=typeof(t=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==t:null===t)?data["string"==typeof e?"string":"hash"]:data.map}function Ae(object,e){var t=function(object,e){return null==object?void 0:object[e]}(object,e);return Ee(t)?t:void 0}function Re(e,t){var n=typeof e;return!!(t=null==t?o:t)&&("number"==n||"symbol"!=n&&E.test(e))&&e>-1&&e%1==0&&e<t}function ke(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||j)}function De(object,e){if(("constructor"!==e||"function"!=typeof object[e])&&"__proto__"!=e)return object[e]}var Pe=function(e){var t=0,n=0;return function(){var r=ie(),o=16-(r-n);if(n=r,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(Se);function Ce(e,t){return e===t||e!=e&&t!=t}var Me=be(function(){return arguments}())?be:function(e){return Ge(e)&&G.call(e,"callee")&&!Q.call(e,"callee")},Le=Array.isArray;function xe(e){return null!=e&&Fe(e.length)&&!je(e)}var Ne=ne||function(){return!1};function je(e){if(!Ue(e))return!1;var t=ye(e);return t==f||t==d||t==l||t==_}function Fe(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=o}function Ue(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Ge(e){return null!=e&&"object"==typeof e}var Be=P?function(e){return function(t){return e(t)}}(P):function(e){return Ge(e)&&Fe(e.length)&&!!w[ye(e)]};function $e(object){return xe(object)?de(object,!0):we(object)}var qe,ze=(qe=function(object,source,e){Te(object,source,e)},Ie((function(object,e){var t=-1,n=e.length,r=n>1?e[n-1]:void 0,o=n>2?e[2]:void 0;for(r=qe.length>3&&"function"==typeof r?(n--,r):void 0,o&&function(e,t,object){if(!Ue(object))return!1;var n=typeof t;return!!("number"==n?xe(object)&&Re(t,object.length):"string"==n&&t in object)&&Ce(object[t],e)}(e[0],e[1],o)&&(r=n<3?void 0:r,n=1),object=Object(object);++t<n;){var source=e[t];source&&qe(object,source,t,r)}return object})));function Ve(e){return e}n.exports=ze}).call(this,n(59),n(409)(e))},504:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,c){function l(e){try{d(r.next(e))}catch(e){c(e)}}function f(e){try{d(r.throw(e))}catch(e){c(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,f)}d((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,body){var t,n,r,g,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return g={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function c(c){return function(l){return function(c){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,n&&(r=2&c[0]?n.return:c[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,c[1])).done)return r;switch(n=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(r=o.trys,(r=r.length>0&&r[r.length-1])||6!==c[0]&&2!==c[0])){o=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){o.label=c[1];break}if(6===c[0]&&o.label<r[1]){o.label=r[1],r=c;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(c);break}r[2]&&o.ops.pop(),o.trys.pop();continue}c=body.call(e,o)}catch(e){c=[6,e],n=0}finally{t=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.ReCaptchaInstance=void 0;var c=function(){function e(e,t,n){this.siteKey=e,this.recaptchaID=t,this.recaptcha=n,this.styleContainer=null}return e.prototype.execute=function(e){return r(this,void 0,void 0,(function(){return o(this,(function(t){return[2,this.recaptcha.enterprise?this.recaptcha.enterprise.execute(this.recaptchaID,{action:e}):this.recaptcha.execute(this.recaptchaID,{action:e})]}))}))},e.prototype.getSiteKey=function(){return this.siteKey},e.prototype.hideBadge=function(){null===this.styleContainer&&(this.styleContainer=document.createElement("style"),this.styleContainer.innerHTML=".grecaptcha-badge{visibility:hidden !important;}",document.head.appendChild(this.styleContainer))},e.prototype.showBadge=function(){null!==this.styleContainer&&(document.head.removeChild(this.styleContainer),this.styleContainer=null)},e}();t.ReCaptchaInstance=c},522:function(e,t,n){"use strict";var r,o=Object.defineProperty,c=Object.getOwnPropertyDescriptor,l=Object.getOwnPropertyNames,f=Object.prototype.hasOwnProperty,d={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(d,{AccessTokenEvents:()=>C,CheckSessionIFrame:()=>M,ErrorResponse:()=>D,ErrorTimeout:()=>P,InMemoryWebStorage:()=>L,Log:()=>y,Logger:()=>E,MetadataService:()=>N,OidcClient:()=>J,OidcClientSettingsStore:()=>F,SessionMonitor:()=>ee,SigninResponse:()=>H,SigninState:()=>z,SignoutResponse:()=>X,State:()=>$,User:()=>te,UserManager:()=>me,UserManagerSettingsStore:()=>ce,Version:()=>ye,WebStorageStateStore:()=>j}),e.exports=(r=d,((e,t,n,desc)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of l(t))f.call(e,r)||r===n||o(e,r,{get:()=>t[r],enumerable:!(desc=c(t,r))||desc.enumerable});return e})(o({},"__esModule",{value:!0}),r));var h,v,_,m={debug:()=>{},info:()=>{},warn:()=>{},error:()=>{}},y=(e=>(e[e.NONE=0]="NONE",e[e.ERROR=1]="ERROR",e[e.WARN=2]="WARN",e[e.INFO=3]="INFO",e[e.DEBUG=4]="DEBUG",e))(y||{});(_=y||(y={})).reset=function(){h=3,v=m},_.setLevel=function(e){if(!(0<=e&&e<=4))throw new Error("Invalid log level");h=e},_.setLogger=function(e){v=e};var E=class e{constructor(e){this._name=e}debug(...t){h>=4&&v.debug(e._format(this._name,this._method),...t)}info(...t){h>=3&&v.info(e._format(this._name,this._method),...t)}warn(...t){h>=2&&v.warn(e._format(this._name,this._method),...t)}error(...t){h>=1&&v.error(e._format(this._name,this._method),...t)}throw(e){throw this.error(e),e}create(e){const t=Object.create(this);return t._method=e,t.debug("begin"),t}static createStatic(t,n){const r=new e(`${t}.${n}`);return r.debug("begin"),r}static _format(e,t){const n=`[${e}]`;return t?`${n} ${t}:`:n}static debug(t,...n){h>=4&&v.debug(e._format(t),...n)}static info(t,...n){h>=3&&v.info(e._format(t),...n)}static warn(t,...n){h>=2&&v.warn(e._format(t),...n)}static error(t,...n){h>=1&&v.error(e._format(t),...n)}};y.reset();var w=e=>btoa([...new Uint8Array(e)].map((e=>String.fromCharCode(e))).join("")),T=class e{static _randomWord(){const e=new Uint32Array(1);return crypto.getRandomValues(e),e[0]}static generateUUIDv4(){return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,(t=>(+t^e._randomWord()&15>>+t/4).toString(16))).replace(/-/g,"")}static generateCodeVerifier(){return e.generateUUIDv4()+e.generateUUIDv4()+e.generateUUIDv4()}static async generateCodeChallenge(e){if(!crypto.subtle)throw new Error("Crypto.subtle is available only in secure contexts (HTTPS).");try{const data=(new TextEncoder).encode(e),t=await crypto.subtle.digest("SHA-256",data);return w(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}catch(e){throw E.error("CryptoUtils.generateCodeChallenge",e),e}}static generateBasicAuth(e,t){const data=(new TextEncoder).encode([e,t].join(":"));return w(data)}},I=class{constructor(e){this._name=e,this._logger=new E(`Event('${this._name}')`),this._callbacks=[]}addHandler(e){return this._callbacks.push(e),()=>this.removeHandler(e)}removeHandler(e){const t=this._callbacks.lastIndexOf(e);t>=0&&this._callbacks.splice(t,1)}async raise(...e){this._logger.debug("raise:",...e);for(const t of this._callbacks)await t(...e)}},S=n(615),O=class{static decode(e){try{return(0,S.jwtDecode)(e)}catch(e){throw E.error("JwtUtils.decode",e),e}}},A=class{static center({...e}){var t;return null==e.width&&(e.width=null!=(t=[800,720,600,480].find((e=>e<=window.outerWidth/1.618)))?t:360),null!=e.left||(e.left=Math.max(0,Math.round(window.screenX+(window.outerWidth-e.width)/2))),null!=e.height&&(null!=e.top||(e.top=Math.max(0,Math.round(window.screenY+(window.outerHeight-e.height)/2)))),e}static serialize(e){return Object.entries(e).filter((([,e])=>null!=e)).map((([e,t])=>`${e}=${"boolean"!=typeof t?t:t?"yes":"no"}`)).join(",")}},R=class e extends I{constructor(){super(...arguments),this._logger=new E(`Timer('${this._name}')`),this._timerHandle=null,this._expiration=0,this._callback=()=>{const t=this._expiration-e.getEpochTime();this._logger.debug("timer completes in",t),this._expiration<=e.getEpochTime()&&(this.cancel(),super.raise())}}static getEpochTime(){return Math.floor(Date.now()/1e3)}init(t){const n=this._logger.create("init");t=Math.max(Math.floor(t),1);const r=e.getEpochTime()+t;if(this.expiration===r&&this._timerHandle)return void n.debug("skipping since already initialized for expiration at",this.expiration);this.cancel(),n.debug("using duration",t),this._expiration=r;const o=Math.min(t,5);this._timerHandle=setInterval(this._callback,1e3*o)}get expiration(){return this._expiration}cancel(){this._logger.create("cancel"),this._timerHandle&&(clearInterval(this._timerHandle),this._timerHandle=null)}},k=class{static readParams(e,t="query"){if(!e)throw new TypeError("Invalid URL");const n=new URL(e,"http://127.0.0.1")["fragment"===t?"hash":"search"];return new URLSearchParams(n.slice(1))}},D=class extends Error{constructor(e,form){var t,n,r;if(super(e.error_description||e.error||""),this.form=form,this.name="ErrorResponse",!e.error)throw E.error("ErrorResponse","No error passed"),new Error("No error passed");this.error=e.error,this.error_description=null!=(t=e.error_description)?t:null,this.error_uri=null!=(n=e.error_uri)?n:null,this.state=e.userState,this.session_state=null!=(r=e.session_state)?r:null,this.url_state=e.url_state}},P=class extends Error{constructor(e){super(e),this.name="ErrorTimeout"}},C=class{constructor(e){this._logger=new E("AccessTokenEvents"),this._expiringTimer=new R("Access token expiring"),this._expiredTimer=new R("Access token expired"),this._expiringNotificationTimeInSeconds=e.expiringNotificationTimeInSeconds}load(e){const t=this._logger.create("load");if(e.access_token&&void 0!==e.expires_in){const n=e.expires_in;if(t.debug("access token present, remaining duration:",n),n>0){let e=n-this._expiringNotificationTimeInSeconds;e<=0&&(e=1),t.debug("registering expiring timer, raising in",e,"seconds"),this._expiringTimer.init(e)}else t.debug("canceling existing expiring timer because we're past expiration."),this._expiringTimer.cancel();const r=n+1;t.debug("registering expired timer, raising in",r,"seconds"),this._expiredTimer.init(r)}else this._expiringTimer.cancel(),this._expiredTimer.cancel()}unload(){this._logger.debug("unload: canceling existing access token timers"),this._expiringTimer.cancel(),this._expiredTimer.cancel()}addAccessTokenExpiring(e){return this._expiringTimer.addHandler(e)}removeAccessTokenExpiring(e){this._expiringTimer.removeHandler(e)}addAccessTokenExpired(e){return this._expiredTimer.addHandler(e)}removeAccessTokenExpired(e){this._expiredTimer.removeHandler(e)}},M=class{constructor(e,t,n,r,o){this._callback=e,this._client_id=t,this._intervalInSeconds=r,this._stopOnError=o,this._logger=new E("CheckSessionIFrame"),this._timer=null,this._session_state=null,this._message=e=>{e.origin===this._frame_origin&&e.source===this._frame.contentWindow&&("error"===e.data?(this._logger.error("error message from check session op iframe"),this._stopOnError&&this.stop()):"changed"===e.data?(this._logger.debug("changed message from check session op iframe"),this.stop(),this._callback()):this._logger.debug(e.data+" message from check session op iframe"))};const c=new URL(n);this._frame_origin=c.origin,this._frame=window.document.createElement("iframe"),this._frame.style.visibility="hidden",this._frame.style.position="fixed",this._frame.style.left="-1000px",this._frame.style.top="0",this._frame.width="0",this._frame.height="0",this._frame.src=c.href}load(){return new Promise((e=>{this._frame.onload=()=>{e()},window.document.body.appendChild(this._frame),window.addEventListener("message",this._message,!1)}))}start(e){if(this._session_state===e)return;this._logger.create("start"),this.stop(),this._session_state=e;const t=()=>{this._frame.contentWindow&&this._session_state&&this._frame.contentWindow.postMessage(this._client_id+" "+this._session_state,this._frame_origin)};t(),this._timer=setInterval(t,1e3*this._intervalInSeconds)}stop(){this._logger.create("stop"),this._session_state=null,this._timer&&(clearInterval(this._timer),this._timer=null)}},L=class{constructor(){this._logger=new E("InMemoryWebStorage"),this._data={}}clear(){this._logger.create("clear"),this._data={}}getItem(e){return this._logger.create(`getItem('${e}')`),this._data[e]}setItem(e,t){this._logger.create(`setItem('${e}')`),this._data[e]=t}removeItem(e){this._logger.create(`removeItem('${e}')`),delete this._data[e]}get length(){return Object.getOwnPropertyNames(this._data).length}key(e){return Object.getOwnPropertyNames(this._data)[e]}},x=class{constructor(e=[],t=null,n={}){this._jwtHandler=t,this._extraHeaders=n,this._logger=new E("JsonService"),this._contentTypes=[],this._contentTypes.push(...e,"application/json"),t&&this._contentTypes.push("application/jwt")}async fetchWithTimeout(input,e={}){const{timeoutInSeconds:t,...n}=e;if(!t)return await fetch(input,n);const r=new AbortController,o=setTimeout((()=>r.abort()),1e3*t);try{return await fetch(input,{...e,signal:r.signal})}catch(e){if(e instanceof DOMException&&"AbortError"===e.name)throw new P("Network timed out");throw e}finally{clearTimeout(o)}}async getJson(e,{token:t,credentials:n}={}){const r=this._logger.create("getJson"),o={Accept:this._contentTypes.join(", ")};let c;t&&(r.debug("token passed, setting Authorization header"),o.Authorization="Bearer "+t),this.appendExtraHeaders(o);try{r.debug("url:",e),c=await this.fetchWithTimeout(e,{method:"GET",headers:o,credentials:n})}catch(e){throw r.error("Network Error"),e}r.debug("HTTP response received, status",c.status);const l=c.headers.get("Content-Type");if(l&&!this._contentTypes.find((e=>l.startsWith(e)))&&r.throw(new Error(`Invalid response Content-Type: ${null!=l?l:"undefined"}, from URL: ${e}`)),c.ok&&this._jwtHandler&&(null==l?void 0:l.startsWith("application/jwt")))return await this._jwtHandler(await c.text());let f;try{f=await c.json()}catch(e){if(r.error("Error parsing JSON response",e),c.ok)throw e;throw new Error(`${c.statusText} (${c.status})`)}if(!c.ok){if(r.error("Error from server:",f),f.error)throw new D(f);throw new Error(`${c.statusText} (${c.status}): ${JSON.stringify(f)}`)}return f}async postForm(e,{body:body,basicAuth:t,timeoutInSeconds:n,initCredentials:r}){const o=this._logger.create("postForm"),c={Accept:this._contentTypes.join(", "),"Content-Type":"application/x-www-form-urlencoded"};let l;void 0!==t&&(c.Authorization="Basic "+t),this.appendExtraHeaders(c);try{o.debug("url:",e),l=await this.fetchWithTimeout(e,{method:"POST",headers:c,body:body,timeoutInSeconds:n,credentials:r})}catch(e){throw o.error("Network error"),e}o.debug("HTTP response received, status",l.status);const f=l.headers.get("Content-Type");if(f&&!this._contentTypes.find((e=>f.startsWith(e))))throw new Error(`Invalid response Content-Type: ${null!=f?f:"undefined"}, from URL: ${e}`);const d=await l.text();let h={};if(d)try{h=JSON.parse(d)}catch(e){if(o.error("Error parsing JSON response",e),l.ok)throw e;throw new Error(`${l.statusText} (${l.status})`)}if(!l.ok){if(o.error("Error from server:",h),h.error)throw new D(h,body);throw new Error(`${l.statusText} (${l.status}): ${JSON.stringify(h)}`)}return h}appendExtraHeaders(e){const t=this._logger.create("appendExtraHeaders"),n=Object.keys(this._extraHeaders),r=["authorization","accept","content-type"];0!==n.length&&n.forEach((n=>{if(r.includes(n.toLocaleLowerCase()))return void t.warn("Protected header could not be overridden",n,r);const content="function"==typeof this._extraHeaders[n]?this._extraHeaders[n]():this._extraHeaders[n];content&&""!==content&&(e[n]=content)}))}},N=class{constructor(e){this._settings=e,this._logger=new E("MetadataService"),this._signingKeys=null,this._metadata=null,this._metadataUrl=this._settings.metadataUrl,this._jsonService=new x(["application/jwk-set+json"],null,this._settings.extraHeaders),this._settings.signingKeys&&(this._logger.debug("using signingKeys from settings"),this._signingKeys=this._settings.signingKeys),this._settings.metadata&&(this._logger.debug("using metadata from settings"),this._metadata=this._settings.metadata),this._settings.fetchRequestCredentials&&(this._logger.debug("using fetchRequestCredentials from settings"),this._fetchRequestCredentials=this._settings.fetchRequestCredentials)}resetSigningKeys(){this._signingKeys=null}async getMetadata(){const e=this._logger.create("getMetadata");if(this._metadata)return e.debug("using cached values"),this._metadata;if(!this._metadataUrl)throw e.throw(new Error("No authority or metadataUrl configured on settings")),null;e.debug("getting metadata from",this._metadataUrl);const t=await this._jsonService.getJson(this._metadataUrl,{credentials:this._fetchRequestCredentials});return e.debug("merging remote JSON with seed metadata"),this._metadata=Object.assign({},this._settings.metadataSeed,t),this._metadata}getIssuer(){return this._getMetadataProperty("issuer")}getAuthorizationEndpoint(){return this._getMetadataProperty("authorization_endpoint")}getUserInfoEndpoint(){return this._getMetadataProperty("userinfo_endpoint")}getTokenEndpoint(e=!0){return this._getMetadataProperty("token_endpoint",e)}getCheckSessionIframe(){return this._getMetadataProperty("check_session_iframe",!0)}getEndSessionEndpoint(){return this._getMetadataProperty("end_session_endpoint",!0)}getRevocationEndpoint(e=!0){return this._getMetadataProperty("revocation_endpoint",e)}getKeysEndpoint(e=!0){return this._getMetadataProperty("jwks_uri",e)}async _getMetadataProperty(e,t=!1){const n=this._logger.create(`_getMetadataProperty('${e}')`),r=await this.getMetadata();if(n.debug("resolved"),void 0===r[e]){if(!0===t)return void n.warn("Metadata does not contain optional property");n.throw(new Error("Metadata does not contain property "+e))}return r[e]}async getSigningKeys(){const e=this._logger.create("getSigningKeys");if(this._signingKeys)return e.debug("returning signingKeys from cache"),this._signingKeys;const t=await this.getKeysEndpoint(!1);e.debug("got jwks_uri",t);const n=await this._jsonService.getJson(t);if(e.debug("got key set",n),!Array.isArray(n.keys))throw e.throw(new Error("Missing keys on keyset")),null;return this._signingKeys=n.keys,this._signingKeys}},j=class{constructor({prefix:e="oidc.",store:t=localStorage}={}){this._logger=new E("WebStorageStateStore"),this._store=t,this._prefix=e}async set(e,t){this._logger.create(`set('${e}')`),e=this._prefix+e,await this._store.setItem(e,t)}async get(e){this._logger.create(`get('${e}')`),e=this._prefix+e;return await this._store.getItem(e)}async remove(e){this._logger.create(`remove('${e}')`),e=this._prefix+e;const t=await this._store.getItem(e);return await this._store.removeItem(e),t}async getAllKeys(){this._logger.create("getAllKeys");const e=await this._store.length,t=[];for(let n=0;n<e;n++){const e=await this._store.key(n);e&&0===e.indexOf(this._prefix)&&t.push(e.substr(this._prefix.length))}return t}},F=class{constructor({authority:e,metadataUrl:t,metadata:n,signingKeys:r,metadataSeed:o,client_id:c,client_secret:l,response_type:f="code",scope:d="openid",redirect_uri:h,post_logout_redirect_uri:v,client_authentication:_="client_secret_post",prompt:m,display:y,max_age:E,ui_locales:w,acr_values:T,resource:I,response_mode:S,filterProtocolClaims:O=!0,loadUserInfo:A=!1,staleStateAgeInSeconds:R=900,mergeClaimsStrategy:k={array:"replace"},disablePKCE:D=!1,stateStore:P,revokeTokenAdditionalContentTypes:C,fetchRequestCredentials:M,refreshTokenAllowedScope:x,extraQueryParams:N={},extraTokenParams:F={},extraHeaders:U={}}){if(this.authority=e,t?this.metadataUrl=t:(this.metadataUrl=e,e&&(this.metadataUrl.endsWith("/")||(this.metadataUrl+="/"),this.metadataUrl+=".well-known/openid-configuration")),this.metadata=n,this.metadataSeed=o,this.signingKeys=r,this.client_id=c,this.client_secret=l,this.response_type=f,this.scope=d,this.redirect_uri=h,this.post_logout_redirect_uri=v,this.client_authentication=_,this.prompt=m,this.display=y,this.max_age=E,this.ui_locales=w,this.acr_values=T,this.resource=I,this.response_mode=S,this.filterProtocolClaims=null==O||O,this.loadUserInfo=!!A,this.staleStateAgeInSeconds=R,this.mergeClaimsStrategy=k,this.disablePKCE=!!D,this.revokeTokenAdditionalContentTypes=C,this.fetchRequestCredentials=M||"same-origin",P)this.stateStore=P;else{const e="undefined"!=typeof window?window.localStorage:new L;this.stateStore=new j({store:e})}this.refreshTokenAllowedScope=x,this.extraQueryParams=N,this.extraTokenParams=F,this.extraHeaders=U}},U=class{constructor(e,t){this._settings=e,this._metadataService=t,this._logger=new E("UserInfoService"),this._getClaimsFromJwt=async e=>{const t=this._logger.create("_getClaimsFromJwt");try{const n=O.decode(e);return t.debug("JWT decoding successful"),n}catch(e){throw t.error("Error parsing JWT response"),e}},this._jsonService=new x(void 0,this._getClaimsFromJwt,this._settings.extraHeaders)}async getClaims(e){const t=this._logger.create("getClaims");e||this._logger.throw(new Error("No token passed"));const n=await this._metadataService.getUserInfoEndpoint();t.debug("got userinfo url",n);const r=await this._jsonService.getJson(n,{token:e,credentials:this._settings.fetchRequestCredentials});return t.debug("got claims",r),r}},G=class{constructor(e,t){this._settings=e,this._metadataService=t,this._logger=new E("TokenClient"),this._jsonService=new x(this._settings.revokeTokenAdditionalContentTypes,null,this._settings.extraHeaders)}async exchangeCode({grant_type:e="authorization_code",redirect_uri:t=this._settings.redirect_uri,client_id:n=this._settings.client_id,client_secret:r=this._settings.client_secret,...o}){const c=this._logger.create("exchangeCode");n||c.throw(new Error("A client_id is required")),t||c.throw(new Error("A redirect_uri is required")),o.code||c.throw(new Error("A code is required"));const l=new URLSearchParams({grant_type:e,redirect_uri:t});for(const[e,t]of Object.entries(o))null!=t&&l.set(e,t);let f;switch(this._settings.client_authentication){case"client_secret_basic":if(!r)throw c.throw(new Error("A client_secret is required")),null;f=T.generateBasicAuth(n,r);break;case"client_secret_post":l.append("client_id",n),r&&l.append("client_secret",r)}const d=await this._metadataService.getTokenEndpoint(!1);c.debug("got token endpoint");const h=await this._jsonService.postForm(d,{body:l,basicAuth:f,initCredentials:this._settings.fetchRequestCredentials});return c.debug("got response"),h}async exchangeCredentials({grant_type:e="password",client_id:t=this._settings.client_id,client_secret:n=this._settings.client_secret,scope:r=this._settings.scope,...o}){const c=this._logger.create("exchangeCredentials");t||c.throw(new Error("A client_id is required"));const l=new URLSearchParams({grant_type:e,scope:r});for(const[e,t]of Object.entries(o))null!=t&&l.set(e,t);let f;switch(this._settings.client_authentication){case"client_secret_basic":if(!n)throw c.throw(new Error("A client_secret is required")),null;f=T.generateBasicAuth(t,n);break;case"client_secret_post":l.append("client_id",t),n&&l.append("client_secret",n)}const d=await this._metadataService.getTokenEndpoint(!1);c.debug("got token endpoint");const h=await this._jsonService.postForm(d,{body:l,basicAuth:f,initCredentials:this._settings.fetchRequestCredentials});return c.debug("got response"),h}async exchangeRefreshToken({grant_type:e="refresh_token",client_id:t=this._settings.client_id,client_secret:n=this._settings.client_secret,timeoutInSeconds:r,...o}){const c=this._logger.create("exchangeRefreshToken");t||c.throw(new Error("A client_id is required")),o.refresh_token||c.throw(new Error("A refresh_token is required"));const l=new URLSearchParams({grant_type:e});for(const[e,t]of Object.entries(o))Array.isArray(t)?t.forEach((param=>l.append(e,param))):null!=t&&l.set(e,t);let f;switch(this._settings.client_authentication){case"client_secret_basic":if(!n)throw c.throw(new Error("A client_secret is required")),null;f=T.generateBasicAuth(t,n);break;case"client_secret_post":l.append("client_id",t),n&&l.append("client_secret",n)}const d=await this._metadataService.getTokenEndpoint(!1);c.debug("got token endpoint");const h=await this._jsonService.postForm(d,{body:l,basicAuth:f,timeoutInSeconds:r,initCredentials:this._settings.fetchRequestCredentials});return c.debug("got response"),h}async revoke(e){var t;const n=this._logger.create("revoke");e.token||n.throw(new Error("A token is required"));const r=await this._metadataService.getRevocationEndpoint(!1);n.debug(`got revocation endpoint, revoking ${null!=(t=e.token_type_hint)?t:"default token type"}`);const o=new URLSearchParams;for(const[t,n]of Object.entries(e))null!=n&&o.set(t,n);o.set("client_id",this._settings.client_id),this._settings.client_secret&&o.set("client_secret",this._settings.client_secret),await this._jsonService.postForm(r,{body:o}),n.debug("got response")}},B=class{constructor(e,t,n){this._settings=e,this._metadataService=t,this._claimsService=n,this._logger=new E("ResponseValidator"),this._userInfoService=new U(this._settings,this._metadataService),this._tokenClient=new G(this._settings,this._metadataService)}async validateSigninResponse(e,t){const n=this._logger.create("validateSigninResponse");this._processSigninState(e,t),n.debug("state processed"),await this._processCode(e,t),n.debug("code processed"),e.isOpenId&&this._validateIdTokenAttributes(e),n.debug("tokens validated"),await this._processClaims(e,null==t?void 0:t.skipUserInfo,e.isOpenId),n.debug("claims processed")}async validateCredentialsResponse(e,t){const n=this._logger.create("validateCredentialsResponse");e.isOpenId&&e.id_token&&this._validateIdTokenAttributes(e),n.debug("tokens validated"),await this._processClaims(e,t,e.isOpenId),n.debug("claims processed")}async validateRefreshResponse(e,t){const n=this._logger.create("validateRefreshResponse");e.userState=t.data,null!=e.session_state||(e.session_state=t.session_state),null!=e.scope||(e.scope=t.scope),e.isOpenId&&e.id_token&&(this._validateIdTokenAttributes(e,t.id_token),n.debug("ID Token validated")),e.id_token||(e.id_token=t.id_token,e.profile=t.profile);const r=e.isOpenId&&!!e.id_token;await this._processClaims(e,!1,r),n.debug("claims processed")}validateSignoutResponse(e,t){const n=this._logger.create("validateSignoutResponse");if(t.id!==e.state&&n.throw(new Error("State does not match")),n.debug("state validated"),e.userState=t.data,e.error)throw n.warn("Response was error",e.error),new D(e)}_processSigninState(e,t){const n=this._logger.create("_processSigninState");if(t.id!==e.state&&n.throw(new Error("State does not match")),t.client_id||n.throw(new Error("No client_id on state")),t.authority||n.throw(new Error("No authority on state")),this._settings.authority!==t.authority&&n.throw(new Error("authority mismatch on settings vs. signin state")),this._settings.client_id&&this._settings.client_id!==t.client_id&&n.throw(new Error("client_id mismatch on settings vs. signin state")),n.debug("state validated"),e.userState=t.data,e.url_state=t.url_state,null!=e.scope||(e.scope=t.scope),e.error)throw n.warn("Response was error",e.error),new D(e);t.code_verifier&&!e.code&&n.throw(new Error("Expected code in response"))}async _processClaims(e,t=!1,n=!0){const r=this._logger.create("_processClaims");if(e.profile=this._claimsService.filterProtocolClaims(e.profile),t||!this._settings.loadUserInfo||!e.access_token)return void r.debug("not loading user info");r.debug("loading user info");const o=await this._userInfoService.getClaims(e.access_token);r.debug("user info claims received from user info endpoint"),n&&o.sub!==e.profile.sub&&r.throw(new Error("subject from UserInfo response does not match subject in ID Token")),e.profile=this._claimsService.mergeClaims(e.profile,this._claimsService.filterProtocolClaims(o)),r.debug("user info claims received, updated profile:",e.profile)}async _processCode(e,t){const n=this._logger.create("_processCode");if(e.code){n.debug("Validating code");const r=await this._tokenClient.exchangeCode({client_id:t.client_id,client_secret:t.client_secret,code:e.code,redirect_uri:t.redirect_uri,code_verifier:t.code_verifier,...t.extraTokenParams});Object.assign(e,r)}else n.debug("No code to process")}_validateIdTokenAttributes(e,t){var n;const r=this._logger.create("_validateIdTokenAttributes");r.debug("decoding ID Token JWT");const o=O.decode(null!=(n=e.id_token)?n:"");if(o.sub||r.throw(new Error("ID Token is missing a subject claim")),t){const e=O.decode(t);o.sub!==e.sub&&r.throw(new Error("sub in id_token does not match current sub")),o.auth_time&&o.auth_time!==e.auth_time&&r.throw(new Error("auth_time in id_token does not match original auth_time")),o.azp&&o.azp!==e.azp&&r.throw(new Error("azp in id_token does not match original azp")),!o.azp&&e.azp&&r.throw(new Error("azp not in id_token, but present in original id_token"))}e.profile=o}},$=class e{constructor(e){this.id=e.id||T.generateUUIDv4(),this.data=e.data,e.created&&e.created>0?this.created=e.created:this.created=R.getEpochTime(),this.request_type=e.request_type,this.url_state=e.url_state}toStorageString(){return new E("State").create("toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type,url_state:this.url_state})}static fromStorageString(t){return E.createStatic("State","fromStorageString"),Promise.resolve(new e(JSON.parse(t)))}static async clearStaleState(t,n){const r=E.createStatic("State","clearStaleState"),o=R.getEpochTime()-n,c=await t.getAllKeys();r.debug("got keys",c);for(let i=0;i<c.length;i++){const n=c[i],l=await t.get(n);let f=!1;if(l)try{const t=await e.fromStorageString(l);r.debug("got item from key:",n,t.created),t.created<=o&&(f=!0)}catch(e){r.error("Error parsing state for key:",n,e),f=!0}else r.debug("no item in storage for key:",n),f=!0;f&&(r.debug("removed item for key:",n),t.remove(n))}}},z=class e extends ${constructor(e){super(e),this.code_verifier=e.code_verifier,this.code_challenge=e.code_challenge,this.authority=e.authority,this.client_id=e.client_id,this.redirect_uri=e.redirect_uri,this.scope=e.scope,this.client_secret=e.client_secret,this.extraTokenParams=e.extraTokenParams,this.response_mode=e.response_mode,this.skipUserInfo=e.skipUserInfo}static async create(t){const n=!0===t.code_verifier?T.generateCodeVerifier():t.code_verifier||void 0,r=n?await T.generateCodeChallenge(n):void 0;return new e({...t,code_verifier:n,code_challenge:r})}toStorageString(){return new E("SigninState").create("toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type,url_state:this.url_state,code_verifier:this.code_verifier,authority:this.authority,client_id:this.client_id,redirect_uri:this.redirect_uri,scope:this.scope,client_secret:this.client_secret,extraTokenParams:this.extraTokenParams,response_mode:this.response_mode,skipUserInfo:this.skipUserInfo})}static fromStorageString(t){E.createStatic("SigninState","fromStorageString");const data=JSON.parse(t);return e.create(data)}},V=class e{constructor(e){this.url=e.url,this.state=e.state}static async create({url:t,authority:n,client_id:r,redirect_uri:o,response_type:c,scope:l,state_data:f,response_mode:d,request_type:h,client_secret:v,nonce:_,url_state:m,resource:y,skipUserInfo:E,extraQueryParams:w,extraTokenParams:T,disablePKCE:I,...S}){if(!t)throw this._logger.error("create: No url passed"),new Error("url");if(!r)throw this._logger.error("create: No client_id passed"),new Error("client_id");if(!o)throw this._logger.error("create: No redirect_uri passed"),new Error("redirect_uri");if(!c)throw this._logger.error("create: No response_type passed"),new Error("response_type");if(!l)throw this._logger.error("create: No scope passed"),new Error("scope");if(!n)throw this._logger.error("create: No authority passed"),new Error("authority");const O=await z.create({data:f,request_type:h,url_state:m,code_verifier:!I,client_id:r,authority:n,redirect_uri:o,response_mode:d,client_secret:v,scope:l,extraTokenParams:T,skipUserInfo:E}),A=new URL(t);A.searchParams.append("client_id",r),A.searchParams.append("redirect_uri",o),A.searchParams.append("response_type",c),A.searchParams.append("scope",l),_&&A.searchParams.append("nonce",_);let R=O.id;if(m&&(R=`${R};${m}`),A.searchParams.append("state",R),O.code_challenge&&(A.searchParams.append("code_challenge",O.code_challenge),A.searchParams.append("code_challenge_method","S256")),y){(Array.isArray(y)?y:[y]).forEach((e=>A.searchParams.append("resource",e)))}for(const[e,t]of Object.entries({response_mode:d,...S,...w}))null!=t&&A.searchParams.append(e,t.toString());return new e({url:A.href,state:O})}};V._logger=new E("SigninRequest");var W=V,H=class{constructor(e){if(this.access_token="",this.token_type="",this.profile={},this.state=e.get("state"),this.session_state=e.get("session_state"),this.state){const e=decodeURIComponent(this.state).split(";");this.state=e[0],e.length>1&&(this.url_state=e.slice(1).join(";"))}this.error=e.get("error"),this.error_description=e.get("error_description"),this.error_uri=e.get("error_uri"),this.code=e.get("code")}get expires_in(){if(void 0!==this.expires_at)return this.expires_at-R.getEpochTime()}set expires_in(e){"string"==typeof e&&(e=Number(e)),void 0!==e&&e>=0&&(this.expires_at=Math.floor(e)+R.getEpochTime())}get isOpenId(){var e;return(null==(e=this.scope)?void 0:e.split(" ").includes("openid"))||!!this.id_token}},Y=class{constructor({url:e,state_data:t,id_token_hint:n,post_logout_redirect_uri:r,extraQueryParams:o,request_type:c,client_id:l}){if(this._logger=new E("SignoutRequest"),!e)throw this._logger.error("ctor: No url passed"),new Error("url");const f=new URL(e);n&&f.searchParams.append("id_token_hint",n),l&&f.searchParams.append("client_id",l),r&&(f.searchParams.append("post_logout_redirect_uri",r),t&&(this.state=new $({data:t,request_type:c}),f.searchParams.append("state",this.state.id)));for(const[e,t]of Object.entries({...o}))null!=t&&f.searchParams.append(e,t.toString());this.url=f.href}},X=class{constructor(e){this.state=e.get("state"),this.error=e.get("error"),this.error_description=e.get("error_description"),this.error_uri=e.get("error_uri")}},Z=["nbf","jti","auth_time","nonce","acr","amr","azp","at_hash"],K=["sub","iss","aud","exp","iat"],Q=class{constructor(e){this._settings=e,this._logger=new E("ClaimsService")}filterProtocolClaims(e){const t={...e};if(this._settings.filterProtocolClaims){let e;e=Array.isArray(this._settings.filterProtocolClaims)?this._settings.filterProtocolClaims:Z;for(const n of e)K.includes(n)||delete t[n]}return t}mergeClaims(e,t){const n={...e};for(const[e,r]of Object.entries(t))if(n[e]!==r)if(Array.isArray(n[e])||Array.isArray(r))if("replace"==this._settings.mergeClaimsStrategy.array)n[e]=r;else{const t=Array.isArray(n[e])?n[e]:[n[e]];for(const e of Array.isArray(r)?r:[r])t.includes(e)||t.push(e);n[e]=t}else"object"==typeof n[e]&&"object"==typeof r?n[e]=this.mergeClaims(n[e],r):n[e]=r;return n}},J=class{constructor(e,t){this._logger=new E("OidcClient"),this.settings=e instanceof F?e:new F(e),this.metadataService=null!=t?t:new N(this.settings),this._claimsService=new Q(this.settings),this._validator=new B(this.settings,this.metadataService,this._claimsService),this._tokenClient=new G(this.settings,this.metadataService)}async createSigninRequest({state:e,request:t,request_uri:n,request_type:r,id_token_hint:o,login_hint:c,skipUserInfo:l,nonce:f,url_state:d,response_type:h=this.settings.response_type,scope:v=this.settings.scope,redirect_uri:_=this.settings.redirect_uri,prompt:m=this.settings.prompt,display:y=this.settings.display,max_age:E=this.settings.max_age,ui_locales:w=this.settings.ui_locales,acr_values:T=this.settings.acr_values,resource:I=this.settings.resource,response_mode:S=this.settings.response_mode,extraQueryParams:O=this.settings.extraQueryParams,extraTokenParams:A=this.settings.extraTokenParams}){const R=this._logger.create("createSigninRequest");if("code"!==h)throw new Error("Only the Authorization Code flow (with PKCE) is supported");const k=await this.metadataService.getAuthorizationEndpoint();R.debug("Received authorization endpoint",k);const D=await W.create({url:k,authority:this.settings.authority,client_id:this.settings.client_id,redirect_uri:_,response_type:h,scope:v,state_data:e,url_state:d,prompt:m,display:y,max_age:E,ui_locales:w,id_token_hint:o,login_hint:c,acr_values:T,resource:I,request:t,request_uri:n,extraQueryParams:O,extraTokenParams:A,request_type:r,response_mode:S,client_secret:this.settings.client_secret,skipUserInfo:l,nonce:f,disablePKCE:this.settings.disablePKCE});await this.clearStaleState();const P=D.state;return await this.settings.stateStore.set(P.id,P.toStorageString()),D}async readSigninResponseState(e,t=!1){const n=this._logger.create("readSigninResponseState"),r=new H(k.readParams(e,this.settings.response_mode));if(!r.state)throw n.throw(new Error("No state in response")),null;const o=await this.settings.stateStore[t?"remove":"get"](r.state);if(!o)throw n.throw(new Error("No matching state found in storage")),null;return{state:await z.fromStorageString(o),response:r}}async processSigninResponse(e){const t=this._logger.create("processSigninResponse"),{state:n,response:r}=await this.readSigninResponseState(e,!0);return t.debug("received state from storage; validating response"),await this._validator.validateSigninResponse(r,n),r}async processResourceOwnerPasswordCredentials({username:e,password:t,skipUserInfo:n=!1,extraTokenParams:r={}}){const o=await this._tokenClient.exchangeCredentials({username:e,password:t,...r}),c=new H(new URLSearchParams);return Object.assign(c,o),await this._validator.validateCredentialsResponse(c,n),c}async useRefreshToken({state:e,redirect_uri:t,resource:n,timeoutInSeconds:r,extraTokenParams:o}){var c;const l=this._logger.create("useRefreshToken");let f;if(void 0===this.settings.refreshTokenAllowedScope)f=e.scope;else{const t=this.settings.refreshTokenAllowedScope.split(" ");f=((null==(c=e.scope)?void 0:c.split(" "))||[]).filter((s=>t.includes(s))).join(" ")}const d=await this._tokenClient.exchangeRefreshToken({refresh_token:e.refresh_token,scope:f,redirect_uri:t,resource:n,timeoutInSeconds:r,...o}),h=new H(new URLSearchParams);return Object.assign(h,d),l.debug("validating response",h),await this._validator.validateRefreshResponse(h,{...e,scope:f}),h}async createSignoutRequest({state:e,id_token_hint:t,client_id:n,request_type:r,post_logout_redirect_uri:o=this.settings.post_logout_redirect_uri,extraQueryParams:c=this.settings.extraQueryParams}={}){const l=this._logger.create("createSignoutRequest"),f=await this.metadataService.getEndSessionEndpoint();if(!f)throw l.throw(new Error("No end session endpoint")),null;l.debug("Received end session endpoint",f),n||!o||t||(n=this.settings.client_id);const d=new Y({url:f,id_token_hint:t,client_id:n,post_logout_redirect_uri:o,state_data:e,extraQueryParams:c,request_type:r});await this.clearStaleState();const h=d.state;return h&&(l.debug("Signout request has state to persist"),await this.settings.stateStore.set(h.id,h.toStorageString())),d}async readSignoutResponseState(e,t=!1){const n=this._logger.create("readSignoutResponseState"),r=new X(k.readParams(e,this.settings.response_mode));if(!r.state){if(n.debug("No state in response"),r.error)throw n.warn("Response was error:",r.error),new D(r);return{state:void 0,response:r}}const o=await this.settings.stateStore[t?"remove":"get"](r.state);if(!o)throw n.throw(new Error("No matching state found in storage")),null;return{state:await $.fromStorageString(o),response:r}}async processSignoutResponse(e){const t=this._logger.create("processSignoutResponse"),{state:n,response:r}=await this.readSignoutResponseState(e,!0);return n?(t.debug("Received state from storage; validating response"),this._validator.validateSignoutResponse(r,n)):t.debug("No state from storage; skipping response validation"),r}clearStaleState(){return this._logger.create("clearStaleState"),$.clearStaleState(this.settings.stateStore,this.settings.staleStateAgeInSeconds)}async revokeToken(e,t){return this._logger.create("revokeToken"),await this._tokenClient.revoke({token:e,token_type_hint:t})}},ee=class{constructor(e){this._userManager=e,this._logger=new E("SessionMonitor"),this._start=async e=>{const t=e.session_state;if(!t)return;const n=this._logger.create("_start");if(e.profile?(this._sub=e.profile.sub,n.debug("session_state",t,", sub",this._sub)):(this._sub=void 0,n.debug("session_state",t,", anonymous user")),this._checkSessionIFrame)this._checkSessionIFrame.start(t);else try{const e=await this._userManager.metadataService.getCheckSessionIframe();if(e){n.debug("initializing check session iframe");const r=this._userManager.settings.client_id,o=this._userManager.settings.checkSessionIntervalInSeconds,c=this._userManager.settings.stopCheckSessionOnError,l=new M(this._callback,r,e,o,c);await l.load(),this._checkSessionIFrame=l,l.start(t)}else n.warn("no check session iframe found in the metadata")}catch(e){n.error("Error from getCheckSessionIframe:",e instanceof Error?e.message:e)}},this._stop=()=>{const e=this._logger.create("_stop");if(this._sub=void 0,this._checkSessionIFrame&&this._checkSessionIFrame.stop(),this._userManager.settings.monitorAnonymousSession){const t=setInterval((async()=>{clearInterval(t);try{const e=await this._userManager.querySessionStatus();if(e){const t={session_state:e.session_state,profile:e.sub?{sub:e.sub}:null};this._start(t)}}catch(t){e.error("error from querySessionStatus",t instanceof Error?t.message:t)}}),1e3)}},this._callback=async()=>{const e=this._logger.create("_callback");try{const t=await this._userManager.querySessionStatus();let n=!0;t&&this._checkSessionIFrame?t.sub===this._sub?(n=!1,this._checkSessionIFrame.start(t.session_state),e.debug("same sub still logged in at OP, session state has changed, restarting check session iframe; session_state",t.session_state),await this._userManager.events._raiseUserSessionChanged()):e.debug("different subject signed into OP",t.sub):e.debug("subject no longer signed into OP"),n?this._sub?await this._userManager.events._raiseUserSignedOut():await this._userManager.events._raiseUserSignedIn():e.debug("no change in session detected, no event to raise")}catch(t){this._sub&&(e.debug("Error calling queryCurrentSigninSession; raising signed out event",t),await this._userManager.events._raiseUserSignedOut())}},e||this._logger.throw(new Error("No user manager passed")),this._userManager.events.addUserLoaded(this._start),this._userManager.events.addUserUnloaded(this._stop),this._init().catch((e=>{this._logger.error(e)}))}async _init(){this._logger.create("_init");const e=await this._userManager.getUser();if(e)this._start(e);else if(this._userManager.settings.monitorAnonymousSession){const e=await this._userManager.querySessionStatus();if(e){const t={session_state:e.session_state,profile:e.sub?{sub:e.sub}:null};this._start(t)}}}},te=class e{constructor(e){var t;this.id_token=e.id_token,this.session_state=null!=(t=e.session_state)?t:null,this.access_token=e.access_token,this.refresh_token=e.refresh_token,this.token_type=e.token_type,this.scope=e.scope,this.profile=e.profile,this.expires_at=e.expires_at,this.state=e.userState,this.url_state=e.url_state}get expires_in(){if(void 0!==this.expires_at)return this.expires_at-R.getEpochTime()}set expires_in(e){void 0!==e&&(this.expires_at=Math.floor(e)+R.getEpochTime())}get expired(){const e=this.expires_in;if(void 0!==e)return e<=0}get scopes(){var e,t;return null!=(t=null==(e=this.scope)?void 0:e.split(" "))?t:[]}toStorageString(){return new E("User").create("toStorageString"),JSON.stringify({id_token:this.id_token,session_state:this.session_state,access_token:this.access_token,refresh_token:this.refresh_token,token_type:this.token_type,scope:this.scope,profile:this.profile,expires_at:this.expires_at})}static fromStorageString(t){return E.createStatic("User","fromStorageString"),new e(JSON.parse(t))}},ne="oidc-client",re=class{constructor(){this._abort=new I("Window navigation aborted"),this._disposeHandlers=new Set,this._window=null}async navigate(e){const t=this._logger.create("navigate");if(!this._window)throw new Error("Attempted to navigate on a disposed window");t.debug("setting URL in window"),this._window.location.replace(e.url);const{url:n,keepOpen:r}=await new Promise(((n,r)=>{const o=o=>{var c;const data=o.data,l=null!=(c=e.scriptOrigin)?c:window.location.origin;if(o.origin===l&&(null==data?void 0:data.source)===ne){try{const n=k.readParams(data.url,e.response_mode).get("state");if(n||t.warn("no state found in response url"),o.source!==this._window&&n!==e.state)return}catch(e){this._dispose(),r(new Error("Invalid response from window"))}n(data)}};window.addEventListener("message",o,!1),this._disposeHandlers.add((()=>window.removeEventListener("message",o,!1))),this._disposeHandlers.add(this._abort.addHandler((e=>{this._dispose(),r(e)})))}));return t.debug("got response from window"),this._dispose(),r||this.close(),{url:n}}_dispose(){this._logger.create("_dispose");for(const e of this._disposeHandlers)e();this._disposeHandlers.clear()}static _notifyParent(e,t,n=!1,r=window.location.origin){e.postMessage({source:ne,url:t,keepOpen:n},r)}},ie={location:!1,toolbar:!1,height:640,closePopupWindowAfterInSeconds:-1},oe="_blank",ae=60,se=2,ue=10,ce=class extends F{constructor(e){const{popup_redirect_uri:t=e.redirect_uri,popup_post_logout_redirect_uri:n=e.post_logout_redirect_uri,popupWindowFeatures:r=ie,popupWindowTarget:o=oe,redirectMethod:c="assign",redirectTarget:l="self",iframeNotifyParentOrigin:f=e.iframeNotifyParentOrigin,iframeScriptOrigin:d=e.iframeScriptOrigin,silent_redirect_uri:h=e.redirect_uri,silentRequestTimeoutInSeconds:v=ue,automaticSilentRenew:_=!0,validateSubOnSilentRenew:m=!0,includeIdTokenInSilentRenew:y=!1,monitorSession:E=!1,monitorAnonymousSession:w=!1,checkSessionIntervalInSeconds:T=se,query_status_response_type:I="code",stopCheckSessionOnError:S=!0,revokeTokenTypes:O=["access_token","refresh_token"],revokeTokensOnSignout:A=!1,includeIdTokenInSilentSignout:R=!1,accessTokenExpiringNotificationTimeInSeconds:k=ae,userStore:D}=e;if(super(e),this.popup_redirect_uri=t,this.popup_post_logout_redirect_uri=n,this.popupWindowFeatures=r,this.popupWindowTarget=o,this.redirectMethod=c,this.redirectTarget=l,this.iframeNotifyParentOrigin=f,this.iframeScriptOrigin=d,this.silent_redirect_uri=h,this.silentRequestTimeoutInSeconds=v,this.automaticSilentRenew=_,this.validateSubOnSilentRenew=m,this.includeIdTokenInSilentRenew=y,this.monitorSession=E,this.monitorAnonymousSession=w,this.checkSessionIntervalInSeconds=T,this.stopCheckSessionOnError=S,this.query_status_response_type=I,this.revokeTokenTypes=O,this.revokeTokensOnSignout=A,this.includeIdTokenInSilentSignout=R,this.accessTokenExpiringNotificationTimeInSeconds=k,D)this.userStore=D;else{const e="undefined"!=typeof window?window.sessionStorage:new L;this.userStore=new j({store:e})}}},le=class e extends re{constructor({silentRequestTimeoutInSeconds:t=ue}){super(),this._logger=new E("IFrameWindow"),this._timeoutInSeconds=t,this._frame=e.createHiddenIframe(),this._window=this._frame.contentWindow}static createHiddenIframe(){const iframe=window.document.createElement("iframe");return iframe.style.visibility="hidden",iframe.style.position="fixed",iframe.style.left="-1000px",iframe.style.top="0",iframe.width="0",iframe.height="0",window.document.body.appendChild(iframe),iframe}async navigate(e){this._logger.debug("navigate: Using timeout of:",this._timeoutInSeconds);const t=setTimeout((()=>{this._abort.raise(new P("IFrame timed out without a response"))}),1e3*this._timeoutInSeconds);return this._disposeHandlers.add((()=>clearTimeout(t))),await super.navigate(e)}close(){var e;this._frame&&(this._frame.parentNode&&(this._frame.addEventListener("load",(e=>{var t;const n=e.target;null==(t=n.parentNode)||t.removeChild(n),this._abort.raise(new Error("IFrame removed from DOM"))}),!0),null==(e=this._frame.contentWindow)||e.location.replace("about:blank")),this._frame=null),this._window=null}static notifyParent(e,t){return super._notifyParent(window.parent,e,!1,t)}},fe=class{constructor(e){this._settings=e,this._logger=new E("IFrameNavigator")}async prepare({silentRequestTimeoutInSeconds:e=this._settings.silentRequestTimeoutInSeconds}){return new le({silentRequestTimeoutInSeconds:e})}async callback(e){this._logger.create("callback"),le.notifyParent(e,this._settings.iframeNotifyParentOrigin)}},de=class extends re{constructor({popupWindowTarget:e=oe,popupWindowFeatures:t={}}){super(),this._logger=new E("PopupWindow");const n=A.center({...ie,...t});this._window=window.open(void 0,e,A.serialize(n)),t.closePopupWindowAfterInSeconds&&t.closePopupWindowAfterInSeconds>0&&setTimeout((()=>{this._window&&"boolean"==typeof this._window.closed&&!this._window.closed?this.close():this._abort.raise(new Error("Popup blocked by user"))}),1e3*t.closePopupWindowAfterInSeconds)}async navigate(e){var t;null==(t=this._window)||t.focus();const n=setInterval((()=>{this._window&&!this._window.closed||this._abort.raise(new Error("Popup closed by user"))}),500);return this._disposeHandlers.add((()=>clearInterval(n))),await super.navigate(e)}close(){this._window&&(this._window.closed||(this._window.close(),this._abort.raise(new Error("Popup closed")))),this._window=null}static notifyOpener(e,t){if(!window.opener)throw new Error("No window.opener. Can't complete notification.");return super._notifyParent(window.opener,e,t)}},pe=class{constructor(e){this._settings=e,this._logger=new E("PopupNavigator")}async prepare({popupWindowFeatures:e=this._settings.popupWindowFeatures,popupWindowTarget:t=this._settings.popupWindowTarget}){return new de({popupWindowFeatures:e,popupWindowTarget:t})}async callback(e,{keepOpen:t=!1}){this._logger.create("callback"),de.notifyOpener(e,t)}},he=class{constructor(e){this._settings=e,this._logger=new E("RedirectNavigator")}async prepare({redirectMethod:e=this._settings.redirectMethod,redirectTarget:t=this._settings.redirectTarget}){var n;this._logger.create("prepare");let r=window.self;"top"===t&&(r=null!=(n=window.top)?n:window.self);const o=r.location[e].bind(r.location);let c;return{navigate:async e=>{this._logger.create("navigate");const t=new Promise(((e,t)=>{c=t}));return o(e.url),await t},close:()=>{this._logger.create("close"),null==c||c(new Error("Redirect aborted")),r.stop()}}}async callback(){}},ge=class extends C{constructor(e){super({expiringNotificationTimeInSeconds:e.accessTokenExpiringNotificationTimeInSeconds}),this._logger=new E("UserManagerEvents"),this._userLoaded=new I("User loaded"),this._userUnloaded=new I("User unloaded"),this._silentRenewError=new I("Silent renew error"),this._userSignedIn=new I("User signed in"),this._userSignedOut=new I("User signed out"),this._userSessionChanged=new I("User session changed")}async load(e,t=!0){super.load(e),t&&await this._userLoaded.raise(e)}async unload(){super.unload(),await this._userUnloaded.raise()}addUserLoaded(e){return this._userLoaded.addHandler(e)}removeUserLoaded(e){return this._userLoaded.removeHandler(e)}addUserUnloaded(e){return this._userUnloaded.addHandler(e)}removeUserUnloaded(e){return this._userUnloaded.removeHandler(e)}addSilentRenewError(e){return this._silentRenewError.addHandler(e)}removeSilentRenewError(e){return this._silentRenewError.removeHandler(e)}async _raiseSilentRenewError(e){await this._silentRenewError.raise(e)}addUserSignedIn(e){return this._userSignedIn.addHandler(e)}removeUserSignedIn(e){this._userSignedIn.removeHandler(e)}async _raiseUserSignedIn(){await this._userSignedIn.raise()}addUserSignedOut(e){return this._userSignedOut.addHandler(e)}removeUserSignedOut(e){this._userSignedOut.removeHandler(e)}async _raiseUserSignedOut(){await this._userSignedOut.raise()}addUserSessionChanged(e){return this._userSessionChanged.addHandler(e)}removeUserSessionChanged(e){this._userSessionChanged.removeHandler(e)}async _raiseUserSessionChanged(){await this._userSessionChanged.raise()}},ve=class{constructor(e){this._userManager=e,this._logger=new E("SilentRenewService"),this._isStarted=!1,this._retryTimer=new R("Retry Silent Renew"),this._tokenExpiring=async()=>{const e=this._logger.create("_tokenExpiring");try{await this._userManager.signinSilent(),e.debug("silent token renewal successful")}catch(t){if(t instanceof P)return e.warn("ErrorTimeout from signinSilent:",t,"retry in 5s"),void this._retryTimer.init(5);e.error("Error from signinSilent:",t),await this._userManager.events._raiseSilentRenewError(t)}}}async start(){const e=this._logger.create("start");if(!this._isStarted){this._isStarted=!0,this._userManager.events.addAccessTokenExpiring(this._tokenExpiring),this._retryTimer.addHandler(this._tokenExpiring);try{await this._userManager.getUser()}catch(t){e.error("getUser error",t)}}}stop(){this._isStarted&&(this._retryTimer.cancel(),this._retryTimer.removeHandler(this._tokenExpiring),this._userManager.events.removeAccessTokenExpiring(this._tokenExpiring),this._isStarted=!1)}},_e=class{constructor(e){this.refresh_token=e.refresh_token,this.id_token=e.id_token,this.session_state=e.session_state,this.scope=e.scope,this.profile=e.profile,this.data=e.state}},me=class{constructor(e,t,n,r){this._logger=new E("UserManager"),this.settings=new ce(e),this._client=new J(e),this._redirectNavigator=null!=t?t:new he(this.settings),this._popupNavigator=null!=n?n:new pe(this.settings),this._iframeNavigator=null!=r?r:new fe(this.settings),this._events=new ge(this.settings),this._silentRenewService=new ve(this),this.settings.automaticSilentRenew&&this.startSilentRenew(),this._sessionMonitor=null,this.settings.monitorSession&&(this._sessionMonitor=new ee(this))}get events(){return this._events}get metadataService(){return this._client.metadataService}async getUser(){const e=this._logger.create("getUser"),t=await this._loadUser();return t?(e.info("user loaded"),await this._events.load(t,!1),t):(e.info("user not found in storage"),null)}async removeUser(){const e=this._logger.create("removeUser");await this.storeUser(null),e.info("user removed from storage"),await this._events.unload()}async signinRedirect(e={}){this._logger.create("signinRedirect");const{redirectMethod:t,...n}=e,r=await this._redirectNavigator.prepare({redirectMethod:t});await this._signinStart({request_type:"si:r",...n},r)}async signinRedirectCallback(e=window.location.href){const t=this._logger.create("signinRedirectCallback"),n=await this._signinEnd(e);return n.profile&&n.profile.sub?t.info("success, signed in subject",n.profile.sub):t.info("no subject"),n}async signinResourceOwnerCredentials({username:e,password:t,skipUserInfo:n=!1}){const r=this._logger.create("signinResourceOwnerCredential"),o=await this._client.processResourceOwnerPasswordCredentials({username:e,password:t,skipUserInfo:n,extraTokenParams:this.settings.extraTokenParams});r.debug("got signin response");const c=await this._buildUser(o);return c.profile&&c.profile.sub?r.info("success, signed in subject",c.profile.sub):r.info("no subject"),c}async signinPopup(e={}){const t=this._logger.create("signinPopup"),{popupWindowFeatures:n,popupWindowTarget:r,...o}=e,c=this.settings.popup_redirect_uri;c||t.throw(new Error("No popup_redirect_uri configured"));const l=await this._popupNavigator.prepare({popupWindowFeatures:n,popupWindowTarget:r}),f=await this._signin({request_type:"si:p",redirect_uri:c,display:"popup",...o},l);return f&&(f.profile&&f.profile.sub?t.info("success, signed in subject",f.profile.sub):t.info("no subject")),f}async signinPopupCallback(e=window.location.href,t=!1){const n=this._logger.create("signinPopupCallback");await this._popupNavigator.callback(e,{keepOpen:t}),n.info("success")}async signinSilent(e={}){var t;const n=this._logger.create("signinSilent"),{silentRequestTimeoutInSeconds:r,...o}=e;let c=await this._loadUser();if(null==c?void 0:c.refresh_token){n.debug("using refresh token");const e=new _e(c);return await this._useRefreshToken({state:e,redirect_uri:o.redirect_uri,resource:o.resource,extraTokenParams:o.extraTokenParams,timeoutInSeconds:r})}const l=this.settings.silent_redirect_uri;let f;l||n.throw(new Error("No silent_redirect_uri configured")),c&&this.settings.validateSubOnSilentRenew&&(n.debug("subject prior to silent renew:",c.profile.sub),f=c.profile.sub);const d=await this._iframeNavigator.prepare({silentRequestTimeoutInSeconds:r});return c=await this._signin({request_type:"si:s",redirect_uri:l,prompt:"none",id_token_hint:this.settings.includeIdTokenInSilentRenew?null==c?void 0:c.id_token:void 0,...o},d,f),c&&((null==(t=c.profile)?void 0:t.sub)?n.info("success, signed in subject",c.profile.sub):n.info("no subject")),c}async _useRefreshToken(e){const t=await this._client.useRefreshToken({...e,timeoutInSeconds:this.settings.silentRequestTimeoutInSeconds}),n=new te({...e.state,...t});return await this.storeUser(n),await this._events.load(n),n}async signinSilentCallback(e=window.location.href){const t=this._logger.create("signinSilentCallback");await this._iframeNavigator.callback(e),t.info("success")}async signinCallback(e=window.location.href){const{state:t}=await this._client.readSigninResponseState(e);switch(t.request_type){case"si:r":return await this.signinRedirectCallback(e);case"si:p":return await this.signinPopupCallback(e);case"si:s":return await this.signinSilentCallback(e);default:throw new Error("invalid response_type in state")}}async signoutCallback(e=window.location.href,t=!1){const{state:n}=await this._client.readSignoutResponseState(e);if(n)switch(n.request_type){case"so:r":await this.signoutRedirectCallback(e);break;case"so:p":await this.signoutPopupCallback(e,t);break;case"so:s":await this.signoutSilentCallback(e);break;default:throw new Error("invalid response_type in state")}}async querySessionStatus(e={}){const t=this._logger.create("querySessionStatus"),{silentRequestTimeoutInSeconds:n,...r}=e,o=this.settings.silent_redirect_uri;o||t.throw(new Error("No silent_redirect_uri configured"));const c=await this._loadUser(),l=await this._iframeNavigator.prepare({silentRequestTimeoutInSeconds:n}),f=await this._signinStart({request_type:"si:s",redirect_uri:o,prompt:"none",id_token_hint:this.settings.includeIdTokenInSilentRenew?null==c?void 0:c.id_token:void 0,response_type:this.settings.query_status_response_type,scope:"openid",skipUserInfo:!0,...r},l);try{const e=await this._client.processSigninResponse(f.url);return t.debug("got signin response"),e.session_state&&e.profile.sub?(t.info("success for subject",e.profile.sub),{session_state:e.session_state,sub:e.profile.sub}):(t.info("success, user not authenticated"),null)}catch(e){if(this.settings.monitorAnonymousSession&&e instanceof D)switch(e.error){case"login_required":case"consent_required":case"interaction_required":case"account_selection_required":return t.info("success for anonymous user"),{session_state:e.session_state}}throw e}}async _signin(e,t,n){const r=await this._signinStart(e,t);return await this._signinEnd(r.url,n)}async _signinStart(e,t){const n=this._logger.create("_signinStart");try{const r=await this._client.createSigninRequest(e);return n.debug("got signin request"),await t.navigate({url:r.url,state:r.state.id,response_mode:r.state.response_mode,scriptOrigin:this.settings.iframeScriptOrigin})}catch(e){throw n.debug("error after preparing navigator, closing navigator window"),t.close(),e}}async _signinEnd(e,t){const n=this._logger.create("_signinEnd"),r=await this._client.processSigninResponse(e);n.debug("got signin response");return await this._buildUser(r,t)}async _buildUser(e,t){const n=this._logger.create("_buildUser"),r=new te(e);if(t){if(t!==r.profile.sub)throw n.debug("current user does not match user returned from signin. sub from signin:",r.profile.sub),new D({...e,error:"login_required"});n.debug("current user matches user returned from signin")}return await this.storeUser(r),n.debug("user stored"),await this._events.load(r),r}async signoutRedirect(e={}){const t=this._logger.create("signoutRedirect"),{redirectMethod:n,...r}=e,o=await this._redirectNavigator.prepare({redirectMethod:n});await this._signoutStart({request_type:"so:r",post_logout_redirect_uri:this.settings.post_logout_redirect_uri,...r},o),t.info("success")}async signoutRedirectCallback(e=window.location.href){const t=this._logger.create("signoutRedirectCallback"),n=await this._signoutEnd(e);return t.info("success"),n}async signoutPopup(e={}){const t=this._logger.create("signoutPopup"),{popupWindowFeatures:n,popupWindowTarget:r,...o}=e,c=this.settings.popup_post_logout_redirect_uri,l=await this._popupNavigator.prepare({popupWindowFeatures:n,popupWindowTarget:r});await this._signout({request_type:"so:p",post_logout_redirect_uri:c,state:null==c?void 0:{},...o},l),t.info("success")}async signoutPopupCallback(e=window.location.href,t=!1){const n=this._logger.create("signoutPopupCallback");await this._popupNavigator.callback(e,{keepOpen:t}),n.info("success")}async _signout(e,t){const n=await this._signoutStart(e,t);return await this._signoutEnd(n.url)}async _signoutStart(e={},t){var n;const r=this._logger.create("_signoutStart");try{const o=await this._loadUser();r.debug("loaded current user from storage"),this.settings.revokeTokensOnSignout&&await this._revokeInternal(o);const c=e.id_token_hint||o&&o.id_token;c&&(r.debug("setting id_token_hint in signout request"),e.id_token_hint=c),await this.removeUser(),r.debug("user removed, creating signout request");const l=await this._client.createSignoutRequest(e);return r.debug("got signout request"),await t.navigate({url:l.url,state:null==(n=l.state)?void 0:n.id,scriptOrigin:this.settings.iframeScriptOrigin})}catch(e){throw r.debug("error after preparing navigator, closing navigator window"),t.close(),e}}async _signoutEnd(e){const t=this._logger.create("_signoutEnd"),n=await this._client.processSignoutResponse(e);return t.debug("got signout response"),n}async signoutSilent(e={}){var t;const n=this._logger.create("signoutSilent"),{silentRequestTimeoutInSeconds:r,...o}=e,c=this.settings.includeIdTokenInSilentSignout?null==(t=await this._loadUser())?void 0:t.id_token:void 0,l=this.settings.popup_post_logout_redirect_uri,f=await this._iframeNavigator.prepare({silentRequestTimeoutInSeconds:r});await this._signout({request_type:"so:s",post_logout_redirect_uri:l,id_token_hint:c,...o},f),n.info("success")}async signoutSilentCallback(e=window.location.href){const t=this._logger.create("signoutSilentCallback");await this._iframeNavigator.callback(e),t.info("success")}async revokeTokens(e){const t=await this._loadUser();await this._revokeInternal(t,e)}async _revokeInternal(e,t=this.settings.revokeTokenTypes){const n=this._logger.create("_revokeInternal");if(!e)return;const r=t.filter((t=>"string"==typeof e[t]));if(r.length){for(const t of r)await this._client.revokeToken(e[t],t),n.info(`${t} revoked successfully`),"access_token"!==t&&(e[t]=null);await this.storeUser(e),n.debug("user stored"),await this._events.load(e)}else n.debug("no need to revoke due to no token(s)")}startSilentRenew(){this._logger.create("startSilentRenew"),this._silentRenewService.start()}stopSilentRenew(){this._silentRenewService.stop()}get _userStoreKey(){return`user:${this.settings.authority}:${this.settings.client_id}`}async _loadUser(){const e=this._logger.create("_loadUser"),t=await this.settings.userStore.get(this._userStoreKey);return t?(e.debug("user storageString loaded"),te.fromStorageString(t)):(e.debug("no user storageString"),null)}async storeUser(e){const t=this._logger.create("storeUser");if(e){t.debug("storing user");const n=e.toStorageString();await this.settings.userStore.set(this._userStoreKey,n)}else this._logger.debug("removing user"),await this.settings.userStore.remove(this._userStoreKey)}async clearStaleState(){await this._client.clearStaleState()}},ye="3.0.1"},58:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return f}));var r=n(25);class o{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const c="[DEFAULT]";class l{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new r.a;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(e){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(e){if(r)return null;throw e}}getComponent(){return this.component}setComponent(component){if(component.name!==this.name)throw Error(`Mismatching Component ${component.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=component,this.shouldAutoInitialize()){if(function(component){return"EAGER"===component.instantiationMode}(component))try{this.getOrInitializeService({instanceIdentifier:c})}catch(e){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(e){}}}}clearInstance(e=c){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(e=c){return this.instances.has(e)}getOptions(e=c){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[e,t]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(e)&&t.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),o=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;o.add(e),this.onInitCallbacks.set(r,o);const c=this.instances.get(r);return c&&e(c,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch(e){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(r=e,r===c?void 0:r),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch(e){}var r;return n||null}normalizeInstanceIdentifier(e=c){return this.component?this.component.multipleInstances?e:c:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class f{constructor(e){this.name=e,this.providers=new Map}addComponent(component){const e=this.getProvider(component.name);if(e.isComponentSet())throw new Error(`Component ${component.name} has already been registered with ${this.name}`);e.setComponent(component)}addOrOverwriteComponent(component){this.getProvider(component.name).isComponentSet()&&this.providers.delete(component.name),this.addComponent(component)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new l(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}},581:function(e,t,n){"use strict";function r(e,t){return t=t||{},new Promise((function(n,r){var s=new XMLHttpRequest,o=[],u={},a=function e(){return{ok:2==(s.status/100|0),statusText:s.statusText,status:s.status,url:s.responseURL,text:function(){return Promise.resolve(s.responseText)},json:function(){return Promise.resolve(s.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([s.response]))},clone:e,headers:{keys:function(){return o},entries:function(){return o.map((function(e){return[e,s.getResponseHeader(e)]}))},get:function(e){return s.getResponseHeader(e)},has:function(e){return null!=s.getResponseHeader(e)}}}};for(var i in s.open(t.method||"get",e,!0),s.onload=function(){s.getAllResponseHeaders().toLowerCase().replace(/^(.+?):/gm,(function(e,t){u[t]||o.push(u[t]=t)})),n(a())},s.onerror=r,s.withCredentials="include"==t.credentials,t.headers)s.setRequestHeader(i,t.headers[i]);s.send(t.body||null)}))}n.d(t,"a",(function(){return r}))},582:function(e,t,n){"use strict";var r=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===o}(e)}(e)};var o="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function c(e,t){return!1!==t.clone&&t.isMergeableObject(e)?v((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function l(e,source,t){return e.concat(source).map((function(element){return c(element,t)}))}function f(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(symbol){return e.propertyIsEnumerable(symbol)})):[]}(e))}function d(object,e){try{return e in object}catch(e){return!1}}function h(e,source,t){var n={};return t.isMergeableObject(e)&&f(e).forEach((function(r){n[r]=c(e[r],t)})),f(source).forEach((function(r){(function(e,t){return d(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,r)||(d(e,r)&&t.isMergeableObject(source[r])?n[r]=function(e,t){if(!t.customMerge)return v;var n=t.customMerge(e);return"function"==typeof n?n:v}(r,t)(e[r],source[r],t):n[r]=c(source[r],t))})),n}function v(e,source,t){(t=t||{}).arrayMerge=t.arrayMerge||l,t.isMergeableObject=t.isMergeableObject||r,t.cloneUnlessOtherwiseSpecified=c;var n=Array.isArray(source);return n===Array.isArray(e)?n?t.arrayMerge(e,source,t):h(e,source,t):c(source,t)}v.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return v(e,n,t)}),{})};var _=v;e.exports=_},591:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.glueBBWTrackingToPiano=void 0;var r=n(699),o=n(700),c=n(702);function l(e,t){if(!window.bbCustomStatistics){var n=function(){return new c.QueuedMedia(e)};window.bbCustomStatistics=new r.bbCustomStatistics((function(e){return new o.CustomStatisticsSession(e,n)}))}window.bbCustomStatistics.bbCustomStaticsCallback=t}t.glueBBWTrackingToPiano=l,t.default={glueBBWTrackingToPiano:l}},596:function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var t in source)Object.prototype.hasOwnProperty.call(source,t)&&(e[t]=source[t])}return e},r.apply(this,arguments)}var o=Object.prototype.hasOwnProperty;var c,l,f,d=(c=!1,l=[],f={resolved:function(){return c},resolve:function(e){if(!c){c=!0;for(var i=0,t=l.length;i<t;i++)l[i](e)}},promise:{then:function(e){c?e():l.push(e)}}},{notify:function(){f.resolve()},wait:function(){return f.promise},render:function(e,t,n){this.wait().then((function(){n(window.grecaptcha.render(e,t))}))},reset:function(e){void 0!==e&&(this.assertLoaded(),this.wait().then((function(){return window.grecaptcha.reset(e)})))},execute:function(e){void 0!==e&&(this.assertLoaded(),this.wait().then((function(){return window.grecaptcha.execute(e)})))},checkRecaptchaLoad:function(){o.call(window,"grecaptcha")&&o.call(window.grecaptcha,"render")&&this.notify()},assertLoaded:function(){if(!f.resolved())throw new Error("ReCAPTCHA has not been loaded")}});"undefined"!=typeof window&&(window.vueRecaptchaApiLoaded=d.notify);var h={name:"VueRecaptcha",props:{sitekey:{type:String,required:!0},theme:{type:String},badge:{type:String},type:{type:String},size:{type:String},tabindex:{type:String},loadRecaptchaScript:{type:Boolean,default:!1},recaptchaScriptId:{type:String,default:"__RECAPTCHA_SCRIPT"},recaptchaHost:{type:String,default:"www.google.com"},language:{type:String,default:""}},beforeMount:function(){if(this.loadRecaptchaScript&&!document.getElementById(this.recaptchaScriptId)){var script=document.createElement("script");script.id=this.recaptchaScriptId,script.src="https://"+this.recaptchaHost+"/recaptcha/api.js?onload=vueRecaptchaApiLoaded&render=explicit&hl="+this.language,script.async=!0,script.defer=!0,document.head.appendChild(script)}},mounted:function(){var e=this;d.checkRecaptchaLoad();var t=r({},this.$props,{callback:this.emitVerify,"expired-callback":this.emitExpired,"error-callback":this.emitError}),n=this.$slots.default?this.$el.children[0]:this.$el;d.render(n,t,(function(t){e.$widgetId=t,e.$emit("render",t)}))},methods:{reset:function(){d.reset(this.$widgetId)},execute:function(){d.execute(this.$widgetId)},emitVerify:function(e){this.$emit("verify",e)},emitExpired:function(){this.$emit("expired")},emitError:function(){this.$emit("error")}},render:function(e){return e("div",{},this.$slots.default)}};t.a=h},597:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReCaptchaInstance=t.getInstance=t.load=void 0;var r=n(823);Object.defineProperty(t,"load",{enumerable:!0,get:function(){return r.load}}),Object.defineProperty(t,"getInstance",{enumerable:!0,get:function(){return r.getInstance}});var o=n(504);Object.defineProperty(t,"ReCaptchaInstance",{enumerable:!0,get:function(){return o.ReCaptchaInstance}})},599:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(32);n(20),n(51),n(52);function o(e){return null!==e&&"object"===Object(r.a)(e)}function c(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".",r=arguments.length>3?arguments[3]:void 0;if(!o(t))return c(e,{},n,r);var l=Object.assign({},t);for(var f in e)if("__proto__"!==f&&"constructor"!==f){var d=e[f];null!=d&&(r&&r(l,f,d,n)||(Array.isArray(d)&&Array.isArray(l[f])?l[f]=l[f].concat(d):o(d)&&o(l[f])?l[f]=c(d,l[f],(n?"".concat(n,"."):"")+f.toString(),r):l[f]=d))}return l}function l(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.reduce((function(p,t){return c(p,t,"",e)}),{})}}var f=l();f.fn=l((function(e,t,n,r){if(void 0!==e[t]&&"function"==typeof n)return e[t]=n(e[t]),!0})),f.arrayFn=l((function(e,t,n,r){if(Array.isArray(e[t])&&"function"==typeof n)return e[t]=n(e[t]),!0})),f.extend=l},600:function(e,t,n){"use strict";var r=n(96);const[o]=r.a.version.split(".");function c(e,t,n){e[t]||(e[t]=n)}t.a=function(e,{origin:t,mode:n}){const{route:r,req:o}=e;if(!r.matched[0])return;const c="/amp"===r.path||0===r.path.indexOf("/amp/"),{options:d}=r.matched[0].components.default,h=Array.isArray(r.meta)?r.meta[0].amp:r.meta.amp;let v=function(...e){for(const t of e)if(void 0!==t)return t}(d.amp,h,n),_=!1;switch(v){case!0:case"only":if(_=!0,v="only",d.amp&&c)return e.error({statusCode:404,message:"This page could not be found"});break;case"hybrid":_=c,v="hybrid";break;default:_=!1,v=!1,c&&e.error({statusCode:404,message:"This page could not be found"})}!1===v||d._amp||(d.head=l(d.head,t),d.layout=f(d.layout,d.ampLayout),d._amp=!0);const m=o||{};return m.isAMP=_,{req:m,isAMP:_,ampMode:v}};const l=(e,t)=>function(){let head;switch(t=window.location.origin,typeof e){case"function":head=e.call(this);break;case"object":head={...e};break;default:head={}}if(c(head,"link",[]),this.$isAMP){if(!head.link.find((e=>"canonical"===e.rel||"canonical"===e.hid))){const path=this.$isAMP&&"only"!==this.$ampMode?this.$route.fullPath.replace(/^\/amp(\/.*)?/,"$1"):this.$route.fullPath;head.link.push({rel:"canonical",hid:"canonical",href:t+path})}c(head,"htmlAttrs",{}),head.htmlAttrs.amp=o>=2||void 0,c(head,"bodyAttrs",{}),c(head.bodyAttrs,"class",""),head.bodyAttrs.class+=" __amp"}if(!1!==this.$ampMode&&!1===this.$isAMP&&!head.link.find((e=>"amphtml"===e.rel||"amphtml"===e.hid))){const e="only"===this.$ampMode?"":"/amp";head.link.push({rel:"amphtml",hid:"amphtml",href:t+e+this.$route.fullPath})}return head},f=(e,t)=>function(n){let r;return n.app.$isAMP&&t?(r=t,"function"==typeof r&&(r=r.call(this,n)),r):(r=e||"default","function"==typeof r&&(r=r.call(this,n)),r)}},601:function(e,t,n){"undefined"!=typeof self&&self,e.exports=function(e){var t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=0)}([function(e,t,i){e.exports=i(1)},function(e,t,i){"use strict";i.r(t),i.d(t,"ShareNetwork",(function(){return o}));var n={baidu:"http://cang.baidu.com/do/add?iu=@u&it=@t",buffer:"https://bufferapp.com/add?text=@t&url=@u",email:"mailto:?subject=@t&body=@u%0D%0A@d",evernote:"https://www.evernote.com/clip.action?url=@u&title=@t",facebook:"https://www.facebook.com/sharer/sharer.php?u=@u&title=@t&description=@d&quote=@q&hashtag=@h",flipboard:"https://share.flipboard.com/bookmarklet/popout?v=2&url=@u&title=@t",hackernews:"https://news.ycombinator.com/submitlink?u=@u&t=@t",instapaper:"http://www.instapaper.com/edit?url=@u&title=@t&description=@d",line:"http://line.me/R/msg/text/?@t%0D%0A@u%0D%0A@d",linkedin:"https://www.linkedin.com/sharing/share-offsite/?url=@u",messenger:"fb-messenger://share/?link=@u",odnoklassniki:"https://connect.ok.ru/dk?st.cmd=WidgetSharePreview&st.shareUrl=@u&st.comments=@t",pinterest:"https://pinterest.com/pin/create/button/?url=@u&media=@m&description=@t",pocket:"https://getpocket.com/save?url=@u&title=@t",quora:"https://www.quora.com/share?url=@u&title=@t",reddit:"https://www.reddit.com/submit?url=@u&title=@t",skype:"https://web.skype.com/share?url=@t%0D%0A@u%0D%0A@d",sms:"sms:?body=@t%0D%0A@u%0D%0A@d",stumbleupon:"https://www.stumbleupon.com/submit?url=@u&title=@t",telegram:"https://t.me/share/url?url=@u&text=@t%0D%0A@d",tumblr:"https://www.tumblr.com/share/link?url=@u&name=@t&description=@d",twitter:"https://twitter.com/intent/tweet?text=@t&url=@u&hashtags=@h@tu",viber:"viber://forward?text=@t%0D%0A@u%0D%0A@d",vk:"https://vk.com/share.php?url=@u&title=@t&description=@d&image=@m&noparse=true",weibo:"http://service.weibo.com/share/share.php?url=@u&title=@t&pic=@m",whatsapp:"https://api.whatsapp.com/send?text=@t%0D%0A@u%0D%0A@d",wordpress:"https://wordpress.com/press-this.php?u=@u&t=@t&s=@d&i=@m",xing:"https://www.xing.com/social/share/spi?op=share&url=@u&title=@t",yammer:"https://www.yammer.com/messages/new?login=true&status=@t%0D%0A@u%0D%0A@d"},r="undefined"!=typeof window?window:null,o={name:"ShareNetwork",props:{network:{type:String,required:!0},url:{type:String,required:!0},title:{type:String,required:!0},description:{type:String,default:""},quote:{type:String,default:""},hashtags:{type:String,default:""},twitterUser:{type:String,default:""},media:{type:String,default:""},tag:{type:String,default:"a"},popup:{type:Object,default:function(){return{width:626,height:436}}}},data:function(){return{popupTop:0,popupLeft:0,popupWindow:void 0,popupInterval:null}},computed:{networks:function(){return this.$SocialSharing?this.$SocialSharing.options.networks:n},key:function(){return this.network.toLowerCase()},rawLink:function(){var e=navigator.userAgent.toLowerCase();return"sms"===this.key&&(e.indexOf("iphone")>-1||e.indexOf("ipad")>-1)?this.networks[this.key].replace(":?",":&"):this.networks[this.key]},shareLink:function(){var e=this.rawLink;return"twitter"===this.key&&(this.hashtags.length||(e=e.replace("&hashtags=@h","")),this.twitterUser.length||(e=e.replace("@tu",""))),e.replace(/@tu/g,"&via="+encodeURIComponent(this.twitterUser)).replace(/@u/g,encodeURIComponent(this.url)).replace(/@t/g,encodeURIComponent(this.title)).replace(/@d/g,encodeURIComponent(this.description)).replace(/@q/g,encodeURIComponent(this.quote)).replace(/@h/g,this.encodedHashtags).replace(/@m/g,encodeURIComponent(this.media))},encodedHashtags:function(){return"facebook"===this.key&&this.hashtags.length?"%23"+this.hashtags.split(",")[0]:this.hashtags}},render:function(e){var t=this;if(!this.networks.hasOwnProperty(this.key))throw new Error("Network "+this.key+" does not exist");var i={class:"share-network-"+this.key,on:{click:function(){return t["http"===t.rawLink.substring(0,4)?"share":"touch"]()}}};return"a"===this.tag&&(i.attrs={href:"javascript:void(0)"}),e(this.tag,i,this.$slots.default)},methods:{resizePopup:function(){var e=r.innerWidth||document.documentElement.clientWidth||r.screenX,t=r.innerHeight||document.documentElement.clientHeight||r.screenY,i=e/r.screen.availWidth;this.popupLeft=(e-this.popup.width)/2/i+(void 0!==r.screenLeft?r.screenLeft:r.screenX),this.popupTop=(t-this.popup.height)/2/i+(void 0!==r.screenTop?r.screenTop:r.screenY)},share:function(){var e=this;this.resizePopup(),this.popupWindow&&this.popupInterval&&(clearInterval(this.popupInterval),this.popupWindow.close(),this.emit("change")),this.popupWindow=r.open(this.shareLink,"sharer-"+this.key,",height="+this.popup.height+",width="+this.popup.width+",left="+this.popupLeft+",top="+this.popupTop+",screenX="+this.popupLeft+",screenY="+this.popupTop),this.popupWindow&&(this.popupWindow.focus(),this.popupInterval=setInterval((function(){e.popupWindow&&!e.popupWindow.closed||(clearInterval(e.popupInterval),e.popupWindow=null,e.emit("close"))}),500),this.emit("open"))},touch:function(){window.open(this.shareLink,"_blank"),this.emit("open")},emit:function(e){this.$root.$emit("share_network_"+e,this.key,this.url),this.$emit(e,this.key,this.url)}}};t.default={install:function(e,t){e.component(o.name,o),e.prototype.$SocialSharing={options:{networks:t&&t.hasOwnProperty("networks")?Object.assign(n,t.networks):n}}}}}])},602:function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));n(5),n(6),n(3),n(7),n(8);var r=n(0),o=n(162),c=n(163),l=(n(20),n(4)),f=n(603),d=n.n(f),h=n(291);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var _=function(){function e(t,n){Object(o.a)(this,e),this.ctx=t,this.options=n,this._initState(n.initialState)}return Object(c.a)(e,[{key:"setUniversal",value:function(e,t){return this.setState(e,t),this.setCookie(e,t),this.setLocalStorage(e,t),t}},{key:"getUniversal",value:function(e){var t=this.getState(e);return m(t)&&(t=this.getCookie(e)),m(t)&&(t=this.getLocalStorage(e)),t}},{key:"syncUniversal",value:function(e,t){var n=this.getUniversal(e);return m(n)&&y(t)&&(n=t),y(n)&&this.setUniversal(e,n),n}},{key:"removeUniversal",value:function(e){this.removeState(e),this.removeLocalStorage(e),this.removeCookie(e)}},{key:"_initState",value:function(e){if(l.default.set(this,"_state",{}),this._useVuex=this.options.vuex&&this.ctx.store,this._useVuex){var t={namespaced:!0,state:function(){return{}},mutations:{SET:function(e,t){l.default.set(e,t.key,t.value)}}};this.ctx.store.registerModule(this.options.vuex.namespace,t,{preserveState:Boolean(this.ctx.store.state[this.options.vuex.namespace])}),this.state=this.ctx.store.state[this.options.vuex.namespace]}else l.default.set(this,"state",{});for(var n in e)this.syncUniversal(n,e[n])}},{key:"setState",value:function(e,t){return"_"===e[0]?l.default.set(this._state,e,t):this._useVuex?this.ctx.store.commit(this.options.vuex.namespace+"/SET",{key:e,value:t}):l.default.set(this.state,e,t),t}},{key:"getState",value:function(e){return"_"!==e[0]?this.state[e]:this._state[e]}},{key:"watchState",value:function(e,t){var n=this;if(this._useVuex)return this.ctx.store.watch((function(t){return d()(t[n.options.vuex.namespace],e)}),t)}},{key:"removeState",value:function(e){this.setState(e,void 0)}},{key:"setLocalStorage",value:function(e,t){if("undefined"!=typeof localStorage&&this.options.localStorage){var n,r,o=this.options.localStorage.prefix+e;try{n=t,"[object Object]"===(r=Object.prototype.toString.call(n))||"[object Array]"===r?localStorage.setItem(o,JSON.stringify(t)):localStorage.setItem(o,t)}catch(e){if(!this.options.ignoreExceptions)throw e}return t}}},{key:"getLocalStorage",value:function(e){if("undefined"!=typeof localStorage&&this.options.localStorage){var t=this.options.localStorage.prefix+e;return E(localStorage.getItem(t))}}},{key:"removeLocalStorage",value:function(e){if("undefined"!=typeof localStorage&&this.options.localStorage){var t=this.options.localStorage.prefix+e;localStorage.removeItem(t)}}},{key:"getCookies",value:function(){var e=document.cookie;return Object(h.parse)(e||"")||{}}},{key:"setCookie",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.options.cookie){var r=this.options.cookie.prefix+e,o=Object.assign({},this.options.cookie.options,n),c=function(e){if("string"==typeof e)return e;return JSON.stringify(e)}(t),l=Object(h.serialize)(r,c,o);return document.cookie=l,t}}},{key:"getCookie",value:function(e){if(this.options.cookie){var t=this.options.cookie.prefix+e,n=this.getCookies();return E(n[t]?decodeURIComponent(n[t]):void 0)}}},{key:"removeCookie",value:function(e,t){this.setCookie(e,void 0,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({maxAge:-1},t))}}]),e}();function m(e){return null==e}function y(e){return!m(e)}function E(e){var t=Object.prototype.toString.call(e);if("[object Object]"===t)return e;if("undefined"===t)return e;try{return JSON.parse(e)}catch(t){return e}}},604:function(e,t,n){function r(e){return-1!==e.type.indexOf("mouse")?e.clientX:e.touches[0].clientX}function o(e){return-1!==e.type.indexOf("mouse")?e.clientY:e.touches[0].clientY}var c=function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,t)}catch(e){}return e}(),l=0,f={install:function(e,t){var n=Object.assign({},{disableClick:!1,tapTolerance:10,swipeTolerance:30,touchHoldTolerance:400,longTapTimeInterval:400,touchClass:"",namespace:"touch"},t);function f(e){var t=this.$$touchObj,n=e.type.indexOf("touch")>=0,c=e.type.indexOf("mouse")>=0,f=this;n&&(l=e.timeStamp),c&&l&&e.timeStamp-l<350||t.touchStarted||(E(this),t.touchStarted=!0,t.touchMoved=!1,t.swipeOutBounded=!1,t.startX=r(e),t.startY=o(e),t.currentX=0,t.currentY=0,t.touchStartTime=e.timeStamp,t.touchHoldTimer=setTimeout((function(){t.touchHoldTimer=null,y(e,f,"touchhold")}),t.options.touchHoldTolerance),y(e,this,"start"))}function d(e){var t=this.$$touchObj;if(t.currentX=r(e),t.currentY=o(e),t.touchMoved){if(!t.swipeOutBounded){var n=t.options.swipeTolerance;t.swipeOutBounded=Math.abs(t.startX-t.currentX)>n&&Math.abs(t.startY-t.currentY)>n}}else{var c=t.options.tapTolerance;t.touchMoved=Math.abs(t.startX-t.currentX)>c||Math.abs(t.startY-t.currentY)>c,t.touchMoved&&(T(t),y(e,this,"moved"))}t.touchMoved&&y(e,this,"moving")}function h(){var e=this.$$touchObj;T(e),w(this),e.touchStarted=e.touchMoved=!1,e.startX=e.startY=0}function v(e){var t=this.$$touchObj,n=e.type.indexOf("touch")>=0,r=e.type.indexOf("mouse")>=0;n&&(l=e.timeStamp);var o=n&&!t.touchHoldTimer;if(T(t),t.touchStarted=!1,w(this),!(r&&l&&e.timeStamp-l<350))if(y(e,this,"end"),t.touchMoved){if(!t.swipeOutBounded){var c,f=t.options.swipeTolerance,d=Math.abs(t.startY-t.currentY),h=Math.abs(t.startX-t.currentX);(d>f||h>f)&&(c=d>h?t.startY>t.currentY?"top":"bottom":t.startX>t.currentX?"left":"right",t.callbacks["swipe."+c]?y(e,this,"swipe."+c,c):y(e,this,"swipe",c))}}else if(t.callbacks.longtap&&e.timeStamp-t.touchStartTime>t.options.longTapTimeInterval)e.cancelable&&e.preventDefault(),y(e,this,"longtap");else{if(t.callbacks.touchhold&&o)return void(e.cancelable&&e.preventDefault());y(e,this,"tap")}}function _(){E(this)}function m(){w(this)}function y(e,t,n,param){var r=t.$$touchObj,o=r&&r.callbacks[n]||[];if(0===o.length)return null;for(var i=0;i<o.length;i++){var c=o[i];c.modifiers.stop&&e.stopPropagation(),c.modifiers.prevent&&e.cancelable&&e.preventDefault(),c.modifiers.self&&e.target!==e.currentTarget||"function"==typeof c.value&&(param?c.value(param,e):c.value(e))}}function E(e){var t=e.$$touchObj.options.touchClass;t&&e.classList.add(t)}function w(e){var t=e.$$touchObj.options.touchClass;t&&e.classList.remove(t)}function T(e){e.touchHoldTimer&&(clearTimeout(e.touchHoldTimer),e.touchHoldTimer=null)}function I(e,t){var r=e.$$touchObj||{callbacks:{},hasBindTouchEvents:!1,options:n};return t&&(r.options=Object.assign({},r.options,t)),e.$$touchObj=r,e.$$touchObj}e.directive(n.namespace,{bind:function(e,t){var n=I(e),r=!!c&&{passive:!0},o=t.arg||"tap";switch(o){case"swipe":var l=t.modifiers;if(l.left||l.right||l.top||l.bottom){for(var i in t.modifiers)if(["left","right","top","bottom"].indexOf(i)>=0){var y="swipe."+i;n.callbacks[y]=n.callbacks[y]||[],n.callbacks[y].push(t)}}else n.callbacks.swipe=n.callbacks.swipe||[],n.callbacks.swipe.push(t);break;case"start":case"moving":t.modifiers.disablePassive&&(r=!1);default:n.callbacks[o]=n.callbacks[o]||[],n.callbacks[o].push(t)}n.hasBindTouchEvents||(e.addEventListener("touchstart",f,r),e.addEventListener("touchmove",d,r),e.addEventListener("touchcancel",h),e.addEventListener("touchend",v),n.options.disableClick||(e.addEventListener("mousedown",f),e.addEventListener("mousemove",d),e.addEventListener("mouseup",v),e.addEventListener("mouseenter",_),e.addEventListener("mouseleave",m)),n.hasBindTouchEvents=!0)},unbind:function(e){e.removeEventListener("touchstart",f),e.removeEventListener("touchmove",d),e.removeEventListener("touchcancel",h),e.removeEventListener("touchend",v),e.$$touchObj&&!e.$$touchObj.options.disableClick&&(e.removeEventListener("mousedown",f),e.removeEventListener("mousemove",d),e.removeEventListener("mouseup",v),e.removeEventListener("mouseenter",_),e.removeEventListener("mouseleave",m)),delete e.$$touchObj}}),e.directive(n.namespace+"-class",{bind:function(e,t){I(e,{touchClass:t.value})}}),e.directive(n.namespace+"-options",{bind:function(e,t){I(e,t.value)}})}};e.exports=f},615:function(e,t,n){"use strict";n.r(t),n.d(t,"InvalidTokenError",(function(){return r})),n.d(t,"jwtDecode",(function(){return c}));class r extends Error{}function o(e){let output=e.replace(/-/g,"+").replace(/_/g,"/");switch(output.length%4){case 0:break;case 2:output+="==";break;case 3:output+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return function(e){return decodeURIComponent(atob(e).replace(/(.)/g,((e,p)=>{let code=p.charCodeAt(0).toString(16).toUpperCase();return code.length<2&&(code="0"+code),"%"+code})))}(output)}catch(e){return atob(output)}}function c(e,t){if("string"!=typeof e)throw new r("Invalid token specified: must be a string");t||(t={});const n=!0===t.header?0:1,c=e.split(".")[n];if("string"!=typeof c)throw new r(`Invalid token specified: missing part #${n+1}`);let l;try{l=o(c)}catch(e){throw new r(`Invalid token specified: invalid base64 for part #${n+1} (${e.message})`)}try{return JSON.parse(l)}catch(e){throw new r(`Invalid token specified: invalid json for part #${n+1} (${e.message})`)}}r.prototype.name="InvalidTokenError"},619:function(e,t,n){"use strict";n.r(t),n.d(t,"ValidationObserver",(function(){return we})),n.d(t,"ValidationProvider",(function(){return me})),n.d(t,"configure",(function(){return x})),n.d(t,"extend",(function(){return P})),n.d(t,"localeChanged",(function(){return X})),n.d(t,"localize",(function(){return Q})),n.d(t,"normalizeRules",(function(){return N})),n.d(t,"setInteractionMode",(function(){return H})),n.d(t,"validate",(function(){return G})),n.d(t,"version",(function(){return Re})),n.d(t,"withValidation",(function(){return Ae}));var r=n(4),o=function(){return o=Object.assign||function(e){for(var s,i=1,t=arguments.length;i<t;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(e[p]=s[p]);return e},o.apply(this,arguments)};function c(e,t,n,r){return new(n||(n=Promise))((function(o,c){function l(e){try{d(r.next(e))}catch(e){c(e)}}function f(e){try{d(r.throw(e))}catch(e){c(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,f)}d((r=r.apply(e,t||[])).next())}))}function l(e,body){var t,n,r,g,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return g={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function c(c){return function(l){return function(c){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,n&&(r=2&c[0]?n.return:c[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,c[1])).done)return r;switch(n=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(r=o.trys,(r=r.length>0&&r[r.length-1])||6!==c[0]&&2!==c[0])){o=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){o.label=c[1];break}if(6===c[0]&&o.label<r[1]){o.label=r[1],r=c;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(c);break}r[2]&&o.ops.pop(),o.trys.pop();continue}c=body.call(e,o)}catch(e){c=[6,e],n=0}finally{t=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}}function f(){for(var s=0,i=0,e=arguments.length;i<e;i++)s+=arguments[i].length;var t=Array(s),n=0;for(i=0;i<e;i++)for(var a=arguments[i],r=0,o=a.length;r<o;r++,n++)t[n]=a[r];return t}function d(e){return e!=e}function h(e){return null==e}var v=function(e){return null!==e&&e&&"object"==typeof e&&!Array.isArray(e)};function _(e){return""!==e&&!h(e)}function m(e){return"function"==typeof e}function y(e){return m(e)&&!!e.__locatorRef}function E(e,t){var n=Array.isArray(e)?e:T(e);if(m(n.findIndex))return n.findIndex(t);for(var i=0;i<n.length;i++)if(t(n[i],i))return i;return-1}function w(e,t){return-1!==e.indexOf(t)}function T(e){return m(Array.from)?Array.from(e):function(e){for(var t=[],n=e.length,i=0;i<n;i++)t.push(e[i]);return t}(e)}function I(e){return m(Object.values)?Object.values(e):Object.keys(e).map((function(t){return e[t]}))}function S(e,source){return Object.keys(source).forEach((function(t){if(v(source[t]))return e[t]||(e[t]={}),void S(e[t],source[t]);e[t]=source[t]})),e}function O(e){return e}function A(e,t,n){return void 0===t&&(t=0),void 0===n&&(n={cancelled:!1}),0===t?e:function(){for(var o=[],c=0;c<arguments.length;c++)o[c]=arguments[c];clearTimeout(r),r=setTimeout((function(){r=void 0,n.cancelled||e.apply(void 0,o)}),t)};var r}function R(template,e){return template.replace(/{([^}]+)}/g,(function(t,p){return p in e?e[p]:"{"+p+"}"}))}var k={};var D=function(){function e(){}return e.extend=function(e,t){var n=function(e){var t;return(null===(t=e.params)||void 0===t?void 0:t.length)&&(e.params=e.params.map((function(param){return"string"==typeof param?{name:param}:param}))),e}(t);k[e]?k[e]=S(k[e],t):k[e]=o({lazy:!1,computesRequired:!1},n)},e.isLazy=function(e){var t;return!!(null===(t=k[e])||void 0===t?void 0:t.lazy)},e.isRequireRule=function(e){var t;return!!(null===(t=k[e])||void 0===t?void 0:t.computesRequired)},e.getRuleDefinition=function(e){return k[e]},e}();function P(e,t){!function(e,t){if(m(t))return;if(m(t.validate))return;if(D.getRuleDefinition(e))return;throw new Error("Extension Error: The validator '"+e+"' must be a function or have a 'validate' method.")}(e,t),"object"!=typeof t?D.extend(e,{validate:t}):D.extend(e,t)}var C=o({},{defaultMessage:"{_field_} is not valid.",skipOptional:!0,classes:{touched:"touched",untouched:"untouched",valid:"valid",invalid:"invalid",pristine:"pristine",dirty:"dirty"},bails:!0,mode:"aggressive",useConstraintAttrs:!0}),M=function(){return C},L=function(e){C=o(o({},C),e)},x=function(e){L(e)};function N(e){var t,n={};return Object.defineProperty(n,"_$$isNormalized",{value:!0,writable:!1,enumerable:!1,configurable:!1}),e?v(e)&&e._$$isNormalized?e:v(e)?Object.keys(e).reduce((function(t,n){var r=[];return r=!0===e[n]?[]:Array.isArray(e[n])||v(e[n])?e[n]:[e[n]],!1!==e[n]&&(t[n]=j(n,r)),t}),n):"string"!=typeof e?(t="rules must be either a string or an object.",console.warn("[vee-validate] "+t),n):e.split("|").reduce((function(e,t){var n=F(t);return n.name?(e[n.name]=j(n.name,n.params),e):e}),n):n}function j(e,t){var n=D.getRuleDefinition(e);if(!n)return t;var r,o,c={};if(!n.params&&!Array.isArray(t))throw new Error("You provided an object params to a rule that has no defined schema.");if(Array.isArray(t)&&!n.params)return t;!n.params||n.params.length<t.length&&Array.isArray(t)?r=t.map((function(e,t){var r,param=null===(r=n.params)||void 0===r?void 0:r[t];return o=param||o,param||(param=o),param})):r=n.params;for(var i=0;i<r.length;i++){var l=r[i],f=l.default;Array.isArray(t)?i in t&&(f=t[i]):l.name in t?f=t[l.name]:1===r.length&&(f=t),l.isTarget&&(f=U(f,l.cast)),"string"==typeof f&&"@"===f[0]&&(f=U(f.slice(1),l.cast)),!y(f)&&l.cast&&(f=l.cast(f)),c[l.name]?(c[l.name]=Array.isArray(c[l.name])?c[l.name]:[c[l.name]],c[l.name].push(f)):c[l.name]=f}return c}var F=function(e){var t=[],n=e.split(":")[0];return w(e,":")&&(t=e.split(":").slice(1).join(":").split(",")),{name:n,params:t}};function U(e,t){var n=function(n){var r=n[e];return t?t(r):r};return n.__locatorRef=e,n}function G(e,t,n){return void 0===n&&(n={}),c(this,void 0,void 0,(function(){var r,o,c,f,d,h;return l(this,(function(l){switch(l.label){case 0:return r=null==n?void 0:n.bails,o=null==n?void 0:n.skipIfEmpty,[4,B({name:(null==n?void 0:n.name)||"{field}",rules:N(t),bails:null==r||r,skipIfEmpty:null==o||o,forceRequired:!1,crossTable:(null==n?void 0:n.values)||{},names:(null==n?void 0:n.names)||{},customMessages:(null==n?void 0:n.customMessages)||{}},e,n)];case 1:return c=l.sent(),f=[],d={},h={},c.errors.forEach((function(e){var t=e.msg();f.push(t),d[e.rule]=t,h[e.rule]=e.msg})),[2,{valid:c.valid,required:c.required,errors:f,failedRules:d,regenerateMap:h}]}}))}))}function B(e,t,n){var r=(void 0===n?{}:n).isInitial,o=void 0!==r&&r;return c(this,void 0,void 0,(function(){var n,r,c,f,d,h,i,v,_;return l(this,(function(l){switch(l.label){case 0:return[4,$(e,t)];case 1:if(n=l.sent(),r=n.shouldSkip,c=n.required,f=n.errors,r)return[2,{valid:!f.length,required:c,errors:f}];d=Object.keys(e.rules).filter((function(e){return!D.isRequireRule(e)})),h=d.length,i=0,l.label=2;case 2:return i<h?o&&D.isLazy(d[i])?[3,4]:(v=d[i],[4,z(e,t,{name:v,params:e.rules[v]})]):[3,5];case 3:if(!(_=l.sent()).valid&&_.error&&(f.push(_.error),e.bails))return[2,{valid:!1,required:c,errors:f}];l.label=4;case 4:return i++,[3,2];case 5:return[2,{valid:!f.length,required:c,errors:f}]}}))}))}function $(e,t){return c(this,void 0,void 0,(function(){var n,r,o,c,f,d,i,_,m;return l(this,(function(l){switch(l.label){case 0:n=Object.keys(e.rules).filter(D.isRequireRule),r=n.length,o=[],c=h(t)||""===t||(y=t,Array.isArray(y)&&0===y.length),f=c&&e.skipIfEmpty,i=0,l.label=1;case 1:return i<r?(_=n[i],[4,z(e,t,{name:_,params:e.rules[_]})]):[3,4];case 2:if(m=l.sent(),!v(m))throw new Error("Require rules has to return an object (see docs)");if(void 0!==m.required&&(d=m.required),!m.valid&&m.error&&(o.push(m.error),e.bails))return[2,{shouldSkip:!0,required:m.required,errors:o}];l.label=3;case 3:return i++,[3,1];case 4:return(!c||d||e.skipIfEmpty)&&(e.bails||f)?[2,{shouldSkip:!d&&c,required:d,errors:o}]:[2,{shouldSkip:!1,required:d,errors:o}]}var y}))}))}function z(e,t,n){return c(this,void 0,void 0,(function(){var r,c,f,d,h;return l(this,(function(l){switch(l.label){case 0:if(!(r=D.getRuleDefinition(n.name))||!r.validate)throw new Error("No such validator '"+n.name+"' exists.");return c=r.castValue?r.castValue(t):t,f=function(e,t){if(Array.isArray(e))return e.map((function(param){var e="string"==typeof param&&"@"===param[0]?param.slice(1):param;return e in t?t[e]:param}));var n={},r=function(e){return y(e)?e(t):e};return Object.keys(e).forEach((function(param){n[param]=r(e[param])})),n}(n.params,e.crossTable),[4,r.validate(c,f)];case 1:return"string"==typeof(d=l.sent())?(h=o(o({},f||{}),{_field_:e.name,_value_:t,_rule_:n.name}),[2,{valid:!1,error:{rule:n.name,msg:function(){return R(d,h)}}}]):(v(d)||(d={valid:d}),[2,{valid:d.valid,required:d.required,error:d.valid?void 0:V(e,t,r,n.name,f)}])}}))}))}function V(e,t,n,r,c){var l,f=null!==(l=e.customMessages[r])&&void 0!==l?l:n.message,d=function(e,t,n){var r=t.params;if(!r)return{};var o=r.filter((function(param){return param.isTarget})).length;if(o<=0)return{};var c={},l=e.rules[n];!Array.isArray(l)&&v(l)&&(l=r.map((function(param){return l[param.name]})));for(var f=0;f<r.length;f++){var param=r[f],d=l[f];if(y(d)){d=d.__locatorRef;var h=e.names[d]||d;c[param.name]=h,c["_"+param.name+"_"]=e.crossTable[d]}}return c}(e,n,r),h=function(e,t,n,r){var o={},c=e.rules[n],l=t.params||[];if(!c)return{};return Object.keys(c).forEach((function(t,n){var r=c[t];if(!y(r))return{};var param=l[n];if(!param)return{};var f=r.__locatorRef;o[param.name]=e.names[f]||f,o["_"+param.name+"_"]=e.crossTable[f]})),{userTargets:o,userMessage:r}}(e,n,r,f),_=h.userTargets,m=h.userMessage,E=o(o(o(o({},c||{}),{_field_:e.name,_value_:t,_rule_:r}),d),_);return{msg:function(){return function(template,e,t){if("function"==typeof template)return template(e,t);return R(template,o(o({},t),{_field_:e}))}(m||M().defaultMessage,e.name,E)},rule:r}}var W={aggressive:function(){return{on:["input","blur"]}},eager:function(e){return e.errors.length?{on:["input","change"]}:{on:["change","blur"]}},passive:function(){return{on:[]}},lazy:function(){return{on:["change","blur"]}}},H=function(e,t){if(L({mode:e}),t){if(!m(t))throw new Error("A mode implementation must be a function");W[e]=t}},Y=new r.default;function X(){Y.$emit("change:locale")}var Z,K=function(){function e(e,t){this.container={},this.locale=e,this.merge(t)}return e.prototype.resolve=function(e,t,n){return this.format(this.locale,e,t,n)},e.prototype.format=function(e,t,n,r){var c,l,f,d,h,v,_,y,E,w=null===(f=null===(l=null===(c=this.container[e])||void 0===c?void 0:c.fields)||void 0===l?void 0:l[t])||void 0===f?void 0:f[n],T=null===(h=null===(d=this.container[e])||void 0===d?void 0:d.messages)||void 0===h?void 0:h[n];return(E=w||T||"")||(E="{_field_} is not valid"),t=null!==(y=null===(_=null===(v=this.container[e])||void 0===v?void 0:v.names)||void 0===_?void 0:_[t])&&void 0!==y?y:t,m(E)?E(t,r):R(E,o(o({},r),{_field_:t}))},e.prototype.merge=function(e){S(this.container,e)},e.prototype.hasRule=function(e){var t,n;return!!(null===(n=null===(t=this.container[this.locale])||void 0===t?void 0:t.messages)||void 0===n?void 0:n[e])},e}();function Q(e,t){var n;if(Z||(Z=new K("en",{}),L({defaultMessage:function(e,t){return Z.resolve(e,null==t?void 0:t._rule_,t||{})}})),"string"==typeof e)return Z.locale=e,t&&Z.merge(((n={})[e]=t,n)),void X();Z.merge(e)}var J=function e(a,b){if(a===b)return!0;if(a&&b&&"object"==typeof a&&"object"==typeof b){if(a.constructor!==b.constructor)return!1;var t,i,n;if(Array.isArray(a)){if((t=a.length)!=b.length)return!1;for(i=t;0!=i--;)if(!e(a[i],b[i]))return!1;return!0}if(a.constructor===RegExp)return a.source===b.source&&a.flags===b.flags;if(a.valueOf!==Object.prototype.valueOf)return a.valueOf()===b.valueOf();if(a.toString!==Object.prototype.toString)return a.toString()===b.toString();if((t=(n=Object.keys(a)).length)!==Object.keys(b).length)return!1;for(i=t;0!=i--;)if(!Object.prototype.hasOwnProperty.call(b,n[i]))return!1;for(i=t;0!=i--;){var r=n[i];if(!e(a[r],b[r]))return!1}return!0}return a!=a&&b!=b};function ee(e){var t,n,r;if(!(r=e)||!("undefined"!=typeof Event&&m(Event)&&r instanceof Event||r&&r.srcElement))return e;var input=e.target;if("file"===input.type&&input.files)return T(input.files);if(null===(t=input._vModifiers)||void 0===t?void 0:t.number){var o=parseFloat(input.value);return d(o)?input.value:o}return(null===(n=input._vModifiers)||void 0===n?void 0:n.trim)&&"string"==typeof input.value?input.value.trim():input.value}var te=function(e){var t,n=(null===(t=e.data)||void 0===t?void 0:t.attrs)||e.elm;return!("input"!==e.tag||n&&n.type)||("textarea"===e.tag||w(["text","password","search","email","tel","url","number"],null==n?void 0:n.type))};function ne(e){if(e.data){var t,n,r,o,c=e.data;if("model"in c)return c.model;if(e.data.directives)return t=e.data.directives,n=function(e){return"model"===e.name},r=Array.isArray(t)?t:T(t),-1===(o=E(r,n))?void 0:r[o]}}function re(e){var t,n,r=ne(e);if(r)return{value:r.value};var o=oe(e),c=(null==o?void 0:o.prop)||"value";return(null===(t=e.componentOptions)||void 0===t?void 0:t.propsData)&&c in e.componentOptions.propsData?{value:e.componentOptions.propsData[c]}:(null===(n=e.data)||void 0===n?void 0:n.domProps)&&"value"in e.data.domProps?{value:e.data.domProps.value}:void 0}function ie(e){if(!Array.isArray(e)&&void 0!==re(e))return[e];var t=function(e){return Array.isArray(e)?e:Array.isArray(e.children)?e.children:e.componentOptions&&Array.isArray(e.componentOptions.children)?e.componentOptions.children:[]}(e);return t.reduce((function(e,t){var n=ie(t);return n.length&&e.push.apply(e,n),e}),[])}function oe(e){return e.componentOptions?e.componentOptions.Ctor.options.model:null}function ae(e,t,n){if(h(e[t]))e[t]=[n];else{if(m(e[t])&&e[t].fns){var r=e[t];return r.fns=Array.isArray(r.fns)?r.fns:[r.fns],void(w(r.fns,n)||r.fns.push(n))}if(m(e[t])){var o=e[t];e[t]=[o]}Array.isArray(e[t])&&!w(e[t],n)&&e[t].push(n)}}function se(e,t,n){e.componentOptions?function(e,t,n){e.componentOptions&&(e.componentOptions.listeners||(e.componentOptions.listeners={}),ae(e.componentOptions.listeners,t,n))}(e,t,n):function(e,t,n){e.data||(e.data={}),h(e.data.on)&&(e.data.on={}),ae(e.data.on,t,n)}(e,t,n)}function ue(e,t){var n;return e.componentOptions?(oe(e)||{event:"input"}).event||"input":(null===(n=null==t?void 0:t.modifiers)||void 0===n?void 0:n.lazy)?"change":te(e)?"input":"change"}function ce(e){var t,n=null===(t=e.data)||void 0===t?void 0:t.attrs;if(!w(["input","select","textarea"],e.tag)||!n)return{};var r={};return"required"in n&&!1!==n.required&&D.getRuleDefinition("required")&&(r.required="checkbox"!==n.type||[!0]),te(e)?N(o(o({},r),function(e){var t,n=null===(t=e.data)||void 0===t?void 0:t.attrs,r={};return n?("email"===n.type&&D.getRuleDefinition("email")&&(r.email=["multiple"in n]),n.pattern&&D.getRuleDefinition("regex")&&(r.regex=n.pattern),n.maxlength>=0&&D.getRuleDefinition("max")&&(r.max=n.maxlength),n.minlength>=0&&D.getRuleDefinition("min")&&(r.min=n.minlength),"number"===n.type&&(_(n.min)&&D.getRuleDefinition("min_value")&&(r.min_value=Number(n.min)),_(n.max)&&D.getRuleDefinition("max_value")&&(r.max_value=Number(n.max))),r):r}(e))):N(r)}function le(e,t){return e.$scopedSlots.default?e.$scopedSlots.default(t)||[]:e.$slots.default||[]}function fe(e,t){return!(e._ignoreImmediate||!e.immediate)||(n=e.value,r=t,!(d(n)&&d(r)||n===r||!e.normalizedEvents.length)||(!!e._needsValidation||!e.initialized&&void 0===t));var n,r}function de(e){return o(o({},e.flags),{errors:e.errors,classes:e.classes,failedRules:e.failedRules,reset:function(){return e.reset()},validate:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.validate.apply(e,t)},ariaInput:{"aria-invalid":e.flags.invalid?"true":"false","aria-required":e.isRequired?"true":"false","aria-errormessage":"vee_"+e.id},ariaMsg:{id:"vee_"+e.id,"aria-live":e.errors.length?"assertive":"off"}})}function pe(e,t){e.initialized||(e.initialValue=t);var n=fe(e,t);if(e._needsValidation=!1,e.value=t,e._ignoreImmediate=!0,n){var r=function(){if(e.immediate||e.flags.validated)return ge(e);e.validateSilent()};e.initialized?r():e.$once("hook:mounted",(function(){return r()}))}}function he(e){return(m(e.mode)?e.mode:W[e.mode])(e)}function ge(e){var t=e.validateSilent();return e._pendingValidation=t,t.then((function(n){return t===e._pendingValidation&&(e.applyResult(n),e._pendingValidation=void 0),n}))}function ve(e){e.$veeOnInput||(e.$veeOnInput=function(t){e.syncValue(t),e.setFlags({dirty:!0,pristine:!1})});var t=e.$veeOnInput;e.$veeOnBlur||(e.$veeOnBlur=function(){e.setFlags({touched:!0,untouched:!1})});var n=e.$veeOnBlur,r=e.$veeHandler,o=he(e);return r&&e.$veeDebounce===e.debounce||(r=A((function(){e.$nextTick((function(){e._pendingReset||ge(e),e._pendingReset=!1}))}),o.debounce||e.debounce),e.$veeHandler=r,e.$veeDebounce=e.debounce),{onInput:t,onBlur:n,onValidate:r}}var _e=0;var me=r.default.extend({name:"ValidationProvider",inject:{$_veeObserver:{from:"$_veeObserver",default:function(){return this.$vnode.context.$_veeObserver||(this.$vnode.context.$_veeObserver={refs:{},observe:function(e){this.refs[e.id]=e},unobserve:function(e){delete this.refs[e]}}),this.$vnode.context.$_veeObserver}}},props:{vid:{type:String,default:""},name:{type:String,default:null},mode:{type:[String,Function],default:function(){return M().mode}},rules:{type:[Object,String],default:null},immediate:{type:Boolean,default:!1},bails:{type:Boolean,default:function(){return M().bails}},skipIfEmpty:{type:Boolean,default:function(){return M().skipOptional}},debounce:{type:Number,default:0},tag:{type:String,default:"span"},slim:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},customMessages:{type:Object,default:function(){return{}}},detectInput:{type:Boolean,default:!0}},watch:{rules:{deep:!0,handler:function(e,t){this._needsValidation=!J(e,t)}}},data:function(){return{errors:[],value:void 0,initialized:!1,initialValue:void 0,flags:{untouched:!0,touched:!1,dirty:!1,pristine:!0,valid:!1,invalid:!1,validated:!1,pending:!1,required:!1,changed:!1,passed:!1,failed:!1},failedRules:{},isActive:!0,fieldName:"",id:""}},computed:{fieldDeps:function(){var e=this;return Object.keys(this.normalizedRules).reduce((function(t,n){var r,o=(r=e.normalizedRules[n],Array.isArray(r)?r.filter((function(param){return y(param)||"string"==typeof param&&"@"===param[0]})):Object.keys(r).filter((function(e){return y(r[e])})).map((function(e){return r[e]}))).map((function(e){return y(e)?e.__locatorRef:e.slice(1)}));return t.push.apply(t,o),o.forEach((function(t){ye(e,t)})),t}),[])},normalizedEvents:function(){var e=this;return(he(this).on||[]).map((function(t){return"input"===t?e._inputEventName:t}))},isRequired:function(){var e=o(o({},this._resolvedRules),this.normalizedRules),t=Object.keys(e).some(D.isRequireRule);return this.flags.required=!!t,t},classes:function(){return function(e,t){for(var n={},r=Object.keys(t),o=r.length,c=function(i){var o=r[i],c=e&&e[o]||o,l=t[o];return h(l)?"continue":"valid"!==o&&"invalid"!==o||t.validated?void("string"==typeof c?n[c]=l:Array.isArray(c)&&c.forEach((function(e){n[e]=l}))):"continue"},i=0;i<o;i++)c(i);return n}(M().classes,this.flags)},normalizedRules:function(){return N(this.rules)}},mounted:function(){var e=this,t=function(){if(e.flags.validated){var t=e._regenerateMap;if(t){var n=[],r={};return Object.keys(t).forEach((function(e){var o=t[e]();n.push(o),r[e]=o})),void e.applyResult({errors:n,failedRules:r,regenerateMap:t})}e.validate()}};Y.$on("change:locale",t),this.$on("hook:beforeDestroy",(function(){Y.$off("change:locale",t)}))},render:function(e){var t=this;this.registerField();var n=le(this,de(this));if(this.detectInput){var r=ie(n);r.length&&r.forEach((function(input,e){var n,r,o,c,l,f;if(w(["checkbox","radio"],null===(r=null===(n=input.data)||void 0===n?void 0:n.attrs)||void 0===r?void 0:r.type)||!(e>0)){var d=M().useConstraintAttrs?ce(input):{};J(t._resolvedRules,d)||(t._needsValidation=!0),w(["input","select","textarea"],input.tag)&&(t.fieldName=(null===(c=null===(o=input.data)||void 0===o?void 0:o.attrs)||void 0===c?void 0:c.name)||(null===(f=null===(l=input.data)||void 0===l?void 0:l.attrs)||void 0===f?void 0:f.id)),t._resolvedRules=d,function(e,t){var n=re(t);e._inputEventName=e._inputEventName||ue(t,ne(t)),pe(e,null==n?void 0:n.value);var r=ve(e),o=r.onInput,c=r.onBlur,l=r.onValidate;se(t,e._inputEventName,o),se(t,"blur",c),e.normalizedEvents.forEach((function(e){se(t,e,l)})),e.initialized=!0}(t,input)}}))}return this.slim&&n.length<=1?n[0]:e(this.tag,n)},beforeDestroy:function(){this.$_veeObserver.unobserve(this.id)},activated:function(){this.isActive=!0},deactivated:function(){this.isActive=!1},methods:{setFlags:function(e){var t=this;Object.keys(e).forEach((function(n){t.flags[n]=e[n]}))},syncValue:function(e){var t=ee(e);this.value=t,this.flags.changed=!J(this.initialValue,t)},reset:function(){var e=this;this.errors=[],this.initialValue=this.value;var t={untouched:!0,touched:!1,dirty:!1,pristine:!0,valid:!1,invalid:!1,validated:!1,pending:!1,required:!1,changed:!1,passed:!1,failed:!1};t.required=this.isRequired,this.setFlags(t),this.failedRules={},this.validateSilent(),this._pendingValidation=void 0,this._pendingReset=!0,setTimeout((function(){e._pendingReset=!1}),this.debounce)},validate:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return c(this,void 0,void 0,(function(){return l(this,(function(t){return e.length>0&&this.syncValue(e[0]),[2,ge(this)]}))}))},validateSilent:function(){return c(this,void 0,void 0,(function(){var e,t;return l(this,(function(n){switch(n.label){case 0:return this.setFlags({pending:!0}),e=o(o({},this._resolvedRules),this.normalizedRules),Object.defineProperty(e,"_$$isNormalized",{value:!0,writable:!1,enumerable:!1,configurable:!1}),[4,G(this.value,e,o(o({name:this.name||this.fieldName},(r=this,c=r.$_veeObserver.refs,{names:{},values:{}},r.fieldDeps.reduce((function(e,t){return c[t]?(e.values[t]=c[t].value,e.names[t]=c[t].name,e):e}),{names:{},values:{}}))),{bails:this.bails,skipIfEmpty:this.skipIfEmpty,isInitial:!this.initialized,customMessages:this.customMessages}))];case 1:return t=n.sent(),this.setFlags({pending:!1,valid:t.valid,invalid:!t.valid}),void 0!==t.required&&this.setFlags({required:t.required}),[2,t]}var r,c}))}))},setErrors:function(e){this.applyResult({errors:e,failedRules:{}})},applyResult:function(e){var t=e.errors,n=e.failedRules,r=e.regenerateMap;this.errors=t,this._regenerateMap=r,this.failedRules=o({},n||{}),this.setFlags({valid:!t.length,passed:!t.length,invalid:!!t.length,failed:!!t.length,validated:!0,changed:!J(this.value,this.initialValue)})},registerField:function(){!function(e){var t=function(e){if(e.vid)return e.vid;if(e.name)return e.name;if(e.id)return e.id;if(e.fieldName)return e.fieldName;return"_vee_"+ ++_e}(e),n=e.id;if(!e.isActive||n===t&&e.$_veeObserver.refs[n])return;n!==t&&e.$_veeObserver.refs[n]===e&&e.$_veeObserver.unobserve(n);e.id=t,e.$_veeObserver.observe(e)}(this)},checkComputesRequiredState:function(){var e=o(o({},this._resolvedRules),this.normalizedRules);return Object.keys(e).some(D.isRequireRule)}}});function ye(e,t,n){void 0===n&&(n=!0);var r=e.$_veeObserver.refs;if(e._veeWatchers||(e._veeWatchers={}),!r[t]&&n)return e.$once("hook:mounted",(function(){ye(e,t,!1)}));!m(e._veeWatchers[t])&&r[t]&&(e._veeWatchers[t]=r[t].$watch("value",(function(){var t=e.checkComputesRequiredState();e.flags.validated&&(e._needsValidation=!0,e.validate()),t&&!e.flags.validated&&e.validateSilent()})))}var be=[["pristine","every"],["dirty","some"],["touched","some"],["untouched","every"],["valid","every"],["invalid","some"],["pending","some"],["validated","every"],["changed","some"],["passed","every"],["failed","some"]],Ee=0;var we=r.default.extend({name:"ValidationObserver",provide:function(){return{$_veeObserver:this}},inject:{$_veeObserver:{from:"$_veeObserver",default:function(){return this.$vnode.context.$_veeObserver?this.$vnode.context.$_veeObserver:null}}},props:{tag:{type:String,default:"span"},vid:{type:String,default:function(){return"obs_"+Ee++}},slim:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},data:function(){return{id:"",refs:{},observers:[],errors:{},flags:Se(),fields:{}}},created:function(){var e=this;this.id=this.vid,Ie(this);var t=A((function(t){var n=t.errors,r=t.flags,o=t.fields;e.errors=n,e.flags=r,e.fields=o}),16);this.$watch(Oe,t)},activated:function(){Ie(this)},deactivated:function(){Te(this)},beforeDestroy:function(){Te(this)},render:function(e){var t,n=le(this,o(o({},(t=this).flags),{errors:t.errors,fields:t.fields,validate:t.validate,validateWithInfo:t.validateWithInfo,passes:t.handleSubmit,handleSubmit:t.handleSubmit,reset:t.reset}));return this.slim&&n.length<=1?n[0]:e(this.tag,{on:this.$listeners},n)},methods:{observe:function(e,t){var n;void 0===t&&(t="provider"),"observer"!==t?this.refs=o(o({},this.refs),((n={})[e.id]=e,n)):this.observers.push(e)},unobserve:function(e,t){if(void 0===t&&(t="provider"),"provider"!==t){var n=E(this.observers,(function(t){return t.id===e}));-1!==n&&this.observers.splice(n,1)}else{if(!this.refs[e])return;this.$delete(this.refs,e)}},validateWithInfo:function(e){var t=(void 0===e?{}:e).silent,n=void 0!==t&&t;return c(this,void 0,void 0,(function(){var e,t,r,o,c,d;return l(this,(function(l){switch(l.label){case 0:return[4,Promise.all(f(I(this.refs).filter((function(e){return!e.disabled})).map((function(e){return e[n?"validateSilent":"validate"]().then((function(e){return e.valid}))})),this.observers.filter((function(e){return!e.disabled})).map((function(e){return e.validate({silent:n})}))))];case 1:return e=l.sent(),t=e.every((function(e){return e})),r=Oe.call(this),o=r.errors,c=r.flags,d=r.fields,this.errors=o,this.flags=c,this.fields=d,[2,{errors:o,flags:c,fields:d,isValid:t}]}}))}))},validate:function(e){var t=(void 0===e?{}:e).silent,n=void 0!==t&&t;return c(this,void 0,void 0,(function(){return l(this,(function(e){switch(e.label){case 0:return[4,this.validateWithInfo({silent:n})];case 1:return[2,e.sent().isValid]}}))}))},handleSubmit:function(e){return c(this,void 0,void 0,(function(){return l(this,(function(t){switch(t.label){case 0:return[4,this.validate()];case 1:return t.sent()&&e?[2,e()]:[2]}}))}))},reset:function(){return f(I(this.refs),this.observers).forEach((function(e){return e.reset()}))},setErrors:function(e){var t=this;Object.keys(e).forEach((function(n){var r=t.refs[n];if(r){var o=e[n]||[];o="string"==typeof o?[o]:o,r.setErrors(o)}})),this.observers.forEach((function(t){t.setErrors(e)}))}}});function Te(e){e.$_veeObserver&&e.$_veeObserver.unobserve(e.id,"observer")}function Ie(e){e.$_veeObserver&&e.$_veeObserver.observe(e,"observer")}function Se(){return o(o({},{untouched:!0,touched:!1,dirty:!1,pristine:!0,valid:!1,invalid:!1,validated:!1,pending:!1,required:!1,changed:!1,passed:!1,failed:!1}),{valid:!0,invalid:!1})}function Oe(){for(var e=f(I(this.refs),this.observers.filter((function(e){return!e.disabled}))),t={},n=Se(),r={},c=e.length,i=0;i<c;i++){var l=e[i];Array.isArray(l.errors)?(t[l.id]=l.errors,r[l.id]=o({id:l.id,name:l.name,failedRules:l.failedRules},l.flags)):(t=o(o({},t),l.errors),r=o(o({},r),l.fields))}return be.forEach((function(t){var r=t[0],o=t[1];n[r]=e[o]((function(e){return e.flags[r]}))})),{errors:t,flags:n,fields:r}}function Ae(component,e){var t;void 0===e&&(e=O);var n="options"in component?component.options:component,r=me.options,c={name:(n.name||"AnonymousHoc")+"WithValidation",props:o({},r.props),data:r.data,computed:o({},r.computed),methods:o({},r.methods),beforeDestroy:r.beforeDestroy,inject:r.inject},l=(null===(t=null==n?void 0:n.model)||void 0===t?void 0:t.event)||"input";return c.render=function(t){var r;this.registerField();var c=de(this),f=o({},this.$listeners),d=ne(this.$vnode);this._inputEventName=this._inputEventName||ue(this.$vnode,d);var h=re(this.$vnode);pe(this,null==h?void 0:h.value);var v=ve(this),_=v.onInput,m=v.onBlur,y=v.onValidate;ae(f,l,_),ae(f,"blur",m),this.normalizedEvents.forEach((function(e){ae(f,e,y)}));var E,w,T=(oe(this.$vnode)||{prop:"value"}).prop,I=o(o(o({},this.$attrs),((r={})[T]=null==d?void 0:d.value,r)),e(c));return t(n,{attrs:this.$attrs,props:I,on:f,scopedSlots:this.$scopedSlots},(E=this.$slots,w=this.$vnode.context,Object.keys(E).reduce((function(e,t){return E[t].forEach((function(e){e.context||(E[t].context=w,e.data||(e.data={}),e.data.slot=t)})),e.concat(E[t])}),[])))},c}var Re="3.4.15"},624:function(e,t,n){(function(e){e.installComponents=function(component,e){var n="function"==typeof component.exports?component.exports.extendOptions:component.options;for(var i in"function"==typeof component.exports&&(n.components=component.exports.options.components),n.components=n.components||{},e)n.components[i]=n.components[i]||e[i];n.functional&&function(component,e){if(component.exports[t])return;component.exports[t]=!0;var n=component.exports.render;component.exports.render=function(t,r){return n(t,Object.assign({},r,{_c:function(t,a,b){return r._c(e[t]||t,a,b)}}))}}(component,n.components)};var t="_functionalComponents"}).call(this,n(59))},642:function(e,t,n){"use strict";t.byteLength=function(e){var t=l(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,i,n=l(e),r=n[0],f=n[1],d=new c(function(e,t,n){return 3*(t+n)/4-n}(0,r,f)),h=0,v=f>0?r-4:r;for(i=0;i<v;i+=4)t=o[e.charCodeAt(i)]<<18|o[e.charCodeAt(i+1)]<<12|o[e.charCodeAt(i+2)]<<6|o[e.charCodeAt(i+3)],d[h++]=t>>16&255,d[h++]=t>>8&255,d[h++]=255&t;2===f&&(t=o[e.charCodeAt(i)]<<2|o[e.charCodeAt(i+1)]>>4,d[h++]=255&t);1===f&&(t=o[e.charCodeAt(i)]<<10|o[e.charCodeAt(i+1)]<<4|o[e.charCodeAt(i+2)]>>2,d[h++]=t>>8&255,d[h++]=255&t);return d},t.fromByteArray=function(e){for(var t,n=e.length,o=n%3,c=[],l=16383,i=0,d=n-o;i<d;i+=l)c.push(f(e,i,i+l>d?d:i+l));1===o?(t=e[n-1],c.push(r[t>>2]+r[t<<4&63]+"==")):2===o&&(t=(e[n-2]<<8)+e[n-1],c.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return c.join("")};for(var r=[],o=[],c="undefined"!=typeof Uint8Array?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0;i<64;++i)r[i]=code[i],o[code.charCodeAt(i)]=i;function l(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function f(e,t,n){for(var o,c,output=[],i=t;i<n;i+=3)o=(e[i]<<16&16711680)+(e[i+1]<<8&65280)+(255&e[i+2]),output.push(r[(c=o)>>18&63]+r[c>>12&63]+r[c>>6&63]+r[63&c]);return output.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},643:function(e,t){t.read=function(e,t,n,r,o){var c,l,f=8*o-r-1,d=(1<<f)-1,h=d>>1,v=-7,i=n?o-1:0,_=n?-1:1,s=e[t+i];for(i+=_,c=s&(1<<-v)-1,s>>=-v,v+=f;v>0;c=256*c+e[t+i],i+=_,v-=8);for(l=c&(1<<-v)-1,c>>=-v,v+=r;v>0;l=256*l+e[t+i],i+=_,v-=8);if(0===c)c=1-h;else{if(c===d)return l?NaN:1/0*(s?-1:1);l+=Math.pow(2,r),c-=h}return(s?-1:1)*l*Math.pow(2,c-r)},t.write=function(e,t,n,r,o,c){var l,f,d,h=8*c-o-1,v=(1<<h)-1,_=v>>1,rt=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,i=r?0:c-1,m=r?1:-1,s=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(f=isNaN(t)?1:0,l=v):(l=Math.floor(Math.log(t)/Math.LN2),t*(d=Math.pow(2,-l))<1&&(l--,d*=2),(t+=l+_>=1?rt/d:rt*Math.pow(2,1-_))*d>=2&&(l++,d/=2),l+_>=v?(f=0,l=v):l+_>=1?(f=(t*d-1)*Math.pow(2,o),l+=_):(f=t*Math.pow(2,_-1)*Math.pow(2,o),l=0));o>=8;e[n+i]=255&f,i+=m,f/=256,o-=8);for(l=l<<o|f,h+=o;h>0;e[n+i]=255&l,i+=m,l/=256,h-=8);e[n+i-m]|=128*s}},644:function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},67:function(e,t,n){"use strict";n.d(t,"a",(function(){return I})),n.d(t,"b",(function(){return T}));const r=(object,e)=>e.some((e=>object instanceof e));let o,c;const l=new WeakMap,f=new WeakMap,d=new WeakMap,h=new WeakMap,v=new WeakMap;let _={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return f.get(e);if("objectStoreNames"===t)return e.objectStoreNames||d.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return E(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function m(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(c||(c=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(w(this),t),E(l.get(this))}:function(...t){return E(e.apply(w(this),t))}:function(t,...n){const r=e.call(w(this),t,...n);return d.set(r,t.sort?t.sort():[t]),E(r)}}function y(e){return"function"==typeof e?m(e):(e instanceof IDBTransaction&&function(e){if(f.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",c),e.removeEventListener("abort",c)},o=()=>{t(),r()},c=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",o),e.addEventListener("error",c),e.addEventListener("abort",c)}));f.set(e,t)}(e),r(e,o||(o=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,_):e)}function E(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",o),e.removeEventListener("error",c)},o=()=>{t(E(e.result)),r()},c=()=>{n(e.error),r()};e.addEventListener("success",o),e.addEventListener("error",c)}));return t.then((t=>{t instanceof IDBCursor&&l.set(t,e)})).catch((()=>{})),v.set(t,e),t}(e);if(h.has(e))return h.get(e);const t=y(e);return t!==e&&(h.set(e,t),v.set(t,e)),t}const w=e=>v.get(e);function T(e,t,{blocked:n,upgrade:r,blocking:o,terminated:c}={}){const l=indexedDB.open(e,t),f=E(l);return r&&l.addEventListener("upgradeneeded",(e=>{r(E(l.result),e.oldVersion,e.newVersion,E(l.transaction),e)})),n&&l.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),f.then((e=>{c&&e.addEventListener("close",(()=>c())),o&&e.addEventListener("versionchange",(e=>o(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),f}function I(e,{blocked:t}={}){const n=indexedDB.deleteDatabase(e);return t&&n.addEventListener("blocked",(e=>t(e.oldVersion,e))),E(n).then((()=>{}))}const S=["get","getKey","getAll","getAllKeys","count"],O=["put","add","delete","clear"],A=new Map;function R(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(A.get(t))return A.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,o=O.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!o&&!S.includes(n))return;const c=async function(e,...t){const c=this.transaction(e,o?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(t.shift())),(await Promise.all([l[n](...t),o&&c.done]))[0]};return A.set(t,c),c}_=(e=>({...e,get:(t,n,r)=>R(t,n)||e.get(t,n,r),has:(t,n)=>!!R(t,n)||e.has(t,n)}))(_)},673:function(e,t){function n(script,e){script.onload=function(){this.onerror=this.onload=null,e(null,script)},script.onerror=function(){this.onerror=this.onload=null,e(new Error("Failed to load "+this.src),script)}}function r(script,e){script.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||(this.onreadystatechange=null,e(null,script))}}e.exports=function(e,t,o){var head=document.head||document.getElementsByTagName("head")[0],script=document.createElement("script");"function"==typeof t&&(o=t,t={}),t=t||{},o=o||function(){},script.type=t.type||"text/javascript",script.charset=t.charset||"utf8",script.async=!("async"in t)||!!t.async,script.src=e,t.attrs&&function(script,e){for(var t in e)script.setAttribute(t,e[t])}(script,t.attrs),t.text&&(script.text=""+t.text),("onload"in script?n:r)(script,o),script.onload||n(script,o),head.appendChild(script)}},691:function(e,t,n){var r,o,c;!function(l,f){f=f.bind(null,l,l.document),e.exports?f(n(129)):(o=[n(129)],void 0===(c="function"==typeof(r=f)?r.apply(t,o):r)||(e.exports=c))}(window,(function(e,t,n){"use strict";if(e.addEventListener){var r=n.cfg,o=/\s+/g,c=/\s*\|\s+|\s+\|\s*/g,l=/^(.+?)(?:\s+\[\s*(.+?)\s*\])(?:\s+\[\s*(.+?)\s*\])?$/,f=/^\s*\(*\s*type\s*:\s*(.+?)\s*\)*\s*$/,d=/\(|\)|'/,h={contain:1,cover:1},v=function(source,e){if(e){var t=e.match(f);t&&t[1]?source.setAttribute("type",t[1]):source.setAttribute("media",r.customMedia[e]||e)}},_=function(e){if(e.target._lazybgset){var image=e.target,t=image._lazybgset,r=image.currentSrc||image.src;if(r){var o=d.test(r)?JSON.stringify(r):r,c=n.fire(t,"bgsetproxy",{src:r,useSrc:o,fullSrc:null});c.defaultPrevented||(t.style.backgroundImage=c.detail.fullSrc||"url("+c.detail.useSrc+")")}image._lazybgsetLoading&&(n.fire(t,"_lazyloaded",{},!1,!0),delete image._lazybgsetLoading)}};addEventListener("lazybeforeunveil",(function(e){var f,image,d;!e.defaultPrevented&&(f=e.target.getAttribute("data-bgset"))&&(d=e.target,(image=t.createElement("img")).alt="",image._lazybgsetLoading=!0,e.detail.firesLoad=!0,function(e,n,img){var picture=t.createElement("picture"),f=n.getAttribute(r.sizesAttr),d=n.getAttribute("data-ratio"),h=n.getAttribute("data-optimumx");n._lazybgset&&n._lazybgset.parentNode==n&&n.removeChild(n._lazybgset),Object.defineProperty(img,"_lazybgset",{value:n,writable:!0}),Object.defineProperty(n,"_lazybgset",{value:picture,writable:!0}),e=e.replace(o," ").split(c),picture.style.display="none",img.className=r.lazyClass,1!=e.length||f||(f="auto"),e.forEach((function(e){var n,source=t.createElement("source");f&&"auto"!=f&&source.setAttribute("sizes",f),(n=e.match(l))?(source.setAttribute(r.srcsetAttr,n[1]),v(source,n[2]),v(source,n[3])):source.setAttribute(r.srcsetAttr,e),picture.appendChild(source)})),f&&(img.setAttribute(r.sizesAttr,f),n.removeAttribute(r.sizesAttr),n.removeAttribute("sizes")),h&&img.setAttribute("data-optimumx",h),d&&img.setAttribute("data-ratio",d),picture.appendChild(img),n.appendChild(picture)}(f,d,image),setTimeout((function(){n.loader.unveil(image),n.rAF((function(){n.fire(image,"_lazyloaded",{},!0,!0),image.complete&&_({target:image})}))})))})),t.addEventListener("load",_,!0),e.addEventListener("lazybeforesizes",(function(e){if(e.detail.instance==n&&e.target._lazybgset&&e.detail.dataAttr){var t=function(e){var t;return t=(getComputedStyle(e)||{getPropertyValue:function(){}}).getPropertyValue("background-size"),!h[t]&&h[e.style.backgroundSize]&&(t=e.style.backgroundSize),t}(e.target._lazybgset);h[t]&&(e.target._lazysizesParentFit=t,n.rAF((function(){e.target.setAttribute("data-parent-fit",t),e.target._lazysizesParentFit&&delete e.target._lazysizesParentFit})))}}),!0),t.documentElement.addEventListener("lazybeforesizes",(function(e){var t,r;!e.defaultPrevented&&e.target._lazybgset&&e.detail.instance==n&&(e.detail.width=(t=e.target._lazybgset,r=n.gW(t,t.parentNode),(!t._lazysizesWidth||r>t._lazysizesWidth)&&(t._lazysizesWidth=r),t._lazysizesWidth))}))}}))},692:function(e,t,n){var r,o,c;!function(l,f){if(l){f=f.bind(null,l,l.document),e.exports?f(n(129)):(o=[n(129)],void 0===(c="function"==typeof(r=f)?r.apply(t,o):r)||(e.exports=c))}}("undefined"!=typeof window?window:0,(function(e,t,n){"use strict";if(e.addEventListener){var r=/\s+(\d+)(w|h)\s+(\d+)(w|h)/,o=/parent-fit["']*\s*:\s*["']*(contain|cover|width)/,c=/parent-container["']*\s*:\s*["']*(.+?)(?=(\s|$|,|'|"|;))/,l=/^picture$/i,f=n.cfg,d={getParent:function(element,t){var n=element,r=element.parentNode;return t&&"prev"!=t||!r||!l.test(r.nodeName||"")||(r=r.parentNode),"self"!=t&&(n="prev"==t?element.previousElementSibling:t&&(r.closest||e.jQuery)&&(r.closest?r.closest(t):jQuery(r).closest(t)[0])||r),n},getFit:function(element){var e,t,n=getComputedStyle(element,null)||{},content=n.content||n.fontFamily,r={fit:element._lazysizesParentFit||element.getAttribute("data-parent-fit")};return!r.fit&&content&&(e=content.match(o))&&(r.fit=e[1]),r.fit?(!(t=element._lazysizesParentContainer||element.getAttribute("data-parent-container"))&&content&&(e=content.match(c))&&(t=e[1]),r.parent=d.getParent(element,t)):r.fit=n.objectFit,r},getImageRatio:function(element){var i,t,n,o,c,d,h,v=element.parentNode,_=v&&l.test(v.nodeName||"")?v.querySelectorAll("source, img"):[element];for(i=0;i<_.length;i++)if(t=(element=_[i]).getAttribute(f.srcsetAttr)||element.getAttribute("srcset")||element.getAttribute("data-pfsrcset")||element.getAttribute("data-risrcset")||"",n=element._lsMedia||element.getAttribute("media"),n=f.customMedia[element.getAttribute("data-media")||n]||n,t&&(!n||(e.matchMedia&&matchMedia(n)||{}).matches)){(o=parseFloat(element.getAttribute("data-aspectratio")))||((c=t.match(r))?"w"==c[2]?(d=c[1],h=c[3]):(d=c[3],h=c[1]):(d=element.getAttribute("width"),h=element.getAttribute("height")),o=d/h);break}return o},calculateSize:function(element,e){var t,n,r,o=this.getFit(element),c=o.fit,l=o.parent;return"width"==c||("contain"==c||"cover"==c)&&(n=this.getImageRatio(element))?(l?e=l.clientWidth:l=element,r=e,"width"==c?r=e:(t=e/l.clientHeight)&&("cover"==c&&t<n||"contain"==c&&t>n)&&(r=e*(n/t)),r):e}};n.parentFit=d,t.addEventListener("lazybeforesizes",(function(e){if(!e.defaultPrevented&&e.detail.instance==n){var element=e.target;e.detail.width=d.calculateSize(element,e.detail.width)}}))}}))},699:function(e,t,n){"use strict";var r=n(61),o=n(62);Object.defineProperty(t,"__esModule",{value:!0}),t.bbCustomStatistics=void 0;var c=function(){function e(t){r(this,e),this.sessions={},this.sessions={},this.sessionFactory=t}return o(e,[{key:"send",value:function(e,t,n){if(!this.sessions[e])try{this.sessions[e]=this.sessionFactory(e)}catch(r){return console.warn(r),void console.warn(e+"-"+t,JSON.stringify(n))}var r=this.sessions[e],o=(this.bbCustomStaticsCallback?this.bbCustomStaticsCallback(r):{})||{},data=o.data,c=o.customObject,l=o.autoplay;switch(r.SetMediaProps(data),"x"===t.charAt(0)&&n.et?t+"."+n.et:t){case"xst.Session":case"xfn.View":case"xpg.Creative":default:break;case"it":r.Setup(n,l||!1);break;case"xst.View":r.Language(n),r.Play(n);break;case"xpc.View":r.Language(n,!0),r.SetPlaybackSpeed(n),r.Volume(n),r.FullScreen(n);break;case"xac.View":r.Api(n);break;case"st":r.started=!0,r.BufferStart(n),r.PlaybackStart();break;case"pa":case"wa":r.PlaybackPaused(n);break;case"rs":r.PlaybackResumed(n);break;case"fn":r.PlaybackStopped(n);break;case"ss":this.oldCursorPosition=n.to||0,r.SeekStart(this.oldCursorPosition);break;case"se":r.Seek(this.oldCursorPosition,n.to);break;case"sl":r.PlaybackPaused(n),r.BufferStart(n);break;case"pf":r.Error(n);break;case"xit.Creative":r.AdSetup(n,c);break;case"xst.Creative":r.AdPlaybackStart(n,c);break;case"xfn.Creative":r.AdPlaybackStopped(n,c);break;case"xpa.Creative":r.AdPlaybackPaused(n,c);break;case"xrs.Creative":r.AdPlaybackResumed(n,c);break;case"xcl.Creative":r.AdClick(n,c);break;case"xsk.Creative":r.AdSkip(n,c)}}}]),e}();t.bbCustomStatistics=c},700:function(e,t,n){"use strict";var r=n(61),o=n(62);n(22),Object.defineProperty(t,"__esModule",{value:!0}),t.CustomStatisticsSession=void 0;var c=n(701),l=function(){function e(t,n){r(this,e),this.ident=t,this.started=!1,this.mediaFactory=n,this.media=this.mediaFactory()}return o(e,[{key:"SetMediaProps",value:function(e){this.media.setProps(e)}},{key:"Setup",value:function(e,t){var n,r=new Date(Date.parse(e.pd)).toISOString().split("."),o=r?r[0]:null;o&&(o="".concat(o,"Z"));var c={av_broadcasting_type:e.sot,av_broadcaster:e.pp||"",av_channel:e.chid||e.ctx||"",av_content:e.ct||"",av_content_id:e.id,av_content_type:e.mt,av_content_duration:null!==(n=e.du)&&void 0!==n&&n?e.du:void 0,av_launch_reason:parseInt(e.aup)||t?"Auto":"User",av_player:"Blue Billywig Player",av_player_version:e.pv,av_publication_date:o};this.media.setProps(c),this.media.setPlaybackSpeed(e.mpr||1)}},{key:"BufferStart",value:function(e){this.media.bufferStart(e.to||0)}},{key:"SetPlaybackSpeed",value:function(e){void 0!==e.mpr&&this.media.setPlaybackSpeed(e.mpr||1)}},{key:"Volume",value:function(e){var t;if(void 0!==e.mv||void 0!==e.mm){var n="true"===e.mm?0:null!==(t=e.mv)&&void 0!==t?t:0;this.media.volume((function(){}),{volume:n})}}},{key:"FullScreen",value:function(e){void 0!==e.fs&&("1"===e.fs||"true"===e.fs?this.media.fullscreenOn():this.media.fullscreenOff())}},{key:"Api",value:function(e){if(e.api&&e.api.split){var t=e.api.split("_");switch(t[0]){case"setSubtitle":"off"!==t[1]?this.media.subtitleOn((function(){}),{isocode:t[1]}):this.media.subtitleOff();break;case"shared":this.media.share((function(){}),{sharingName:t[1]});break;case"unmute":this.media.track("av.unmute",null,null,{extra:t[1]});break;case"mute":this.media.track("av.mute",null,null,{extra:t[1]});break;case"fastforward":this.media.track("av.fast.forward",null,null,{extra:t[1]});break;case"fastbackward":this.media.track("av.fast.backward",null,null,{extra:t[1]});break;case"setAsset":this.media.quality()}}}},{key:"PlaybackStart",value:function(){this.media.playbackStart(0)}},{key:"PlaybackStopped",value:function(e){this.media.playbackStopped(e.to||0)}},{key:"PlaybackPaused",value:function(e){this.media.playbackPaused(e.to||0)}},{key:"PlaybackResumed",value:function(e){this.media.playbackResumed(e.to||0)}},{key:"Language",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];void 0!==e.alc?(this.media.set("av_language",e.alc),t&&this.media.quality()):this.media.set("av_language","NL")}},{key:"Play",value:function(e){this.media.play(e.to||0)}},{key:"Error",value:function(e){this.media.error((function(){}),{av_player_error:e.why})}},{key:"SeekStart",value:function(e){this.media.seekStart(e||0)}},{key:"Seek",value:function(e,t){this.media.seek(e||0,t||0)}},{key:"setupAddMedia",value:function(e,t){var n=this.mediaFactory(),r=c.adTypeMap[e.ap];"VMAP"===r&&(r=e.adp_pi<0?"Post-Roll":e.adp_pi>0?"Mid-Roll":"Pre-Roll");var o=e.vastid&&"[unknown]"!==e.vastid?e.vastid:e.adi;o||(o=e.id);var l={av_ad_type:r,av_content:e.adt||"",av_content_id:o,av_content_type:"video",av_content_duration:e.add||0};return t&&n.setProps(t),n.setProps(l),n.setPlaybackSpeed(1),n}},{key:"AdSetup",value:function(e,t){this.adMedia=this.setupAddMedia(e,t)}},{key:"AdPlaybackStart",value:function(e,t){var n;null!==(n=this.adMedia)&&void 0!==n||(this.adMedia=this.setupAddMedia(e,t)),this.adMedia.play(0),this.adMedia.bufferStart(e.to||0),this.adMedia.playbackStart(0)}},{key:"AdPlaybackStopped",value:function(e,t){var n;null!==(n=this.adMedia)&&void 0!==n||(this.adMedia=this.setupAddMedia(e,t)),this.adMedia.playbackStopped(e.to||null)}},{key:"AdPlaybackPaused",value:function(e,t){var n;null!==(n=this.adMedia)&&void 0!==n||(this.adMedia=this.setupAddMedia(e,t)),this.adMedia.playbackPaused(e.to||null)}},{key:"AdPlaybackResumed",value:function(e,t){var n;null!==(n=this.adMedia)&&void 0!==n||(this.adMedia=this.setupAddMedia(e,t)),this.adMedia.playbackResumed(e.to||null)}},{key:"AdClick",value:function(e,t){var n;null!==(n=this.adMedia)&&void 0!==n||(this.adMedia=this.setupAddMedia(e,t)),this.adMedia.adClick((function(){}),{})}},{key:"AdSkip",value:function(e,t){var n;null!==(n=this.adMedia)&&void 0!==n||(this.adMedia=this.setupAddMedia(e,t)),this.adMedia.adSkip((function(){}),{})}}]),e}();t.CustomStatisticsSession=l},701:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.adTypeMap=void 0,t.adTypeMap={preroll:"Pre-Roll",leader:"Pre-Roll",inarticle:"Outstream",vmap:"VMAP",midroll:"Mid-Roll",overlay:"Mid-Roll",postroll:"Post-Roll",exitscreen:"Post-Roll"}},702:function(e,t,n){"use strict";var r=n(23),o=n(61),c=n(62);Object.defineProperty(t,"__esModule",{value:!0}),t.QueuedMedia=void 0;var l=function(){function e(t){o(this,e),this.getPianoTracker=t,this.queue=[]}return c(e,[{key:"media",get:function(){var e;return null!==(e=this._media)&&void 0!==e?e:this._media=this.setUpMedia()}},{key:"setUpMedia",value:function(){var e=this.getPianoTracker();return e?new e.avInsights.Media(5,5):null}},{key:"handleEvent",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.queue.push({key:e,args:n}),this.sendQueuedEvents()}},{key:"sendQueuedEvents",value:function(){if(this.media)for(;this.queue.length>0;){var e,t=this.queue.shift();if(t)(e=this.media)[t.key].apply(e,r(t.args))}}},{key:"setProps",value:function(e){this.handleEvent("setProps",e)}},{key:"setPlaybackSpeed",value:function(e){this.handleEvent("setPlaybackSpeed",e)}},{key:"bufferStart",value:function(e){this.handleEvent("bufferStart",e)}},{key:"volume",value:function(e,t){this.handleEvent("volume",e,t)}},{key:"fullscreenOn",value:function(){this.handleEvent("fullscreenOn")}},{key:"fullscreenOff",value:function(){this.handleEvent("fullscreenOff")}},{key:"subtitleOn",value:function(e,t){this.handleEvent("subtitleOn",e,t)}},{key:"subtitleOff",value:function(){this.handleEvent("subtitleOff")}},{key:"share",value:function(e,t){this.handleEvent("share",e,t)}},{key:"playbackStart",value:function(e){this.handleEvent("playbackStart",e)}},{key:"playbackStopped",value:function(e){this.handleEvent("playbackStopped",e)}},{key:"playbackPaused",value:function(e){this.handleEvent("playbackPaused",e)}},{key:"playbackResumed",value:function(e){this.handleEvent("playbackResumed",e)}},{key:"set",value:function(e,t){this.handleEvent("set",e,t)}},{key:"quality",value:function(){this.handleEvent("quality")}},{key:"play",value:function(e){this.handleEvent("play",e)}},{key:"error",value:function(e,t){this.handleEvent("error",e,t)}},{key:"seekStart",value:function(e){this.handleEvent("seekStart",e)}},{key:"seek",value:function(e,t){this.handleEvent("seek",e,t)}},{key:"track",value:function(e,t,n,r){this.handleEvent("track",e,t,n,r)}},{key:"adClick",value:function(e,t){this.handleEvent("adClick",e,t)}},{key:"adSkip",value:function(e,t){this.handleEvent("adSkip",e,t)}}]),e}();t.QueuedMedia=l},79:function(e,t,n){"use strict";var r=n(4);r="default"in r?r.default:r;var o="2.2.2";/^2\./.test(r.version)||r.util.warn("VueClickaway 2.2.2 only supports Vue 2.x, and does not support Vue "+r.version);var c="_vue_clickaway_handler";function l(e,t,n){f(e);var r=n.context,o=t.value;if("function"==typeof o){var l=!1;setTimeout((function(){l=!0}),0),e[c]=function(t){var path=t.path||(t.composedPath?t.composedPath():void 0);if(l&&(path?path.indexOf(e)<0:!e.contains(t.target)))return o.call(r,t)},document.documentElement.addEventListener("click",e[c],!1)}}function f(e){document.documentElement.removeEventListener("click",e[c],!1),delete e[c]}var d={bind:l,update:function(e,t){t.value!==t.oldValue&&l(e,t)},unbind:f},h={directives:{onClickaway:d}};t.version=o,t.directive=d,t.mixin=h},801:function(e,t,n){"use strict";n.r(t),n.d(t,"alpha",(function(){return f})),n.d(t,"alpha_dash",(function(){return d})),n.d(t,"alpha_num",(function(){return h})),n.d(t,"alpha_spaces",(function(){return v})),n.d(t,"between",(function(){return _})),n.d(t,"confirmed",(function(){return m})),n.d(t,"digits",(function(){return y})),n.d(t,"dimensions",(function(){return E})),n.d(t,"double",(function(){return Y})),n.d(t,"email",(function(){return w})),n.d(t,"excluded",(function(){return R})),n.d(t,"ext",(function(){return k})),n.d(t,"image",(function(){return image})),n.d(t,"integer",(function(){return D})),n.d(t,"is",(function(){return P})),n.d(t,"is_not",(function(){return C})),n.d(t,"length",(function(){return M})),n.d(t,"max",(function(){return L})),n.d(t,"max_value",(function(){return x})),n.d(t,"mimes",(function(){return N})),n.d(t,"min",(function(){return j})),n.d(t,"min_value",(function(){return F})),n.d(t,"numeric",(function(){return B})),n.d(t,"oneOf",(function(){return A})),n.d(t,"regex",(function(){return $})),n.d(t,"required",(function(){return z})),n.d(t,"required_if",(function(){return W})),n.d(t,"size",(function(){return H}));n(5),n(33),n(20),n(12),n(46),n(38),n(9),n(22),n(6),n(57),n(92),n(28);var r={en:/^[A-Z]*$/i,cs:/^[A-Z]*$/i,da:/^[A-Z]*$/i,de:/^[A-Z]*$/i,es:/^[A-Z]*$/i,fa:/^[]*$/,fr:/^[A-Z]*$/i,it:/^[A-Z\xC0-\xFF]*$/i,lt:/^[A-Z]*$/i,nl:/^[A-Z]*$/i,hu:/^[A-Z]*$/i,pl:/^[A-Z]*$/i,pt:/^[A-Z]*$/i,ro:/^[A-Z]*$/i,ru:/^[-]*$/i,sk:/^[A-Z]*$/i,sr:/^[A-Z]*$/i,sv:/^[A-Z]*$/i,tr:/^[A-Z]*$/i,uk:/^[-]*$/i,ar:/^[]*$/,az:/^[A-Z]*$/i,el:/^[-]*$/i,ja:/^[A-Z\u3000-\u303F\u3040-\u309F\u30A0-\u30FF\uFF00-\uFFEF\u4E00-\u9FAF]*$/i,he:/^[A-Z\u05D0-\u05EA']*$/i},o={en:/^[A-Z\s]*$/i,cs:/^[A-Z\s]*$/i,da:/^[A-Z\s]*$/i,de:/^[A-Z\s]*$/i,es:/^[A-Z\s]*$/i,fa:/^[]*$/,fr:/^[A-Z\s]*$/i,it:/^[A-Z\xC0-\xFF\s]*$/i,lt:/^[A-Z\s]*$/i,nl:/^[A-Z\s]*$/i,hu:/^[A-Z\s]*$/i,pl:/^[A-Z\s]*$/i,pt:/^[A-Z\s]*$/i,ro:/^[A-Z\s]*$/i,ru:/^[-\s]*$/i,sk:/^[A-Z\s]*$/i,sr:/^[A-Z\s]*$/i,sv:/^[A-Z\s]*$/i,tr:/^[A-Z\s]*$/i,uk:/^[-\s]*$/i,ar:/^[\s]*$/,az:/^[A-Z\s]*$/i,el:/^[-\s]*$/i,ja:/^[A-Z\u3000-\u303F\u3040-\u309F\u30A0-\u30FF\uFF00-\uFFEF\u4E00-\u9FAF\s]*$/i,he:/^[A-Z\u05D0-\u05EA'\s]*$/i},c={en:/^[0-9A-Z]*$/i,cs:/^[0-9A-Z]*$/i,da:/^[0-9A-Z]$/i,de:/^[0-9A-Z]*$/i,es:/^[0-9A-Z]*$/i,fa:/^[]*$/,fr:/^[0-9A-Z]*$/i,it:/^[0-9A-Z\xC0-\xFF]*$/i,lt:/^[0-9A-Z]*$/i,hu:/^[0-9A-Z]*$/i,nl:/^[0-9A-Z]*$/i,pl:/^[0-9A-Z]*$/i,pt:/^[0-9A-Z]*$/i,ro:/^[0-9A-Z]*$/i,ru:/^[0-9-]*$/i,sk:/^[0-9A-Z]*$/i,sr:/^[0-9A-Z]*$/i,sv:/^[0-9A-Z]*$/i,tr:/^[0-9A-Z]*$/i,uk:/^[0-9-]*$/i,ar:/^[0-9]*$/,az:/^[0-9A-Z]*$/i,el:/^[0-9-]*$/i,ja:/^[0-9A-Z\u3000-\u303F\u3040-\u309F\u30A0-\u30FF\uFF00-\uFFEF\u4E00-\u9FAF]*$/i,he:/^[0-9A-Z\u05D0-\u05EA']*$/i},l={en:/^[0-9A-Z_-]*$/i,cs:/^[0-9A-Z_-]*$/i,da:/^[0-9A-Z_-]*$/i,de:/^[0-9A-Z_-]*$/i,es:/^[0-9A-Z_-]*$/i,fa:/^[]*$/,fr:/^[0-9A-Z_-]*$/i,it:/^[0-9A-Z\xC0-\xFF_-]*$/i,lt:/^[0-9A-Z_-]*$/i,nl:/^[0-9A-Z_-]*$/i,hu:/^[0-9A-Z_-]*$/i,pl:/^[0-9A-Z_-]*$/i,pt:/^[0-9A-Z_-]*$/i,ro:/^[0-9A-Z_-]*$/i,ru:/^[0-9-_-]*$/i,sk:/^[0-9A-Z_-]*$/i,sr:/^[0-9A-Z_-]*$/i,sv:/^[0-9A-Z_-]*$/i,tr:/^[0-9A-Z_-]*$/i,uk:/^[0-9-_-]*$/i,ar:/^[0-9_-]*$/,az:/^[0-9A-Z_-]*$/i,el:/^[0-9-_-]*$/i,ja:/^[0-9A-Z\u3000-\u303F\u3040-\u309F\u30A0-\u30FF\uFF00-\uFFEF\u4E00-\u9FAF_-]*$/i,he:/^[0-9A-Z\u05D0-\u05EA'_-]*$/i},f={validate:function e(t,n){var o=(void 0===n?{}:n).locale,c=void 0===o?"":o;return Array.isArray(t)?t.every((function(t){return e(t,{locale:c})})):c?(r[c]||r.en).test(t):Object.keys(r).some((function(e){return r[e].test(t)}))},params:[{name:"locale"}]},d={validate:function e(t,n){var r=(void 0===n?{}:n).locale,o=void 0===r?"":r;return Array.isArray(t)?t.every((function(t){return e(t,{locale:o})})):o?(l[o]||l.en).test(t):Object.keys(l).some((function(e){return l[e].test(t)}))},params:[{name:"locale"}]},h={validate:function e(t,n){var r=(void 0===n?{}:n).locale,o=void 0===r?"":r;return Array.isArray(t)?t.every((function(t){return e(t,{locale:o})})):o?(c[o]||c.en).test(t):Object.keys(c).some((function(e){return c[e].test(t)}))},params:[{name:"locale"}]},v={validate:function e(t,n){var r=(void 0===n?{}:n).locale,c=void 0===r?"":r;return Array.isArray(t)?t.every((function(t){return e(t,{locale:c})})):c?(o[c]||o.en).test(t):Object.keys(o).some((function(e){return o[e].test(t)}))},params:[{name:"locale"}]},_={validate:function e(t,n){var r=void 0===n?{}:n,o=r.min,c=r.max;return Array.isArray(t)?t.every((function(t){return!!e(t,{min:o,max:c})})):Number(o)<=t&&Number(c)>=t},params:[{name:"min"},{name:"max"}]},m={validate:function(e,t){var n=t.target;return String(e)===String(n)},params:[{name:"target",isTarget:!0}]},y={validate:function e(t,n){var r=n.length;if(Array.isArray(t))return t.every((function(t){return e(t,{length:r})}));var o=String(t);return/^[0-9]*$/.test(o)&&o.length===r},params:[{name:"length",cast:function(e){return Number(e)}}]},E={validate:function(e,t){var n=t.width,r=t.height,o=[];e=Array.isArray(e)?e:[e];for(var i=0;i<e.length;i++){if(!/\.(jpg|svg|jpeg|png|bmp|gif)$/i.test(e[i].name))return Promise.resolve(!1);o.push(e[i])}return Promise.all(o.map((function(e){return function(e,t,n){var r=window.URL||window.webkitURL;return new Promise((function(o){var image=new Image;image.onerror=function(){return o(!1)},image.onload=function(){return o(image.width===t&&image.height===n)},image.src=r.createObjectURL(e)}))}(e,n,r)}))).then((function(e){return e.every((function(e){return e}))}))},params:[{name:"width",cast:function(e){return Number(e)}},{name:"height",cast:function(e){return Number(e)}}]},w={validate:function(e,t){var n=(void 0===t?{}:t).multiple,r=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return n&&!Array.isArray(e)&&(e=String(e).split(",").map((function(e){return e.trim()}))),Array.isArray(e)?e.every((function(e){return r.test(String(e))})):r.test(String(e))},params:[{name:"multiple",default:!1}]};function T(e){return null==e}function I(e){return Array.isArray(e)&&0===e.length}function S(e){return"function"==typeof Array.from?Array.from(e):function(e){for(var t=[],n=e.length,i=0;i<n;i++)t.push(e[i]);return t}(e)}var O=function e(t,n){return Array.isArray(t)?t.every((function(t){return e(t,n)})):S(n).some((function(e){return e==t}))},A={validate:O},R={validate:function(e,t){return!O(e,t)}},k={validate:function(e,t){var n=new RegExp(".("+t.join("|")+")$","i");return Array.isArray(e)?e.every((function(e){return n.test(e.name)})):n.test(e.name)}},image={validate:function(e){var t=/\.(jpg|svg|jpeg|png|bmp|gif|webp)$/i;return Array.isArray(e)?e.every((function(e){return t.test(e.name)})):t.test(e.name)}},D={validate:function(e){return Array.isArray(e)?e.every((function(e){return/^-?[0-9]+$/.test(String(e))})):/^-?[0-9]+$/.test(String(e))}},P={validate:function(e,t){return e===t.other},params:[{name:"other"}]},C={validate:function(e,t){return e!==t.other},params:[{name:"other"}]},M={validate:function(e,t){var n=t.length;return!T(e)&&("string"==typeof e&&(e=S(e)),"number"==typeof e&&(e=String(e)),e.length||(e=S(e)),e.length===n)},params:[{name:"length",cast:function(e){return Number(e)}}]},L={validate:function e(t,n){var r=n.length;return T(t)?r>=0:Array.isArray(t)?t.every((function(t){return e(t,{length:r})})):String(t).length<=r},params:[{name:"length",cast:function(e){return Number(e)}}]},x={validate:function e(t,n){var r=n.max;return!T(t)&&""!==t&&(Array.isArray(t)?t.length>0&&t.every((function(t){return e(t,{max:r})})):Number(t)<=r)},params:[{name:"max",cast:function(e){return Number(e)}}]},N={validate:function(e,t){var n=new RegExp(t.join("|").replace("*",".+")+"$","i");return Array.isArray(e)?e.every((function(e){return n.test(e.type)})):n.test(e.type)}},j={validate:function e(t,n){var r=n.length;return!T(t)&&(Array.isArray(t)?t.every((function(t){return e(t,{length:r})})):String(t).length>=r)},params:[{name:"length",cast:function(e){return Number(e)}}]},F={validate:function e(t,n){var r=n.min;return!T(t)&&""!==t&&(Array.isArray(t)?t.length>0&&t.every((function(t){return e(t,{min:r})})):Number(t)>=r)},params:[{name:"min",cast:function(e){return Number(e)}}]},U=/^[]+$/,G=/^[0-9]+$/,B={validate:function(e){var t=function(e){var t=String(e);return G.test(t)||U.test(t)};return Array.isArray(e)?e.every(t):t(e)}},$={validate:function e(t,n){var r=n.regex;return Array.isArray(t)?t.every((function(t){return e(t,{regex:r})})):r.test(String(t))},params:[{name:"regex",cast:function(e){return"string"==typeof e?new RegExp(e):e}}]},z={validate:function(e,t){var n=(void 0===t?{allowFalse:!0}:t).allowFalse,r={valid:!1,required:!0};return T(e)||I(e)?r:!1!==e||n?(r.valid=!!String(e).trim().length,r):r},params:[{name:"allowFalse",default:!0}],computesRequired:!0},V=function(e){return I(e)||-1!==[!1,null,void 0].indexOf(e)||!String(e).trim().length},W={validate:function(e,t){var n,r=t.target,o=t.values;return o&&o.length?(Array.isArray(o)||"string"!=typeof o||(o=[o]),n=o.some((function(e){return e==String(r).trim()}))):n=!V(r),n?{valid:!V(e),required:n}:{valid:!0,required:n}},params:[{name:"target",isTarget:!0},{name:"values"}],computesRequired:!0},H={validate:function(e,t){var n=t.size;if(isNaN(n))return!1;var r=1024*n;if(!Array.isArray(e))return e.size<=r;for(var i=0;i<e.length;i++)if(e[i].size>r)return!1;return!0},params:[{name:"size",cast:function(e){return Number(e)}}]},Y={validate:function(e,t){var n=t||{},r=n.decimals,o=void 0===r?0:r,c=n.separator,l=new RegExp("^-?\\d+"+("comma"===(void 0===c?"dot":c)?",?":"\\.?")+(0===o?"\\d*":"(\\d{"+o+"})?")+"$");return Array.isArray(e)?e.every((function(e){return l.test(String(e))})):l.test(String(e))},params:[{name:"decimals",default:0},{name:"separator",default:"dot"}]}},811:function(e,t,n){var r,o,c;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t,n(4),n(812)],r=function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.setOptions=void 0,t=r(t);var o=["setOptions","on","off","onOnce","appendTo","insertAfter","insertBefore","isAttachedTo","replaceElement","restoreElement","destroy"],c=(0,n.supported)(),l=function(e){return{string:String,boolean:Boolean,array:Array,function:Function,int:Number,serverapi:Object,object:Object}[e]},f={},d=[],h={},v=[],_={},m=function(e){_=Object.assign(_,e),v.forEach((function(e){e.setOptions(_)}))};e.setOptions=m;var y=function(){n.registerPlugin.apply(void 0,arguments),d.length=0;var e=function(e){if(/^on/.test(e))return d.push(e),"continue";f[e]=[String,l(n.OptionTypes[e])],h[e]=function(t){this._pond[e]=t}};for(var r in n.OptionTypes)e(r);return t.default.component("FilePond",{name:"FilePond",props:f,watch:h,render:function(e){return e("div",{class:{"filepond--wrapper":!0}},[e("input",{attrs:{id:this.id,name:this.name,type:"file",class:this.className,required:this.required,multiple:this.allowMultiple,accept:this.acceptedFileTypes,capture:this.captureMethod}})])},mounted:function(){var e=this;if(c){this._element=this.$el.querySelector("input");var t=d.reduce((function(t,n){return t[n]=function(){e.$emit("input",e._pond?e._pond.getFiles():[]);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];e.$emit.apply(e,[n.substr(2)].concat(r))},t}),{}),r=Object.assign({},this.$attrs);this._pond=(0,n.create)(this._element,Object.assign({},_,t,r,this.$options.propsData)),Object.keys(this._pond).filter((function(e){return!o.includes(e)})).forEach((function(t){e[t]=e._pond[t]})),v.push(this._pond)}},destroyed:function(){var e=this,t=this.$options.detached;if(this.$el.offsetParent){var n=function(n,r){var o=((n[0]||{}).removedNodes||[])[0];o&&o.contains(e.$el)&&(r.disconnect(),t.call(e))};new MutationObserver(n).observe(document.documentElement,{childList:!0,subtree:!0})}else t.call(this)},detached:function(){if(this._pond){this._pond.destroy();var e=v.indexOf(this._pond);e>=0&&v.splice(e,1),this._pond=null}}})};e.default=y},void 0===(c="function"==typeof r?r.apply(t,o):r)||(e.exports=c)},812:function(e,t,n){!function(e){"use strict";var t=function(e){return e instanceof HTMLElement},n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=Object.assign({},e),o=[],c=[],l=function(){var e=[].concat(c);c.length=0,e.forEach((function(e){var t=e.type,data=e.data;f(t,data)}))},f=function(e,data,t){!t||document.hidden?(_[e]&&_[e](data),o.push({type:e,data:data})):c.push({type:e,data:data})},d=function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return v[e]?(t=v)[e].apply(t,r):null},h={getState:function(){return Object.assign({},r)},processActionQueue:function(){var e=[].concat(o);return o.length=0,e},processDispatchQueue:l,dispatch:f,query:d},v={};t.forEach((function(e){v=Object.assign({},e(r),{},v)}));var _={};return n.forEach((function(e){_=Object.assign({},e(f,d,r),{},_)})),h},r=function(e,t,n){"function"!=typeof n?Object.defineProperty(e,t,Object.assign({},n)):e[t]=n},o=function(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])},c=function(e){var t={};return o(e,(function(n){r(t,n,e[n])})),t},l=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null===n)return e.getAttribute(t)||e.hasAttribute(t);e.setAttribute(t,n)},f="http://www.w3.org/2000/svg",d=["svg","path"],h=function(e){return d.includes(e)},v=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};"object"==typeof t&&(n=t,t=null);var element=h(e)?document.createElementNS(f,e):document.createElement(e);return t&&(h(e)?l(element,"class",t):element.className=t),o(n,(function(e,t){l(element,e,t)})),element},_=function(e){return function(t,n){void 0!==n&&e.children[n]?e.insertBefore(t,e.children[n]):e.appendChild(t)}},m=function(e,t){return function(view,e){return void 0!==e?t.splice(e,0,view):t.push(view),view}},y=function(e,t){return function(view){return t.splice(t.indexOf(view),1),view.element.parentNode&&e.removeChild(view.element),view}},E="undefined"!=typeof window&&void 0!==window.document,w=function(){return E},T="children"in(w()?v("svg"):{})?function(e){return e.children.length}:function(e){return e.childNodes.length},I=function(e,t,n,r){var o=n[0]||e.left,c=n[1]||e.top,l=o+e.width,f=c+e.height*(r[1]||1),rect={element:Object.assign({},e),inner:{left:e.left,top:e.top,right:e.right,bottom:e.bottom},outer:{left:o,top:c,right:l,bottom:f}};return t.filter((function(e){return!e.isRectIgnored()})).map((function(e){return e.rect})).forEach((function(e){S(rect.inner,Object.assign({},e.inner)),S(rect.outer,Object.assign({},e.outer))})),O(rect.inner),rect.outer.bottom+=rect.element.marginBottom,rect.outer.right+=rect.element.marginRight,O(rect.outer),rect},S=function(e,t){t.top+=e.top,t.right+=e.left,t.bottom+=e.top,t.left+=e.left,t.bottom>e.bottom&&(e.bottom=t.bottom),t.right>e.right&&(e.right=t.right)},O=function(rect){rect.width=rect.right-rect.left,rect.height=rect.bottom-rect.top},A=function(e){return"number"==typeof e},R=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.001;return Math.abs(e-t)<r&&Math.abs(n)<r},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.stiffness,n=void 0===t?.5:t,r=e.damping,o=void 0===r?.75:r,l=e.mass,f=void 0===l?10:l,d=null,h=null,v=0,_=!1,m=c({interpolate:function(e,t){if(!_){if(!A(d)||!A(h))return _=!0,void(v=0);R(h+=v+=-(h-d)*n/f,d,v*=o)||t?(h=d,v=0,_=!0,m.onupdate(h),m.oncomplete(h)):m.onupdate(h)}},target:{set:function(e){if(A(e)&&!A(h)&&(h=e),null===d&&(d=e,h=e),h===(d=e)||void 0===d)return _=!0,v=0,m.onupdate(h),void m.oncomplete(h);_=!1},get:function(){return d}},resting:{get:function(){return _}},onupdate:function(e){},oncomplete:function(e){}});return m},D=function(e){return e<.5?2*e*e:(4-2*e)*e-1},P=function(){var e,p,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.duration,r=void 0===n?500:n,o=t.easing,l=void 0===o?D:o,f=t.delay,d=void 0===f?0:f,h=null,v=!0,_=!1,m=null,y=c({interpolate:function(t,n){v||null===m||(null===h&&(h=t),t-h<d||((e=t-h-d)>=r||n?(e=1,p=_?0:1,y.onupdate(p*m),y.oncomplete(p*m),v=!0):(p=e/r,y.onupdate((e>=0?l(_?1-p:p):0)*m))))},target:{get:function(){return _?0:m},set:function(e){if(null===m)return m=e,y.onupdate(e),void y.oncomplete(e);e<m?(m=1,_=!0):(_=!1,m=e),v=!1,h=null}},resting:{get:function(){return v}},onupdate:function(e){},oncomplete:function(e){}});return y},C={spring:k,tween:P},M=function(e,t,n){var r=e[t]&&"object"==typeof e[t][n]?e[t][n]:e[t]||e,o="string"==typeof r?r:r.type,c="object"==typeof r?Object.assign({},r):{};return C[o]?C[o](c):null},L=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];(t=Array.isArray(t)?t:[t]).forEach((function(t){e.forEach((function(e){var o=e,c=function(){return n[e]},l=function(t){return n[e]=t};"object"==typeof e&&(o=e.key,c=e.getter||c,l=e.setter||l),t[o]&&!r||(t[o]={get:c,set:l})}))}))},x=function(element){return function(e,t){element.addEventListener(e,t)}},N=function(element){return function(e,t){element.removeEventListener(e,t)}},j=function(e){return null!=e},F={opacity:1,scaleX:1,scaleY:1,translateX:0,translateY:0,rotateX:0,rotateY:0,rotateZ:0,originX:0,originY:0},U=function(e){var t=e.mixinConfig,n=e.viewProps,r=e.viewInternalAPI,o=e.viewExternalAPI,view=e.view,c=Object.assign({},n),l={};L(t,[r,o],n);var f=function(){return[n.translateX||0,n.translateY||0]},d=function(){return[n.scaleX||0,n.scaleY||0]},h=function(){return view.rect?I(view.rect,view.childViews,f(),d()):null};return r.rect={get:h},o.rect={get:h},t.forEach((function(e){n[e]=void 0===c[e]?F[e]:c[e]})),{write:function(){if(G(l,n))return B(view.element,n),Object.assign(l,Object.assign({},n)),!0},destroy:function(){}}},G=function(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!0;for(var n in t)if(t[n]!==e[n])return!0;return!1},B=function(element,e){var t=e.opacity,n=e.perspective,r=e.translateX,o=e.translateY,c=e.scaleX,l=e.scaleY,f=e.rotateX,d=e.rotateY,h=e.rotateZ,v=e.originX,_=e.originY,m=e.width,y=e.height,E="",w="";(j(v)||j(_))&&(w+="transform-origin: "+(v||0)+"px "+(_||0)+"px;"),j(n)&&(E+="perspective("+n+"px) "),(j(r)||j(o))&&(E+="translate3d("+(r||0)+"px, "+(o||0)+"px, 0) "),(j(c)||j(l))&&(E+="scale3d("+(j(c)?c:1)+", "+(j(l)?l:1)+", 1) "),j(h)&&(E+="rotateZ("+h+"rad) "),j(f)&&(E+="rotateX("+f+"rad) "),j(d)&&(E+="rotateY("+d+"rad) "),E.length&&(w+="transform:"+E+";"),j(t)&&(w+="opacity:"+t+";",0===t&&(w+="visibility:hidden;"),t<1&&(w+="pointer-events:none;")),j(y)&&(w+="height:"+y+"px;"),j(m)&&(w+="width:"+m+"px;");var T=element.elementCurrentStyle||"";w.length===T.length&&w===T||(element.style.cssText=w,element.elementCurrentStyle=w)},$={styles:U,listeners:function(e){e.mixinConfig,e.viewProps,e.viewInternalAPI;var t=e.viewExternalAPI,view=(e.viewState,e.view),n=[],r=x(view.element),o=N(view.element);return t.on=function(e,t){n.push({type:e,fn:t}),r(e,t)},t.off=function(e,t){n.splice(n.findIndex((function(n){return n.type===e&&n.fn===t})),1),o(e,t)},{write:function(){return!0},destroy:function(){n.forEach((function(e){o(e.type,e.fn)}))}}},animations:function(e){var t=e.mixinConfig,n=e.viewProps,r=e.viewInternalAPI,c=e.viewExternalAPI,l=Object.assign({},n),f=[];return o(t,(function(e,t){var o=M(t);o&&(o.onupdate=function(t){n[e]=t},o.target=l[e],L([{key:e,setter:function(e){o.target!==e&&(o.target=e)},getter:function(){return n[e]}}],[r,c],n,!0),f.push(o))})),{write:function(e){var t=document.hidden,n=!0;return f.forEach((function(r){r.resting||(n=!1),r.interpolate(e,t)})),n},destroy:function(){}}},apis:function(e){var t=e.mixinConfig,n=e.viewProps,r=e.viewExternalAPI;L(t,r,n)}},z=function(){var rect=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},element=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},style=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return element.layoutCalculated||(rect.paddingTop=parseInt(style.paddingTop,10)||0,rect.marginTop=parseInt(style.marginTop,10)||0,rect.marginRight=parseInt(style.marginRight,10)||0,rect.marginBottom=parseInt(style.marginBottom,10)||0,rect.marginLeft=parseInt(style.marginLeft,10)||0,element.layoutCalculated=!0),rect.left=element.offsetLeft||0,rect.top=element.offsetTop||0,rect.width=element.offsetWidth||0,rect.height=element.offsetHeight||0,rect.right=rect.left+rect.width,rect.bottom=rect.top+rect.height,rect.scrollTop=element.scrollTop,rect.hidden=null===element.offsetParent,rect},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.tag,n=void 0===t?"div":t,r=e.name,o=void 0===r?null:r,l=e.attributes,f=void 0===l?{}:l,d=e.read,h=void 0===d?function(){}:d,E=e.write,w=void 0===E?function(){}:E,S=e.create,O=void 0===S?function(){}:S,A=e.destroy,R=void 0===A?function(){}:A,k=e.filterFrameActionsForChild,D=void 0===k?function(e,t){return t}:k,P=e.didCreateView,C=void 0===P?function(){}:P,M=e.didWriteView,L=void 0===M?function(){}:M,x=e.ignoreRect,N=void 0!==x&&x,j=e.ignoreRectUpdate,F=void 0!==j&&j,U=e.mixins,G=void 0===U?[]:U;return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},element=v(n,"filepond--"+o,f),style=window.getComputedStyle(element,null),rect=z(),r=null,l=!1,d=[],E=[],S={},A={},k=[w],P=[h],M=[R],x=function(){return element},j=function(){return d.concat()},U=function(){return S},B=function(e){return function(view,t){return view(e,t)}},V=function(){return r||(r=I(rect,d,[0,0],[1,1]))},W=function(){r=null,d.forEach((function(e){return e._read()})),!(F&&rect.width&&rect.height)&&z(rect,element,style);var e={root:J,props:t,rect:rect};P.forEach((function(t){return t(e)}))},H=function(e,n,r){var o=0===n.length;return k.forEach((function(c){!1===c({props:t,root:J,actions:n,timestamp:e,shouldOptimize:r})&&(o=!1)})),E.forEach((function(t){!1===t.write(e)&&(o=!1)})),d.filter((function(e){return!!e.element.parentNode})).forEach((function(t){t._write(e,D(t,n),r)||(o=!1)})),d.forEach((function(t,c){t.element.parentNode||(J.appendChild(t.element,c),t._read(),t._write(e,D(t,n),r),o=!1)})),l=o,L({props:t,root:J,actions:n,timestamp:e}),o},Y=function(){E.forEach((function(e){return e.destroy()})),M.forEach((function(e){e({root:J,props:t})})),d.forEach((function(e){return e._destroy()}))},X={element:{get:x},style:{get:function(){return style}},childViews:{get:j}},Z=Object.assign({},X,{rect:{get:V},ref:{get:U},is:function(e){return o===e},appendChild:_(element),createChildView:B(e),linkView:function(view){return d.push(view),view},unlinkView:function(view){d.splice(d.indexOf(view),1)},appendChildView:m(element,d),removeChildView:y(element,d),registerWriter:function(e){return k.push(e)},registerReader:function(e){return P.push(e)},registerDestroyer:function(e){return M.push(e)},invalidateLayout:function(){return element.layoutCalculated=!1},dispatch:e.dispatch,query:e.query}),K={element:{get:x},childViews:{get:j},rect:{get:V},resting:{get:function(){return l}},isRectIgnored:function(){return N},_read:W,_write:H,_destroy:Y},Q=Object.assign({},X,{rect:{get:function(){return rect}}});Object.keys(G).sort((function(a,b){return"styles"===a?1:"styles"===b?-1:0})).forEach((function(e){var n=$[e]({mixinConfig:G[e],viewProps:t,viewState:A,viewInternalAPI:Z,viewExternalAPI:K,view:c(Q)});n&&E.push(n)}));var J=c(Z);O({root:J,props:t});var ee=T(element);return d.forEach((function(e,t){J.appendChild(e.element,ee+t)})),C(J),c(K)}},W=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:60,r="__framePainter";if(window[r])return window[r].readers.push(e),void window[r].writers.push(t);window[r]={readers:[e],writers:[t]};var o=window[r],c=1e3/n,l=null,f=null,d=null,h=null,v=function(){document.hidden?(d=function(){return window.setTimeout((function(){return _(performance.now())}),c)},h=function(){return window.clearTimeout(f)}):(d=function(){return window.requestAnimationFrame(_)},h=function(){return window.cancelAnimationFrame(f)})};document.addEventListener("visibilitychange",(function(){h&&h(),v(),_(performance.now())}));var _=function e(t){f=d(e),l||(l=t);var n=t-l;n<=c||(l=t-n%c,o.readers.forEach((function(e){return e()})),o.writers.forEach((function(e){return e(t)})))};return v(),_(performance.now()),{pause:function(){h(f)}}},H=function(e,t){return function(n){var r=n.root,o=n.props,c=n.actions,l=void 0===c?[]:c,f=n.timestamp,d=n.shouldOptimize;l.filter((function(t){return e[t.type]})).forEach((function(t){return e[t.type]({root:r,props:o,action:t.data,timestamp:f,shouldOptimize:d})})),t&&t({root:r,props:o,actions:l,timestamp:f,shouldOptimize:d})}},Y=function(e,t){return t.parentNode.insertBefore(e,t)},X=function(e,t){return t.parentNode.insertBefore(e,t.nextSibling)},Z=function(e){return Array.isArray(e)},K=function(e){return null==e},Q=function(e){return e.trim()},J=function(e){return""+e},ee=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",";return K(e)?[]:Z(e)?e:J(e).split(t).map(Q).filter((function(e){return e.length}))},te=function(e){return"boolean"==typeof e},ne=function(e){return te(e)?e:"true"===e},re=function(e){return"string"==typeof e},ie=function(e){return A(e)?e:re(e)?J(e).replace(/[a-z]+/gi,""):0},oe=function(e){return parseInt(ie(e),10)},ae=function(e){return parseFloat(ie(e))},se=function(e){return A(e)&&isFinite(e)&&Math.floor(e)===e},ue=function(e){var base=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;if(se(e))return e;var t=J(e).trim();return/MB$/i.test(t)?(t=t.replace(/MB$i/,"").trim(),oe(t)*base*base):/KB/i.test(t)?(t=t.replace(/KB$i/,"").trim(),oe(t)*base):oe(t)},ce=function(e){return"function"==typeof e},le=function(e){for(var t=self,n=e.split("."),r=null;r=n.shift();)if(!(t=t[r]))return null;return t},fe={process:"POST",patch:"PATCH",revert:"DELETE",fetch:"GET",restore:"GET",load:"GET"},de=function(e){var t={};return t.url=re(e)?e:e.url||"",t.timeout=e.timeout?parseInt(e.timeout,10):0,t.headers=e.headers?e.headers:{},o(fe,(function(n){t[n]=pe(n,e[n],fe[n],t.timeout,t.headers)})),t.process=e.process||re(e)||e.url?t.process:null,t.remove=e.remove||null,delete t.headers,t},pe=function(e,t,n,r,o){if(null===t)return null;if("function"==typeof t)return t;var c={url:"GET"===n||"PATCH"===n?"?"+e+"=":"",method:n,headers:o,withCredentials:!1,timeout:r,onload:null,ondata:null,onerror:null};if(re(t))return c.url=t,c;if(Object.assign(c,t),re(c.headers)){var l=c.headers.split(/:(.+)/);c.headers={header:l[0],value:l[1]}}return c.withCredentials=ne(c.withCredentials),c},he=function(e){return null===e},ge=function(e){return"object"==typeof e&&null!==e},ve=function(e){return ge(e)&&re(e.url)&&ge(e.process)&&ge(e.revert)&&ge(e.restore)&&ge(e.fetch)},_e=function(e){return Z(e)?"array":he(e)?"null":se(e)?"int":/^[0-9]+ ?(?:GB|MB|KB)$/gi.test(e)?"bytes":ve(e)?"api":typeof e},me=function(e){return e.replace(/{\s*'/g,'{"').replace(/'\s*}/g,'"}').replace(/'\s*:/g,'":').replace(/:\s*'/g,':"').replace(/,\s*'/g,',"').replace(/'\s*,/g,'",')},ye={array:ee,boolean:ne,int:function(e){return"bytes"===_e(e)?ue(e):oe(e)},number:ae,float:ae,bytes:ue,string:function(e){return ce(e)?e:J(e)},function:function(e){return le(e)},serverapi:function(e){return de(e)},object:function(e){try{return JSON.parse(me(e))}catch(e){return null}}},be=function(e,t){return ye[t](e)},Ee=function(e,t,n){if(e===t)return e;var r=_e(e);if(r!==n){var o=be(e,n);if(r=_e(o),null===o)throw'Trying to assign value with incorrect type to "'+option+'", allowed type: "'+n+'"';e=o}return e},we=function(e,t){var n=e;return{enumerable:!0,get:function(){return n},set:function(r){n=Ee(r,e,t)}}},Te=function(e){var t={};return o(e,(function(n){var r=e[n];t[n]=we(r[0],r[1])})),c(t)},Ie=function(e){return{items:[],listUpdateTimeout:null,itemUpdateTimeout:null,processingQueue:[],options:Te(e)}},Se=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";return e.split(/(?=[A-Z])/).map((function(e){return e.toLowerCase()})).join(t)},Oe=function(e,t){var n={};return o(t,(function(t){n[t]={get:function(){return e.getState().options[t]},set:function(n){e.dispatch("SET_"+Se(t,"_").toUpperCase(),{value:n})}}})),n},Ae=function(e){return function(t,n,r){var c={};return o(e,(function(e){var n=Se(e,"_").toUpperCase();c["SET_"+n]=function(o){try{r.options[e]=o.value}catch(e){}t("DID_SET_"+n,{value:r.options[e]})}})),c}},Re=function(e){return function(t){var n={};return o(e,(function(e){n["GET_"+Se(e,"_").toUpperCase()]=function(n){return t.options[e]}})),n}},ke={API:1,DROP:2,BROWSE:3,PASTE:4,NONE:5},De=function(){return Math.random().toString(36).substring(2,11)};function Pe(e){this.wrapped=e}function Ce(e){var t,n;function r(e,r){return new Promise((function(c,l){var f={key:e,arg:r,resolve:c,reject:l,next:null};n?n=n.next=f:(t=n=f,o(e,r))}))}function o(t,n){try{var r=e[t](n),l=r.value,f=l instanceof Pe;Promise.resolve(f?l.wrapped:l).then((function(e){f?o("next",e):c(r.done?"return":"normal",e)}),(function(e){o("throw",e)}))}catch(e){c("throw",e)}}function c(e,r){switch(e){case"return":t.resolve({value:r,done:!0});break;case"throw":t.reject(r);break;default:t.resolve({value:r,done:!1})}(t=t.next)?o(t.key,t.arg):n=null}this._invoke=r,"function"!=typeof e.return&&(this.return=void 0)}function Me(source,e){if(null==source)return{};var t,i,n={},r=Object.keys(source);for(i=0;i<r.length;i++)t=r[i],e.indexOf(t)>=0||(n[t]=source[t]);return n}function Le(source,e){if(null==source)return{};var t,i,n=Me(source,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(source);for(i=0;i<r.length;i++)t=r[i],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(source,t)&&(n[t]=source[t])}return n}function xe(e){return Ne(e)||je(e)||Fe()}function Ne(e){if(Array.isArray(e)){for(var i=0,t=new Array(e.length);i<e.length;i++)t[i]=e[i];return t}}function je(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function Fe(){throw new TypeError("Invalid attempt to spread non-iterable instance")}"function"==typeof Symbol&&Symbol.asyncIterator&&(Ce.prototype[Symbol.asyncIterator]=function(){return this}),Ce.prototype.next=function(e){return this._invoke("next",e)},Ce.prototype.throw=function(e){return this._invoke("throw",e)},Ce.prototype.return=function(e){return this._invoke("return",e)};var Ue=function(e,t){return e.splice(t,1)},Ge=function(e,t){t?e():document.hidden?Promise.resolve(1).then(e):setTimeout(e,0)},Be=function(){var e=[],t=function(t,n){Ue(e,e.findIndex((function(e){return e.event===t&&(e.cb===n||!n)})))},n=function(t,n,r){e.filter((function(e){return e.event===t})).map((function(e){return e.cb})).forEach((function(e){return Ge((function(){return e.apply(void 0,xe(n))}),r)}))};return{fireSync:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];n(e,r,!0)},fire:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];n(e,r,!1)},on:function(t,n){e.push({event:t,cb:n})},onOnce:function(n,r){e.push({event:n,cb:function(){t(n,r),r.apply(void 0,arguments)}})},off:t}},$e=function(e,t,n){Object.getOwnPropertyNames(e).filter((function(e){return!n.includes(e)})).forEach((function(n){return Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))},qe=["fire","process","revert","load","on","off","onOnce","retryLoad","extend","archive","archived","release","released","requestProcessing","freeze"],ze=function(e){var t={};return $e(e,t,qe),t},Ve=function(e){e.forEach((function(t,n){t.released&&Ue(e,n)}))},We={INIT:1,IDLE:2,PROCESSING_QUEUED:9,PROCESSING:3,PROCESSING_COMPLETE:5,PROCESSING_ERROR:6,PROCESSING_REVERT_ERROR:10,LOADING:7,LOAD_ERROR:8},He={INPUT:1,LIMBO:2,LOCAL:3},Ye=function(e){return/[^0-9]+/.exec(e)},Xe=function(){return Ye(1.1.toLocaleString())[0]},Ze=function(){var e=Xe(),t=1e3.toLocaleString();return t!==1e3.toString()?Ye(t)[0]:"."===e?",":"."},Ke={BOOLEAN:"boolean",INT:"int",NUMBER:"number",STRING:"string",ARRAY:"array",OBJECT:"object",FUNCTION:"function",ACTION:"action",SERVER_API:"serverapi",REGEX:"regex"},Qe=[],Je=function(e,t,n){return new Promise((function(r,o){var c=Qe.filter((function(t){return t.key===e})).map((function(e){return e.cb}));if(0!==c.length){var l=c.shift();c.reduce((function(e,t){return e.then((function(e){return t(e,n)}))}),l(t,n)).then((function(e){return r(e)})).catch((function(e){return o(e)}))}else r(t)}))},et=function(e,t,n){return Qe.filter((function(t){return t.key===e})).map((function(e){return e.cb(t,n)}))},tt=function(e,t){return Qe.push({key:e,cb:t})},nt=function(e){return Object.assign(at,e)},it=function(){return Object.assign({},at)},ot=function(e){o(e,(function(e,t){at[e]&&(at[e][0]=Ee(t,at[e][0],at[e][1]))}))},at={id:[null,Ke.STRING],name:["filepond",Ke.STRING],disabled:[!1,Ke.BOOLEAN],className:[null,Ke.STRING],required:[!1,Ke.BOOLEAN],captureMethod:[null,Ke.STRING],allowSyncAcceptAttribute:[!0,Ke.BOOLEAN],allowDrop:[!0,Ke.BOOLEAN],allowBrowse:[!0,Ke.BOOLEAN],allowPaste:[!0,Ke.BOOLEAN],allowMultiple:[!1,Ke.BOOLEAN],allowReplace:[!0,Ke.BOOLEAN],allowRevert:[!0,Ke.BOOLEAN],allowRemove:[!0,Ke.BOOLEAN],allowProcess:[!0,Ke.BOOLEAN],allowReorder:[!1,Ke.BOOLEAN],allowDirectoriesOnly:[!1,Ke.BOOLEAN],storeAsFile:[!1,Ke.BOOLEAN],forceRevert:[!1,Ke.BOOLEAN],maxFiles:[null,Ke.INT],checkValidity:[!1,Ke.BOOLEAN],itemInsertLocationFreedom:[!0,Ke.BOOLEAN],itemInsertLocation:["before",Ke.STRING],itemInsertInterval:[75,Ke.INT],dropOnPage:[!1,Ke.BOOLEAN],dropOnElement:[!0,Ke.BOOLEAN],dropValidation:[!1,Ke.BOOLEAN],ignoredFiles:[[".ds_store","thumbs.db","desktop.ini"],Ke.ARRAY],instantUpload:[!0,Ke.BOOLEAN],maxParallelUploads:[2,Ke.INT],allowMinimumUploadDuration:[!0,Ke.BOOLEAN],chunkUploads:[!1,Ke.BOOLEAN],chunkForce:[!1,Ke.BOOLEAN],chunkSize:[5e6,Ke.INT],chunkRetryDelays:[[500,1e3,3e3],Ke.ARRAY],server:[null,Ke.SERVER_API],fileSizeBase:[1e3,Ke.INT],labelFileSizeBytes:["bytes",Ke.STRING],labelFileSizeKilobytes:["KB",Ke.STRING],labelFileSizeMegabytes:["MB",Ke.STRING],labelFileSizeGigabytes:["GB",Ke.STRING],labelDecimalSeparator:[Xe(),Ke.STRING],labelThousandsSeparator:[Ze(),Ke.STRING],labelIdle:['Drag & Drop your files or <span class="filepond--label-action">Browse</span>',Ke.STRING],labelInvalidField:["Field contains invalid files",Ke.STRING],labelFileWaitingForSize:["Waiting for size",Ke.STRING],labelFileSizeNotAvailable:["Size not available",Ke.STRING],labelFileCountSingular:["file in list",Ke.STRING],labelFileCountPlural:["files in list",Ke.STRING],labelFileLoading:["Loading",Ke.STRING],labelFileAdded:["Added",Ke.STRING],labelFileLoadError:["Error during load",Ke.STRING],labelFileRemoved:["Removed",Ke.STRING],labelFileRemoveError:["Error during remove",Ke.STRING],labelFileProcessing:["Uploading",Ke.STRING],labelFileProcessingComplete:["Upload complete",Ke.STRING],labelFileProcessingAborted:["Upload cancelled",Ke.STRING],labelFileProcessingError:["Error during upload",Ke.STRING],labelFileProcessingRevertError:["Error during revert",Ke.STRING],labelTapToCancel:["tap to cancel",Ke.STRING],labelTapToRetry:["tap to retry",Ke.STRING],labelTapToUndo:["tap to undo",Ke.STRING],labelButtonRemoveItem:["Remove",Ke.STRING],labelButtonAbortItemLoad:["Abort",Ke.STRING],labelButtonRetryItemLoad:["Retry",Ke.STRING],labelButtonAbortItemProcessing:["Cancel",Ke.STRING],labelButtonUndoItemProcessing:["Undo",Ke.STRING],labelButtonRetryItemProcessing:["Retry",Ke.STRING],labelButtonProcessItem:["Upload",Ke.STRING],iconRemove:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M11.586 13l-2.293 2.293a1 1 0 0 0 1.414 1.414L13 14.414l2.293 2.293a1 1 0 0 0 1.414-1.414L14.414 13l2.293-2.293a1 1 0 0 0-1.414-1.414L13 11.586l-2.293-2.293a1 1 0 0 0-1.414 1.414L11.586 13z" fill="currentColor" fill-rule="nonzero"/></svg>',Ke.STRING],iconProcess:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M14 10.414v3.585a1 1 0 0 1-2 0v-3.585l-1.293 1.293a1 1 0 0 1-1.414-1.415l3-3a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1-1.414 1.415L14 10.414zM9 18a1 1 0 0 1 0-2h8a1 1 0 0 1 0 2H9z" fill="currentColor" fill-rule="evenodd"/></svg>',Ke.STRING],iconRetry:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M10.81 9.185l-.038.02A4.997 4.997 0 0 0 8 13.683a5 5 0 0 0 5 5 5 5 0 0 0 5-5 1 1 0 0 1 2 0A7 7 0 1 1 9.722 7.496l-.842-.21a.999.999 0 1 1 .484-1.94l3.23.806c.535.133.86.675.73 1.21l-.804 3.233a.997.997 0 0 1-1.21.73.997.997 0 0 1-.73-1.21l.23-.928v-.002z" fill="currentColor" fill-rule="nonzero"/></svg>',Ke.STRING],iconUndo:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M9.185 10.81l.02-.038A4.997 4.997 0 0 1 13.683 8a5 5 0 0 1 5 5 5 5 0 0 1-5 5 1 1 0 0 0 0 2A7 7 0 1 0 7.496 9.722l-.21-.842a.999.999 0 1 0-1.94.484l.806 3.23c.133.535.675.86 1.21.73l3.233-.803a.997.997 0 0 0 .73-1.21.997.997 0 0 0-1.21-.73l-.928.23-.002-.001z" fill="currentColor" fill-rule="nonzero"/></svg>',Ke.STRING],iconDone:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M18.293 9.293a1 1 0 0 1 1.414 1.414l-7.002 7a1 1 0 0 1-1.414 0l-3.998-4a1 1 0 1 1 1.414-1.414L12 15.586l6.294-6.293z" fill="currentColor" fill-rule="nonzero"/></svg>',Ke.STRING],oninit:[null,Ke.FUNCTION],onwarning:[null,Ke.FUNCTION],onerror:[null,Ke.FUNCTION],onactivatefile:[null,Ke.FUNCTION],oninitfile:[null,Ke.FUNCTION],onaddfilestart:[null,Ke.FUNCTION],onaddfileprogress:[null,Ke.FUNCTION],onaddfile:[null,Ke.FUNCTION],onprocessfilestart:[null,Ke.FUNCTION],onprocessfileprogress:[null,Ke.FUNCTION],onprocessfileabort:[null,Ke.FUNCTION],onprocessfilerevert:[null,Ke.FUNCTION],onprocessfile:[null,Ke.FUNCTION],onprocessfiles:[null,Ke.FUNCTION],onremovefile:[null,Ke.FUNCTION],onpreparefile:[null,Ke.FUNCTION],onupdatefiles:[null,Ke.FUNCTION],onreorderfiles:[null,Ke.FUNCTION],beforeDropFile:[null,Ke.FUNCTION],beforeAddFile:[null,Ke.FUNCTION],beforeRemoveFile:[null,Ke.FUNCTION],beforePrepareFile:[null,Ke.FUNCTION],stylePanelLayout:[null,Ke.STRING],stylePanelAspectRatio:[null,Ke.STRING],styleItemPanelAspectRatio:[null,Ke.STRING],styleButtonRemoveItemPosition:["left",Ke.STRING],styleButtonProcessItemPosition:["right",Ke.STRING],styleLoadIndicatorPosition:["right",Ke.STRING],styleProgressIndicatorPosition:["right",Ke.STRING],styleButtonRemoveItemAlign:[!1,Ke.BOOLEAN],files:[[],Ke.ARRAY],credits:[["https://pqina.nl/","Powered by PQINA"],Ke.ARRAY]},st=function(e,t){return K(t)?e[0]||null:se(t)?e[t]||null:("object"==typeof t&&(t=t.id),e.find((function(e){return e.id===t}))||null)},ut=function(e){if(K(e))return e;if(/:/.test(e)){var t=e.split(":");return t[1]/t[0]}return parseFloat(e)},ct=function(e){return e.filter((function(e){return!e.archived}))},lt={EMPTY:0,IDLE:1,ERROR:2,BUSY:3,READY:4},ft=null,pt=function(){if(null===ft)try{var e=new DataTransfer;e.items.add(new File(["hello world"],"This_Works.txt"));var t=document.createElement("input");t.setAttribute("type","file"),t.files=e.files,ft=1===t.files.length}catch(e){ft=!1}return ft},ht=[We.LOAD_ERROR,We.PROCESSING_ERROR,We.PROCESSING_REVERT_ERROR],gt=[We.LOADING,We.PROCESSING,We.PROCESSING_QUEUED,We.INIT],vt=[We.PROCESSING_COMPLETE],_t=function(e){return ht.includes(e.status)},mt=function(e){return gt.includes(e.status)},yt=function(e){return vt.includes(e.status)},bt=function(e){return ge(e.options.server)&&(ge(e.options.server.process)||ce(e.options.server.process))},Et=function(e){return{GET_STATUS:function(){var t=ct(e.items),n=lt.EMPTY,r=lt.ERROR,o=lt.BUSY,c=lt.IDLE,l=lt.READY;return 0===t.length?n:t.some(_t)?r:t.some(mt)?o:t.some(yt)?l:c},GET_ITEM:function(t){return st(e.items,t)},GET_ACTIVE_ITEM:function(t){return st(ct(e.items),t)},GET_ACTIVE_ITEMS:function(){return ct(e.items)},GET_ITEMS:function(){return e.items},GET_ITEM_NAME:function(t){var n=st(e.items,t);return n?n.filename:null},GET_ITEM_SIZE:function(t){var n=st(e.items,t);return n?n.fileSize:null},GET_STYLES:function(){return Object.keys(e.options).filter((function(e){return/^style/.test(e)})).map((function(option){return{name:option,value:e.options[option]}}))},GET_PANEL_ASPECT_RATIO:function(){return/circle/.test(e.options.stylePanelLayout)?1:ut(e.options.stylePanelAspectRatio)},GET_ITEM_PANEL_ASPECT_RATIO:function(){return e.options.styleItemPanelAspectRatio},GET_ITEMS_BY_STATUS:function(t){return ct(e.items).filter((function(e){return e.status===t}))},GET_TOTAL_ITEMS:function(){return ct(e.items).length},SHOULD_UPDATE_FILE_INPUT:function(){return e.options.storeAsFile&&pt()&&!bt(e)},IS_ASYNC:function(){return bt(e)},GET_FILE_SIZE_LABELS:function(e){return{labelBytes:e("GET_LABEL_FILE_SIZE_BYTES")||void 0,labelKilobytes:e("GET_LABEL_FILE_SIZE_KILOBYTES")||void 0,labelMegabytes:e("GET_LABEL_FILE_SIZE_MEGABYTES")||void 0,labelGigabytes:e("GET_LABEL_FILE_SIZE_GIGABYTES")||void 0}}}},wt=function(e){var t=ct(e.items).length;if(!e.options.allowMultiple)return 0===t;var n=e.options.maxFiles;return null===n||t<n},Tt=function(e,t,n){return Math.max(Math.min(n,e),t)},It=function(e,t,n){return e.splice(t,0,n)},St=function(e,t,n){return K(t)?null:void 0===n?(e.push(t),t):(n=Tt(n,0,e.length),It(e,n,t),t)},Ot=function(e){return/^\s*data:([a-z]+\/[a-z0-9-+.]+(;[a-z-]+=[a-z0-9-]+)?)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s]*)\s*$/i.test(e)},At=function(e){return(""+e).split("/").pop().split("?").shift()},Rt=function(e){return e.split(".").pop()},kt=function(e){if("string"!=typeof e)return"";var t=e.split("/").pop();return/svg/.test(t)?"svg":/zip|compressed/.test(t)?"zip":/plain/.test(t)?"txt":/msword/.test(t)?"doc":/[a-z]+/.test(t)?"jpeg"===t?"jpg":t:""},Dt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(t+e).slice(-t.length)},Pt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return e.getFullYear()+"-"+Dt(e.getMonth()+1,"00")+"-"+Dt(e.getDate(),"00")+"_"+Dt(e.getHours(),"00")+"-"+Dt(e.getMinutes(),"00")+"-"+Dt(e.getSeconds(),"00")},Ct=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o="string"==typeof n?e.slice(0,e.size,n):e.slice(0,e.size,e.type);return o.lastModifiedDate=new Date,e._relativePath&&(o._relativePath=e._relativePath),re(t)||(t=Pt()),t&&null===r&&Rt(t)?o.name=t:(r=r||kt(o.type),o.name=t+(r?"."+r:"")),o},Mt=function(){return window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder},Lt=function(e,t){var n=Mt();if(n){var r=new n;return r.append(e),r.getBlob(t)}return new Blob([e],{type:t})},xt=function(e,t){for(var n=new ArrayBuffer(e.length),r=new Uint8Array(n),i=0;i<e.length;i++)r[i]=e.charCodeAt(i);return Lt(n,t)},Nt=function(e){return(/^data:(.+);/.exec(e)||[])[1]||null},jt=function(e){return e.split(",")[1].replace(/\s/g,"")},Ft=function(e){return atob(jt(e))},Ut=function(e){var t=Nt(e),n=Ft(e);return xt(n,t)},Gt=function(e,t,n){return Ct(Ut(e),t,null,n)},Bt=function(header){if(!/^content-disposition:/i.test(header))return null;var e=header.split(/filename=|filename\*=.+''/).splice(1).map((function(e){return e.trim().replace(/^["']|[;"']{0,2}$/g,"")})).filter((function(e){return e.length}));return e.length?decodeURI(e[e.length-1]):null},$t=function(header){if(/content-length:/i.test(header)){var e=header.match(/[0-9]+/)[0];return e?parseInt(e,10):null}return null},qt=function(header){return/x-content-transfer-id:/i.test(header)&&(header.split(":")[1]||"").trim()||null},zt=function(e){var t={source:null,name:null,size:null},n=e.split("\n"),r=!0,o=!1,c=void 0;try{for(var l,f=n[Symbol.iterator]();!(r=(l=f.next()).done);r=!0){var header=l.value,d=Bt(header);if(d)t.name=d;else{var h=$t(header);if(h)t.size=h;else{var source=qt(header);source&&(t.source=source)}}}}catch(e){o=!0,c=e}finally{try{r||null==f.return||f.return()}finally{if(o)throw c}}return t},Vt=function(e){var t={source:null,complete:!1,progress:0,size:null,timestamp:null,duration:0,request:null},n=function(){return t.progress},r=function(){t.request&&t.request.abort&&t.request.abort()},o=function(){var source=t.source;l.fire("init",source),source instanceof File?l.fire("load",source):source instanceof Blob?l.fire("load",Ct(source,source.name)):Ot(source)?l.fire("load",Gt(source)):c(source)},c=function(n){e?(t.timestamp=Date.now(),t.request=e(n,(function(e){t.duration=Date.now()-t.timestamp,t.complete=!0,e instanceof Blob&&(e=Ct(e,e.name||At(n))),l.fire("load",e instanceof Blob?e:e?e.body:null)}),(function(e){l.fire("error","string"==typeof e?{type:"error",code:0,body:e}:e)}),(function(e,n,r){r&&(t.size=r),t.duration=Date.now()-t.timestamp,e?(t.progress=n/r,l.fire("progress",t.progress)):t.progress=null}),(function(){l.fire("abort")}),(function(e){var n=zt("string"==typeof e?e:e.headers);l.fire("meta",{size:t.size||n.size,filename:n.name,source:n.source})}))):l.fire("error",{type:"error",body:"Can't load URL",code:400})},l=Object.assign({},Be(),{setSource:function(source){return t.source=source},getProgress:n,abort:r,load:o});return l},Wt=function(e){return/GET|HEAD/.test(e)},Ht=function(data,e,t){var n={onheaders:function(){},onprogress:function(){},onload:function(){},ontimeout:function(){},onerror:function(){},onabort:function(){},abort:function(){r=!0,c.abort()}},r=!1,o=!1;t=Object.assign({method:"POST",headers:{},withCredentials:!1},t),e=encodeURI(e),Wt(t.method)&&data&&(e=""+e+encodeURIComponent("string"==typeof data?data:JSON.stringify(data)));var c=new XMLHttpRequest;return(Wt(t.method)?c:c.upload).onprogress=function(e){r||n.onprogress(e.lengthComputable,e.loaded,e.total)},c.onreadystatechange=function(){c.readyState<2||4===c.readyState&&0===c.status||o||(o=!0,n.onheaders(c))},c.onload=function(){c.status>=200&&c.status<300?n.onload(c):n.onerror(c)},c.onerror=function(){return n.onerror(c)},c.onabort=function(){r=!0,n.onabort()},c.ontimeout=function(){return n.ontimeout(c)},c.open(t.method,e,!0),se(t.timeout)&&(c.timeout=t.timeout),Object.keys(t.headers).forEach((function(e){var n=unescape(encodeURIComponent(t.headers[e]));c.setRequestHeader(e,n)})),t.responseType&&(c.responseType=t.responseType),t.withCredentials&&(c.withCredentials=!0),c.send(data),n},Yt=function(e,code,body,t){return{type:e,code:code,body:body,headers:t}},Xt=function(e){return function(t){e(Yt("error",0,"Timeout",t.getAllResponseHeaders()))}},Zt=function(e){return/\?/.test(e)},Kt=function(){for(var e="",t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach((function(t){e+=Zt(e)&&Zt(t)?t.replace(/\?/,"&"):t})),e},Qt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;if("function"==typeof t)return t;if(!t||!re(t.url))return null;var n=t.onload||function(e){return e},r=t.onerror||function(e){return null};return function(o,c,l,progress,f,d){var h=Ht(o,Kt(e,t.url),Object.assign({},t,{responseType:"blob"}));return h.onload=function(e){var r=e.getAllResponseHeaders(),l=zt(r).name||At(o);c(Yt("load",e.status,"HEAD"===t.method?null:Ct(n(e.response),l),r))},h.onerror=function(e){l(Yt("error",e.status,r(e.response)||e.statusText,e.getAllResponseHeaders()))},h.onheaders=function(e){d(Yt("headers",e.status,null,e.getAllResponseHeaders()))},h.ontimeout=Xt(l),h.onprogress=progress,h.onabort=f,h}},Jt={QUEUED:0,COMPLETE:1,PROCESSING:2,ERROR:3,WAITING:4},en=function(e,t,n,r,o,c,l,progress,f,d,h){for(var v=[],_=h.chunkTransferId,m=h.chunkServer,y=h.chunkSize,E=h.chunkRetryDelays,w={serverId:_,aborted:!1},T=t.ondata||function(e){return e},I=t.onload||function(e,t){return"HEAD"===t?e.getResponseHeader("Upload-Offset"):e.response},S=t.onerror||function(e){return null},O=function(c){var f=new FormData;ge(o)&&f.append(n,JSON.stringify(o));var d="function"==typeof t.headers?t.headers(r,o):Object.assign({},t.headers,{"Upload-Length":r.size}),h=Object.assign({},t,{headers:d}),v=Ht(T(f),Kt(e,t.url),h);v.onload=function(e){return c(I(e,h.method))},v.onerror=function(e){return l(Yt("error",e.status,S(e.response)||e.statusText,e.getAllResponseHeaders()))},v.ontimeout=Xt(l)},A=function(n){var r=Kt(e,m.url,w.serverId),o={headers:"function"==typeof t.headers?t.headers(w.serverId):Object.assign({},t.headers),method:"HEAD"},c=Ht(null,r,o);c.onload=function(e){return n(I(e,o.method))},c.onerror=function(e){return l(Yt("error",e.status,S(e.response)||e.statusText,e.getAllResponseHeaders()))},c.ontimeout=Xt(l)},R=Math.floor(r.size/y),i=0;i<=R;i++){var k=i*y,data=r.slice(k,k+y,"application/offset+octet-stream");v[i]={index:i,size:data.size,offset:k,data:data,file:r,progress:0,retries:xe(E),status:Jt.QUEUED,error:null,request:null,timeout:null}}var D=function(){return c(w.serverId)},P=function(e){return e.status===Jt.QUEUED||e.status===Jt.ERROR},C=function(t){if(!w.aborted)if(t=t||v.find(P)){t.status=Jt.PROCESSING,t.progress=null;var n=m.ondata||function(e){return e},o=m.onerror||function(e){return null},c=Kt(e,m.url,w.serverId),d="function"==typeof m.headers?m.headers(t):Object.assign({},m.headers,{"Content-Type":"application/offset+octet-stream","Upload-Offset":t.offset,"Upload-Length":r.size,"Upload-Name":r.name}),h=t.request=Ht(n(t.data),c,Object.assign({},m,{headers:d}));h.onload=function(){t.status=Jt.COMPLETE,t.request=null,x()},h.onprogress=function(e,n,r){t.progress=e?n:null,L()},h.onerror=function(e){t.status=Jt.ERROR,t.request=null,t.error=o(e.response)||e.statusText,M(t)||l(Yt("error",e.status,o(e.response)||e.statusText,e.getAllResponseHeaders()))},h.ontimeout=function(e){t.status=Jt.ERROR,t.request=null,M(t)||Xt(l)(e)},h.onabort=function(){t.status=Jt.QUEUED,t.request=null,f()}}else v.every((function(e){return e.status===Jt.COMPLETE}))&&D()},M=function(e){return 0!==e.retries.length&&(e.status=Jt.WAITING,clearTimeout(e.timeout),e.timeout=setTimeout((function(){C(e)}),e.retries.shift()),!0)},L=function(){var e=v.reduce((function(p,e){return null===p||null===e.progress?null:p+e.progress}),0);if(null===e)return progress(!1,0,0);var t=v.reduce((function(e,t){return e+t.size}),0);progress(!0,e,t)},x=function(){v.filter((function(e){return e.status===Jt.PROCESSING})).length>=1||C()},N=function(){v.forEach((function(e){clearTimeout(e.timeout),e.request&&e.request.abort()}))};return w.serverId?A((function(e){w.aborted||(v.filter((function(t){return t.offset<e})).forEach((function(e){e.status=Jt.COMPLETE,e.progress=e.size})),x())})):O((function(e){w.aborted||(d(e),w.serverId=e,x())})),{abort:function(){w.aborted=!0,N()}}},tn=function(e,t,n,r){return function(o,c,l,f,progress,d,h){if(o){var v=r.chunkUploads,_=v&&o.size>r.chunkSize,m=v&&(_||r.chunkForce);if(o instanceof Blob&&m)return en(e,t,n,o,c,l,f,progress,d,h,r);var y=t.ondata||function(e){return e},E=t.onload||function(e){return e},w=t.onerror||function(e){return null},T="function"==typeof t.headers?t.headers(o,c)||{}:Object.assign({},t.headers),I=Object.assign({},t,{headers:T}),S=new FormData;ge(c)&&S.append(n,JSON.stringify(c)),(o instanceof Blob?[{name:null,file:o}]:o).forEach((function(e){S.append(n,e.file,null===e.name?e.file.name:""+e.name+e.file.name)}));var O=Ht(y(S),Kt(e,t.url),I);return O.onload=function(e){l(Yt("load",e.status,E(e.response),e.getAllResponseHeaders()))},O.onerror=function(e){f(Yt("error",e.status,w(e.response)||e.statusText,e.getAllResponseHeaders()))},O.ontimeout=Xt(f),O.onprogress=progress,O.onabort=d,O}}},nn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return"function"==typeof t?function(){for(var e=arguments.length,o=new Array(e),c=0;c<e;c++)o[c]=arguments[c];return t.apply(void 0,[n].concat(o,[r]))}:t&&re(t.url)?tn(e,t,n,r):null},rn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;if("function"==typeof t)return t;if(!t||!re(t.url))return function(e,t){return t()};var n=t.onload||function(e){return e},r=t.onerror||function(e){return null};return function(o,c,l){var f=Ht(o,e+t.url,t);return f.onload=function(e){c(Yt("load",e.status,n(e.response),e.getAllResponseHeaders()))},f.onerror=function(e){l(Yt("error",e.status,r(e.response)||e.statusText,e.getAllResponseHeaders()))},f.ontimeout=Xt(l),f}},on=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return e+Math.random()*(t-e)},an=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:25,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:250,o=null,c=Date.now();return t>0&&function l(){var f=Date.now()-c,d=on(n,r);f+d>t&&(d=f+d-t);var progress=f/t;progress>=1||document.hidden?e(1):(e(progress),o=setTimeout(l,d))}(),{clear:function(){clearTimeout(o)}}},sn=function(e,t){var n={complete:!1,perceivedProgress:0,perceivedPerformanceUpdater:null,progress:null,timestamp:null,perceivedDuration:0,duration:0,request:null,response:null},r=t.allowMinimumUploadDuration,o=function(t,o){var c=function(){0!==n.duration&&null!==n.progress&&h.fire("progress",h.getProgress())},l=function(){n.complete=!0,h.fire("load-perceived",n.response.body)};h.fire("start"),n.timestamp=Date.now(),n.perceivedPerformanceUpdater=an((function(progress){n.perceivedProgress=progress,n.perceivedDuration=Date.now()-n.timestamp,c(),n.response&&1===n.perceivedProgress&&!n.complete&&l()}),r?on(750,1500):0),n.request=e(t,o,(function(e){n.response=ge(e)?e:{type:"load",code:200,body:""+e,headers:{}},n.duration=Date.now()-n.timestamp,n.progress=1,h.fire("load",n.response.body),(!r||r&&1===n.perceivedProgress)&&l()}),(function(e){n.perceivedPerformanceUpdater.clear(),h.fire("error",ge(e)?e:{type:"error",code:0,body:""+e})}),(function(e,t,r){n.duration=Date.now()-n.timestamp,n.progress=e?t/r:null,c()}),(function(){n.perceivedPerformanceUpdater.clear(),h.fire("abort",n.response?n.response.body:null)}),(function(e){h.fire("transfer",e)}))},c=function(){n.request&&(n.perceivedPerformanceUpdater.clear(),n.request.abort&&n.request.abort(),n.complete=!0)},l=function(){c(),n.complete=!1,n.perceivedProgress=0,n.progress=0,n.timestamp=null,n.perceivedDuration=0,n.duration=0,n.request=null,n.response=null},f=r?function(){return n.progress?Math.min(n.progress,n.perceivedProgress):null}:function(){return n.progress||null},d=r?function(){return Math.min(n.duration,n.perceivedDuration)}:function(){return n.duration},h=Object.assign({},Be(),{process:o,abort:c,getProgress:f,getDuration:d,reset:l});return h},un=function(e){return e.substring(0,e.lastIndexOf("."))||e},cn=function(source){var data=[source.name,source.size,source.type];return source instanceof Blob||Ot(source)?data[0]=source.name||Pt():Ot(source)?(data[1]=source.length,data[2]=Nt(source)):re(source)&&(data[0]=At(source),data[1]=0,data[2]="application/octet-stream"),{name:data[0],size:data[1],type:data[2]}},ln=function(e){return!!(e instanceof File||e instanceof Blob&&e.name)},fn=function e(t){if(!ge(t))return t;var n=Z(t)?[]:{};for(var r in t)if(t.hasOwnProperty(r)){var o=t[r];n[r]=o&&ge(o)?e(o):o}return n},dn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=De(),o={archived:!1,frozen:!1,released:!1,source:null,file:n,serverFileReference:t,transferId:null,processingAborted:!1,status:t?We.PROCESSING_COMPLETE:We.INIT,activeLoader:null,activeProcessor:null},l=null,f={},d=function(e){return o.status=e},h=function(e){if(!o.released&&!o.frozen){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];D.fire.apply(D,[e].concat(n))}},v=function(){return Rt(o.file.name)},_=function(){return o.file.type},m=function(){return o.file.size},y=function(){return o.file},E=function(source,t,n){o.source=source,D.fireSync("init"),o.file?D.fireSync("load-skip"):(o.file=cn(source),t.on("init",(function(){h("load-init")})),t.on("meta",(function(meta){o.file.size=meta.size,o.file.filename=meta.filename,meta.source&&(e=He.LIMBO,o.serverFileReference=meta.source,o.status=We.PROCESSING_COMPLETE),h("load-meta")})),t.on("progress",(function(progress){d(We.LOADING),h("load-progress",progress)})),t.on("error",(function(e){d(We.LOAD_ERROR),h("load-request-error",e)})),t.on("abort",(function(){d(We.INIT),h("load-abort")})),t.on("load",(function(t){o.activeLoader=null;var r=function(t){o.file=ln(t)?t:o.file,e===He.LIMBO&&o.serverFileReference?d(We.PROCESSING_COMPLETE):d(We.IDLE),h("load")},c=function(e){o.file=t,h("load-meta"),d(We.LOAD_ERROR),h("load-file-error",e)};o.serverFileReference?r(t):n(t,r,c)})),t.setSource(source),o.activeLoader=t,t.load())},w=function(){o.activeLoader&&o.activeLoader.load()},T=function(){o.activeLoader?o.activeLoader.abort():(d(We.INIT),h("load-abort"))},I=function e(t,n){if(o.processingAborted)o.processingAborted=!1;else if(d(We.PROCESSING),l=null,o.file instanceof Blob){t.on("load",(function(e){o.transferId=null,o.serverFileReference=e})),t.on("transfer",(function(e){o.transferId=e})),t.on("load-perceived",(function(e){o.activeProcessor=null,o.transferId=null,o.serverFileReference=e,d(We.PROCESSING_COMPLETE),h("process-complete",e)})),t.on("start",(function(){h("process-start")})),t.on("error",(function(e){o.activeProcessor=null,d(We.PROCESSING_ERROR),h("process-error",e)})),t.on("abort",(function(e){o.activeProcessor=null,o.serverFileReference=e,d(We.IDLE),h("process-abort"),l&&l()})),t.on("progress",(function(progress){h("process-progress",progress)}));var r=function(e){o.archived||t.process(e,Object.assign({},f))},c=console.error;n(o.file,r,c),o.activeProcessor=t}else D.on("load",(function(){e(t,n)}))},S=function(){o.processingAborted=!1,d(We.PROCESSING_QUEUED)},O=function(){return new Promise((function(e){if(!o.activeProcessor)return o.processingAborted=!0,d(We.IDLE),h("process-abort"),void e();l=function(){e()},o.activeProcessor.abort()}))},A=function(e,t){return new Promise((function(n,r){var c=null!==o.serverFileReference?o.serverFileReference:o.transferId;null!==c?(e(c,(function(){o.serverFileReference=null,o.transferId=null,n()}),(function(e){t?(d(We.PROCESSING_REVERT_ERROR),h("process-revert-error"),r(e)):n()})),d(We.IDLE),h("process-revert")):n()}))},R=function(e,t,n){var r=e.split("."),o=r[0],c=r.pop(),data=f;r.forEach((function(e){return data=data[e]})),JSON.stringify(data[c])!==JSON.stringify(t)&&(data[c]=t,h("metadata-update",{key:o,value:f[o],silent:n}))},k=function(e){return fn(e?f[e]:f)},D=Object.assign({id:{get:function(){return r}},origin:{get:function(){return e},set:function(t){return e=t}},serverId:{get:function(){return o.serverFileReference}},transferId:{get:function(){return o.transferId}},status:{get:function(){return o.status}},filename:{get:function(){return o.file.name}},filenameWithoutExtension:{get:function(){return un(o.file.name)}},fileExtension:{get:v},fileType:{get:_},fileSize:{get:m},file:{get:y},relativePath:{get:function(){return o.file._relativePath}},source:{get:function(){return o.source}},getMetadata:k,setMetadata:function(e,t,n){if(ge(e)){var data=e;return Object.keys(data).forEach((function(e){R(e,data[e],t)})),e}return R(e,t,n),t},extend:function(e,t){return P[e]=t},abortLoad:T,retryLoad:w,requestProcessing:S,abortProcessing:O,load:E,process:I,revert:A},Be(),{freeze:function(){return o.frozen=!0},release:function(){return o.released=!0},released:{get:function(){return o.released}},archive:function(){return o.archived=!0},archived:{get:function(){return o.archived}}}),P=c(D);return P},pn=function(e,t){return K(t)?0:re(t)?e.findIndex((function(e){return e.id===t})):-1},hn=function(e,t){var n=pn(e,t);if(!(n<0))return e[n]||null},gn=function(e,t,n,progress,r,o){var c=Ht(null,e,{method:"GET",responseType:"blob"});return c.onload=function(n){var r=n.getAllResponseHeaders(),o=zt(r).name||At(e);t(Yt("load",n.status,Ct(n.response,o),r))},c.onerror=function(e){n(Yt("error",e.status,e.statusText,e.getAllResponseHeaders()))},c.onheaders=function(e){o(Yt("headers",e.status,null,e.getAllResponseHeaders()))},c.ontimeout=Xt(n),c.onprogress=progress,c.onabort=r,c},vn=function(e){return 0===e.indexOf("//")&&(e=location.protocol+e),e.toLowerCase().replace("blob:","").replace(/([a-z])?:\/\//,"$1").split("/")[0]},_n=function(e){return(e.indexOf(":")>-1||e.indexOf("//")>-1)&&vn(location.href)!==vn(e)},mn=function(label){return function(){return ce(label)?label.apply(void 0,arguments):label}},yn=function(e){return!ln(e.file)},bn=function(e,t){clearTimeout(t.listUpdateTimeout),t.listUpdateTimeout=setTimeout((function(){e("DID_UPDATE_ITEMS",{items:ct(t.items)})}),0)},En=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return new Promise((function(t){if(!e)return t(!0);var r=e.apply(void 0,n);return null==r?t(!0):"boolean"==typeof r?t(r):void("function"==typeof r.then&&r.then(t))}))},wn=function(e,t){e.items.sort((function(a,b){return t(ze(a),ze(b))}))},Tn=function(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.query,o=n.success,c=void 0===o?function(){}:o,l=n.failure,f=void 0===l?function(){}:l,d=Le(n,["query","success","failure"]),h=st(e.items,r);h?t(h,c,f,d||{}):f({error:Yt("error",0,"Item not found"),file:null})}},In=function(e,t,n){return{ABORT_ALL:function(){ct(n.items).forEach((function(e){e.freeze(),e.abortLoad(),e.abortProcessing()}))},DID_SET_FILES:function(t){var r=t.value,o=(void 0===r?[]:r).map((function(e){return{source:e.source?e.source:e,options:e.options}})),c=ct(n.items);c.forEach((function(t){o.find((function(e){return e.source===t.source||e.source===t.file}))||e("REMOVE_ITEM",{query:t,remove:!1})})),c=ct(n.items),o.forEach((function(t,n){c.find((function(e){return e.source===t.source||e.file===t.source}))||e("ADD_ITEM",Object.assign({},t,{interactionMethod:ke.NONE,index:n}))}))},DID_UPDATE_ITEM_METADATA:function(r){var o=r.id,c=r.action,l=r.change;l.silent||(clearTimeout(n.itemUpdateTimeout),n.itemUpdateTimeout=setTimeout((function(){var r=hn(n.items,o);if(t("IS_ASYNC")){r.origin===He.LOCAL&&e("DID_LOAD_ITEM",{id:r.id,error:null,serverFileReference:r.source});var f=function(){setTimeout((function(){e("REQUEST_ITEM_PROCESSING",{query:o})}),32)},d=function(e){r.revert(rn(n.options.server.url,n.options.server.revert),t("GET_FORCE_REVERT")).then(e?f:function(){}).catch((function(){}))},h=function(e){r.abortProcessing().then(e?f:function(){})};return r.status===We.PROCESSING_COMPLETE?d(n.options.instantUpload):r.status===We.PROCESSING?h(n.options.instantUpload):void(n.options.instantUpload&&f())}Je("SHOULD_PREPARE_OUTPUT",!1,{item:r,query:t,action:c,change:l}).then((function(n){var c=t("GET_BEFORE_PREPARE_FILE");c&&(n=c(r,n)),n&&e("REQUEST_PREPARE_OUTPUT",{query:o,item:r,success:function(t){e("DID_PREPARE_OUTPUT",{id:o,file:t})}},!0)}))}),0))},MOVE_ITEM:function(e){var t=e.query,r=e.index,o=st(n.items,t);if(o){var c=n.items.indexOf(o);c!==(r=Tt(r,0,n.items.length-1))&&n.items.splice(r,0,n.items.splice(c,1)[0])}},SORT:function(r){var o=r.compare;wn(n,o),e("DID_SORT_ITEMS",{items:t("GET_ACTIVE_ITEMS")})},ADD_ITEMS:function(n){var r=n.items,o=n.index,c=n.interactionMethod,l=n.success,f=void 0===l?function(){}:l,d=n.failure,h=void 0===d?function(){}:d,v=o;if(-1===o||void 0===o){var _=t("GET_ITEM_INSERT_LOCATION"),m=t("GET_TOTAL_ITEMS");v="before"===_?0:m}var y=t("GET_IGNORED_FILES"),E=function(source){return ln(source)?!y.includes(source.name.toLowerCase()):!K(source)},w=r.filter(E).map((function(source){return new Promise((function(t,n){e("ADD_ITEM",{interactionMethod:c,source:source.source||source,success:t,failure:n,index:v++,options:source.options||{}})}))}));Promise.all(w).then(f).catch(h)},ADD_ITEM:function(r){var source=r.source,o=r.index,c=void 0===o?-1:o,l=r.interactionMethod,f=r.success,d=void 0===f?function(){}:f,h=r.failure,v=void 0===h?function(){}:h,_=r.options,m=void 0===_?{}:_;if(K(source))v({error:Yt("error",0,"No source"),file:null});else if(!ln(source)||!n.options.ignoredFiles.includes(source.name.toLowerCase())){if(!wt(n)){if(n.options.allowMultiple||!n.options.allowMultiple&&!n.options.allowReplace){var y=Yt("warning",0,"Max files");return e("DID_THROW_MAX_FILES",{source:source,error:y}),void v({error:y,file:null})}var E=ct(n.items)[0];if(E.status===We.PROCESSING_COMPLETE||E.status===We.PROCESSING_REVERT_ERROR){var w=t("GET_FORCE_REVERT");if(E.revert(rn(n.options.server.url,n.options.server.revert),w).then((function(){w&&e("ADD_ITEM",{source:source,index:c,interactionMethod:l,success:d,failure:v,options:m})})).catch((function(){})),w)return}e("REMOVE_ITEM",{query:E.id})}var T="local"===m.type?He.LOCAL:"limbo"===m.type?He.LIMBO:He.INPUT,I=dn(T,T===He.INPUT?null:source,m.file);Object.keys(m.metadata||{}).forEach((function(e){I.setMetadata(e,m.metadata[e])})),et("DID_CREATE_ITEM",I,{query:t,dispatch:e});var S=t("GET_ITEM_INSERT_LOCATION");n.options.itemInsertLocationFreedom||(c="before"===S?-1:n.items.length),St(n.items,I,c),ce(S)&&source&&wn(n,S);var O=I.id;I.on("init",(function(){e("DID_INIT_ITEM",{id:O})})),I.on("load-init",(function(){e("DID_START_ITEM_LOAD",{id:O})})),I.on("load-meta",(function(){e("DID_UPDATE_ITEM_META",{id:O})})),I.on("load-progress",(function(progress){e("DID_UPDATE_ITEM_LOAD_PROGRESS",{id:O,progress:progress})})),I.on("load-request-error",(function(t){var r=mn(n.options.labelFileLoadError)(t);if(t.code>=400&&t.code<500)return e("DID_THROW_ITEM_INVALID",{id:O,error:t,status:{main:r,sub:t.code+" ("+t.body+")"}}),void v({error:t,file:ze(I)});e("DID_THROW_ITEM_LOAD_ERROR",{id:O,error:t,status:{main:r,sub:n.options.labelTapToRetry}})})),I.on("load-file-error",(function(t){e("DID_THROW_ITEM_INVALID",{id:O,error:t.status,status:t.status}),v({error:t.status,file:ze(I)})})),I.on("load-abort",(function(){e("REMOVE_ITEM",{query:O})})),I.on("load-skip",(function(){e("COMPLETE_LOAD_ITEM",{query:O,item:I,data:{source:source,success:d}})})),I.on("load",(function(){var r=function(r){r?(I.on("metadata-update",(function(t){e("DID_UPDATE_ITEM_METADATA",{id:O,change:t})})),Je("SHOULD_PREPARE_OUTPUT",!1,{item:I,query:t}).then((function(r){var o=t("GET_BEFORE_PREPARE_FILE");o&&(r=o(I,r));var c=function(){e("COMPLETE_LOAD_ITEM",{query:O,item:I,data:{source:source,success:d}}),bn(e,n)};r?e("REQUEST_PREPARE_OUTPUT",{query:O,item:I,success:function(t){e("DID_PREPARE_OUTPUT",{id:O,file:t}),c()}},!0):c()}))):e("REMOVE_ITEM",{query:O})};Je("DID_LOAD_ITEM",I,{query:t,dispatch:e}).then((function(){En(t("GET_BEFORE_ADD_FILE"),ze(I)).then(r)})).catch((function(t){if(!t||!t.error||!t.status)return r(!1);e("DID_THROW_ITEM_INVALID",{id:O,error:t.error,status:t.status})}))})),I.on("process-start",(function(){e("DID_START_ITEM_PROCESSING",{id:O})})),I.on("process-progress",(function(progress){e("DID_UPDATE_ITEM_PROCESS_PROGRESS",{id:O,progress:progress})})),I.on("process-error",(function(t){e("DID_THROW_ITEM_PROCESSING_ERROR",{id:O,error:t,status:{main:mn(n.options.labelFileProcessingError)(t),sub:n.options.labelTapToRetry}})})),I.on("process-revert-error",(function(t){e("DID_THROW_ITEM_PROCESSING_REVERT_ERROR",{id:O,error:t,status:{main:mn(n.options.labelFileProcessingRevertError)(t),sub:n.options.labelTapToRetry}})})),I.on("process-complete",(function(t){e("DID_COMPLETE_ITEM_PROCESSING",{id:O,error:null,serverFileReference:t}),e("DID_DEFINE_VALUE",{id:O,value:t})})),I.on("process-abort",(function(){e("DID_ABORT_ITEM_PROCESSING",{id:O})})),I.on("process-revert",(function(){e("DID_REVERT_ITEM_PROCESSING",{id:O}),e("DID_DEFINE_VALUE",{id:O,value:null})})),e("DID_ADD_ITEM",{id:O,index:c,interactionMethod:l}),bn(e,n);var A=n.options.server||{},R=A.url,k=A.load,D=A.restore,P=A.fetch;I.load(source,Vt(T===He.INPUT?re(source)&&_n(source)&&P?Qt(R,P):gn:T===He.LIMBO?Qt(R,D):Qt(R,k)),(function(e,n,r){Je("LOAD_FILE",e,{query:t}).then(n).catch(r)}))}},REQUEST_PREPARE_OUTPUT:function(e){var n=e.item,r=e.success,o=e.failure,c=void 0===o?function(){}:o,l={error:Yt("error",0,"Item not found"),file:null};if(n.archived)return c(l);Je("PREPARE_OUTPUT",n.file,{query:t,item:n}).then((function(e){Je("COMPLETE_PREPARE_OUTPUT",e,{query:t,item:n}).then((function(e){if(n.archived)return c(l);r(e)}))}))},COMPLETE_LOAD_ITEM:function(r){var o=r.item,data=r.data,c=data.success,source=data.source,l=t("GET_ITEM_INSERT_LOCATION");if(ce(l)&&source&&wn(n,l),e("DID_LOAD_ITEM",{id:o.id,error:null,serverFileReference:o.origin===He.INPUT?null:source}),c(ze(o)),o.origin!==He.LOCAL)return o.origin===He.LIMBO?(e("DID_COMPLETE_ITEM_PROCESSING",{id:o.id,error:null,serverFileReference:source}),void e("DID_DEFINE_VALUE",{id:o.id,value:o.serverId||source})):void(t("IS_ASYNC")&&n.options.instantUpload&&e("REQUEST_ITEM_PROCESSING",{query:o.id}));e("DID_LOAD_LOCAL_ITEM",{id:o.id})},RETRY_ITEM_LOAD:Tn(n,(function(e){e.retryLoad()})),REQUEST_ITEM_PREPARE:Tn(n,(function(t,n,r){e("REQUEST_PREPARE_OUTPUT",{query:t.id,item:t,success:function(r){e("DID_PREPARE_OUTPUT",{id:t.id,file:r}),n({file:t,output:r})},failure:r},!0)})),REQUEST_ITEM_PROCESSING:Tn(n,(function(r,o,c){if(r.status===We.IDLE||r.status===We.PROCESSING_ERROR)r.status!==We.PROCESSING_QUEUED&&(r.requestProcessing(),e("DID_REQUEST_ITEM_PROCESSING",{id:r.id}),e("PROCESS_ITEM",{query:r,success:o,failure:c},!0));else{var l=function(){return e("REQUEST_ITEM_PROCESSING",{query:r,success:o,failure:c})},f=function(){return document.hidden?l():setTimeout(l,32)};r.status===We.PROCESSING_COMPLETE||r.status===We.PROCESSING_REVERT_ERROR?r.revert(rn(n.options.server.url,n.options.server.revert),t("GET_FORCE_REVERT")).then(f).catch((function(){})):r.status===We.PROCESSING&&r.abortProcessing().then(f)}})),PROCESS_ITEM:Tn(n,(function(r,o,c){var l=t("GET_MAX_PARALLEL_UPLOADS");if(t("GET_ITEMS_BY_STATUS",We.PROCESSING).length!==l){if(r.status!==We.PROCESSING){var f=function t(){var r=n.processingQueue.shift();if(r){var o=r.id,c=r.success,l=r.failure,f=st(n.items,o);f&&!f.archived?e("PROCESS_ITEM",{query:o,success:c,failure:l},!0):t()}};r.onOnce("process-complete",(function(){o(ze(r)),f();var c=n.options.server;if(n.options.instantUpload&&r.origin===He.LOCAL&&ce(c.remove)){var l=function(){};r.origin=He.LIMBO,n.options.server.remove(r.source,l,l)}t("GET_ITEMS_BY_STATUS",We.PROCESSING_COMPLETE).length===n.items.length&&e("DID_COMPLETE_ITEM_PROCESSING_ALL")})),r.onOnce("process-error",(function(e){c({error:e,file:ze(r)}),f()}));var d=n.options;r.process(sn(nn(d.server.url,d.server.process,d.name,{chunkTransferId:r.transferId,chunkServer:d.server.patch,chunkUploads:d.chunkUploads,chunkForce:d.chunkForce,chunkSize:d.chunkSize,chunkRetryDelays:d.chunkRetryDelays}),{allowMinimumUploadDuration:t("GET_ALLOW_MINIMUM_UPLOAD_DURATION")}),(function(n,o,c){Je("PREPARE_OUTPUT",n,{query:t,item:r}).then((function(t){e("DID_PREPARE_OUTPUT",{id:r.id,file:t}),o(t)})).catch(c)}))}}else n.processingQueue.push({id:r.id,success:o,failure:c})})),RETRY_ITEM_PROCESSING:Tn(n,(function(t){e("REQUEST_ITEM_PROCESSING",{query:t})})),REQUEST_REMOVE_ITEM:Tn(n,(function(n){En(t("GET_BEFORE_REMOVE_FILE"),ze(n)).then((function(t){t&&e("REMOVE_ITEM",{query:n})}))})),RELEASE_ITEM:Tn(n,(function(e){e.release()})),REMOVE_ITEM:Tn(n,(function(r,o,c,l){var f=function(){var t=r.id;hn(n.items,t).archive(),e("DID_REMOVE_ITEM",{error:null,id:t,item:r}),bn(e,n),o(ze(r))},d=n.options.server;r.origin===He.LOCAL&&d&&ce(d.remove)&&!1!==l.remove?(e("DID_START_ITEM_REMOVE",{id:r.id}),d.remove(r.source,(function(){return f()}),(function(t){e("DID_THROW_ITEM_REMOVE_ERROR",{id:r.id,error:Yt("error",0,t,null),status:{main:mn(n.options.labelFileRemoveError)(t),sub:n.options.labelTapToRetry}})}))):((l.revert&&r.origin!==He.LOCAL&&null!==r.serverId||n.options.chunkUploads&&r.file.size>n.options.chunkSize||n.options.chunkUploads&&n.options.chunkForce)&&r.revert(rn(n.options.server.url,n.options.server.revert),t("GET_FORCE_REVERT")),f())})),ABORT_ITEM_LOAD:Tn(n,(function(e){e.abortLoad()})),ABORT_ITEM_PROCESSING:Tn(n,(function(t){t.serverId?e("REVERT_ITEM_PROCESSING",{id:t.id}):t.abortProcessing().then((function(){n.options.instantUpload&&e("REMOVE_ITEM",{query:t.id})}))})),REQUEST_REVERT_ITEM_PROCESSING:Tn(n,(function(r){if(n.options.instantUpload){var o=function(t){t&&e("REVERT_ITEM_PROCESSING",{query:r})},c=t("GET_BEFORE_REMOVE_FILE");if(!c)return o(!0);var l=c(ze(r));return null==l?o(!0):"boolean"==typeof l?o(l):void("function"==typeof l.then&&l.then(o))}e("REVERT_ITEM_PROCESSING",{query:r})})),REVERT_ITEM_PROCESSING:Tn(n,(function(r){r.revert(rn(n.options.server.url,n.options.server.revert),t("GET_FORCE_REVERT")).then((function(){(n.options.instantUpload||yn(r))&&e("REMOVE_ITEM",{query:r.id})})).catch((function(){}))})),SET_OPTIONS:function(t){var n=t.options,r=Object.keys(n),o=Sn.filter((function(e){return r.includes(e)}));[].concat(xe(o),xe(Object.keys(n).filter((function(e){return!o.includes(e)})))).forEach((function(t){e("SET_"+Se(t,"_").toUpperCase(),{value:n[t]})}))}}},Sn=["server"],On=function(e){return e},An=function(e){return document.createElement(e)},text=function(e,t){var n=e.childNodes[0];n?t!==n.nodeValue&&(n.nodeValue=t):(n=document.createTextNode(t),e.appendChild(n))},Rn=function(e,t,n,r){var o=(r%360-90)*Math.PI/180;return{x:e+n*Math.cos(o),y:t+n*Math.sin(o)}},kn=function(e,t,n,r,o,c){var l=Rn(e,t,n,o),f=Rn(e,t,n,r);return["M",l.x,l.y,"A",n,n,0,c,0,f.x,f.y].join(" ")},Dn=function(e,t,n,r,o){var c=1;return o>r&&o-r<=.5&&(c=0),r>o&&r-o>=.5&&(c=0),kn(e,t,n,360*Math.min(.9999,r),360*Math.min(.9999,o),c)},Pn=V({tag:"div",name:"progress-indicator",ignoreRectUpdate:!0,ignoreRect:!0,create:function(e){var t=e.root,n=e.props;n.spin=!1,n.progress=0,n.opacity=0;var svg=v("svg");t.ref.path=v("path",{"stroke-width":2,"stroke-linecap":"round"}),svg.appendChild(t.ref.path),t.ref.svg=svg,t.appendChild(svg)},write:function(e){var t=e.root,n=e.props;if(0!==n.opacity){n.align&&(t.element.dataset.align=n.align);var r=parseInt(l(t.ref.path,"stroke-width"),10),o=.5*t.rect.element.width,c=0,f=0;n.spin?(c=0,f=.5):(c=0,f=n.progress);var d=Dn(o,o,o-r,c,f);l(t.ref.path,"d",d),l(t.ref.path,"stroke-opacity",n.spin||n.progress>0?1:0)}},mixins:{apis:["progress","spin","align"],styles:["opacity"],animations:{opacity:{type:"tween",duration:500},progress:{type:"spring",stiffness:.95,damping:.65,mass:10}}}}),Cn=V({tag:"button",attributes:{type:"button"},ignoreRect:!0,ignoreRectUpdate:!0,name:"file-action-button",mixins:{apis:["label"],styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}},listeners:!0},create:function(e){var t=e.root,n=e.props;t.element.innerHTML=(n.icon||"")+"<span>"+n.label+"</span>",n.isDisabled=!1},write:function(e){var t=e.root,n=e.props,r=n.isDisabled,o=t.query("GET_DISABLED")||0===n.opacity;o&&!r?(n.isDisabled=!0,l(t.element,"disabled","disabled")):!o&&r&&(n.isDisabled=!1,t.element.removeAttribute("disabled"))}}),Mn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".",base=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=n.labelBytes,o=void 0===r?"bytes":r,c=n.labelKilobytes,l=void 0===c?"KB":c,f=n.labelMegabytes,d=void 0===f?"MB":f,h=n.labelGigabytes,v=void 0===h?"GB":h,_=base,m=base*base,y=base*base*base;return(e=Math.round(Math.abs(e)))<_?e+" "+o:e<m?Math.floor(e/_)+" "+l:e<y?Ln(e/m,1,t)+" "+d:Ln(e/y,2,t)+" "+v},Ln=function(e,t,n){return e.toFixed(t).split(".").filter((function(e){return"0"!==e})).join(n)},xn=function(e){var t=e.root,n=e.props,r=An("span");r.className="filepond--file-info-main",l(r,"aria-hidden","true"),t.appendChild(r),t.ref.fileName=r;var o=An("span");o.className="filepond--file-info-sub",t.appendChild(o),t.ref.fileSize=o,text(o,t.query("GET_LABEL_FILE_WAITING_FOR_SIZE")),text(r,On(t.query("GET_ITEM_NAME",n.id)))},Nn=function(e){var t=e.root,n=e.props;text(t.ref.fileSize,Mn(t.query("GET_ITEM_SIZE",n.id),".",t.query("GET_FILE_SIZE_BASE"),t.query("GET_FILE_SIZE_LABELS",t.query))),text(t.ref.fileName,On(t.query("GET_ITEM_NAME",n.id)))},jn=function(e){var t=e.root,n=e.props;se(t.query("GET_ITEM_SIZE",n.id))?Nn({root:t,props:n}):text(t.ref.fileSize,t.query("GET_LABEL_FILE_SIZE_NOT_AVAILABLE"))},Fn=V({name:"file-info",ignoreRect:!0,ignoreRectUpdate:!0,write:H({DID_LOAD_ITEM:Nn,DID_UPDATE_ITEM_META:Nn,DID_THROW_ITEM_LOAD_ERROR:jn,DID_THROW_ITEM_INVALID:jn}),didCreateView:function(e){et("CREATE_VIEW",Object.assign({},e,{view:e}))},create:xn,mixins:{styles:["translateX","translateY"],animations:{translateX:"spring",translateY:"spring"}}}),Un=function(e){return Math.round(100*e)},Gn=function(e){var t=e.root,main=An("span");main.className="filepond--file-status-main",t.appendChild(main),t.ref.main=main;var sub=An("span");sub.className="filepond--file-status-sub",t.appendChild(sub),t.ref.sub=sub,Bn({root:t,action:{progress:null}})},Bn=function(e){var t=e.root,n=e.action,title=null===n.progress?t.query("GET_LABEL_FILE_LOADING"):t.query("GET_LABEL_FILE_LOADING")+" "+Un(n.progress)+"%";text(t.ref.main,title),text(t.ref.sub,t.query("GET_LABEL_TAP_TO_CANCEL"))},$n=function(e){var t=e.root;text(t.ref.main,""),text(t.ref.sub,"")},qn=function(e){var t=e.root,n=e.action;text(t.ref.main,n.status.main),text(t.ref.sub,n.status.sub)},zn=V({name:"file-status",ignoreRect:!0,ignoreRectUpdate:!0,write:H({DID_LOAD_ITEM:$n,DID_REVERT_ITEM_PROCESSING:$n,DID_REQUEST_ITEM_PROCESSING:function(e){var t=e.root;text(t.ref.main,t.query("GET_LABEL_FILE_PROCESSING")),text(t.ref.sub,t.query("GET_LABEL_TAP_TO_CANCEL"))},DID_ABORT_ITEM_PROCESSING:function(e){var t=e.root;text(t.ref.main,t.query("GET_LABEL_FILE_PROCESSING_ABORTED")),text(t.ref.sub,t.query("GET_LABEL_TAP_TO_RETRY"))},DID_COMPLETE_ITEM_PROCESSING:function(e){var t=e.root;text(t.ref.main,t.query("GET_LABEL_FILE_PROCESSING_COMPLETE")),text(t.ref.sub,t.query("GET_LABEL_TAP_TO_UNDO"))},DID_UPDATE_ITEM_PROCESS_PROGRESS:function(e){var t=e.root,n=e.action,title=null===n.progress?t.query("GET_LABEL_FILE_PROCESSING"):t.query("GET_LABEL_FILE_PROCESSING")+" "+Un(n.progress)+"%";text(t.ref.main,title),text(t.ref.sub,t.query("GET_LABEL_TAP_TO_CANCEL"))},DID_UPDATE_ITEM_LOAD_PROGRESS:Bn,DID_THROW_ITEM_LOAD_ERROR:qn,DID_THROW_ITEM_INVALID:qn,DID_THROW_ITEM_PROCESSING_ERROR:qn,DID_THROW_ITEM_PROCESSING_REVERT_ERROR:qn,DID_THROW_ITEM_REMOVE_ERROR:qn}),didCreateView:function(e){et("CREATE_VIEW",Object.assign({},e,{view:e}))},create:Gn,mixins:{styles:["translateX","translateY","opacity"],animations:{opacity:{type:"tween",duration:250},translateX:"spring",translateY:"spring"}}}),Vn={AbortItemLoad:{label:"GET_LABEL_BUTTON_ABORT_ITEM_LOAD",action:"ABORT_ITEM_LOAD",className:"filepond--action-abort-item-load",align:"LOAD_INDICATOR_POSITION"},RetryItemLoad:{label:"GET_LABEL_BUTTON_RETRY_ITEM_LOAD",action:"RETRY_ITEM_LOAD",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-load",align:"BUTTON_PROCESS_ITEM_POSITION"},RemoveItem:{label:"GET_LABEL_BUTTON_REMOVE_ITEM",action:"REQUEST_REMOVE_ITEM",icon:"GET_ICON_REMOVE",className:"filepond--action-remove-item",align:"BUTTON_REMOVE_ITEM_POSITION"},ProcessItem:{label:"GET_LABEL_BUTTON_PROCESS_ITEM",action:"REQUEST_ITEM_PROCESSING",icon:"GET_ICON_PROCESS",className:"filepond--action-process-item",align:"BUTTON_PROCESS_ITEM_POSITION"},AbortItemProcessing:{label:"GET_LABEL_BUTTON_ABORT_ITEM_PROCESSING",action:"ABORT_ITEM_PROCESSING",className:"filepond--action-abort-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RetryItemProcessing:{label:"GET_LABEL_BUTTON_RETRY_ITEM_PROCESSING",action:"RETRY_ITEM_PROCESSING",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RevertItemProcessing:{label:"GET_LABEL_BUTTON_UNDO_ITEM_PROCESSING",action:"REQUEST_REVERT_ITEM_PROCESSING",icon:"GET_ICON_UNDO",className:"filepond--action-revert-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"}},Wn=[];o(Vn,(function(e){Wn.push(e)}));var Hn,Yn=function(e){if("right"===Qn(e))return 0;var t=e.ref.buttonRemoveItem.rect.element;return t.hidden?null:t.width+t.left},Xn=function(e){return e.ref.buttonAbortItemLoad.rect.element.width},Zn=function(e){return Math.floor(e.ref.buttonRemoveItem.rect.element.height/4)},Kn=function(e){return Math.floor(e.ref.buttonRemoveItem.rect.element.left/2)},Qn=function(e){return e.query("GET_STYLE_BUTTON_REMOVE_ITEM_POSITION")},Jn={buttonAbortItemLoad:{opacity:0},buttonRetryItemLoad:{opacity:0},buttonRemoveItem:{opacity:0},buttonProcessItem:{opacity:0},buttonAbortItemProcessing:{opacity:0},buttonRetryItemProcessing:{opacity:0},buttonRevertItemProcessing:{opacity:0},loadProgressIndicator:{opacity:0,align:function(e){return e.query("GET_STYLE_LOAD_INDICATOR_POSITION")}},processProgressIndicator:{opacity:0,align:function(e){return e.query("GET_STYLE_PROGRESS_INDICATOR_POSITION")}},processingCompleteIndicator:{opacity:0,scaleX:.75,scaleY:.75},info:{translateX:0,translateY:0,opacity:0},status:{translateX:0,translateY:0,opacity:0}},er={buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:Yn},status:{translateX:Yn}},nr={buttonAbortItemProcessing:{opacity:1},processProgressIndicator:{opacity:1},status:{opacity:1}},rr={DID_THROW_ITEM_INVALID:{buttonRemoveItem:{opacity:1},info:{translateX:Yn},status:{translateX:Yn,opacity:1}},DID_START_ITEM_LOAD:{buttonAbortItemLoad:{opacity:1},loadProgressIndicator:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_LOAD_ERROR:{buttonRetryItemLoad:{opacity:1},buttonRemoveItem:{opacity:1},info:{translateX:Yn},status:{opacity:1}},DID_START_ITEM_REMOVE:{processProgressIndicator:{opacity:1,align:Qn},info:{translateX:Yn},status:{opacity:0}},DID_THROW_ITEM_REMOVE_ERROR:{processProgressIndicator:{opacity:0,align:Qn},buttonRemoveItem:{opacity:1},info:{translateX:Yn},status:{opacity:1,translateX:Yn}},DID_LOAD_ITEM:er,DID_LOAD_LOCAL_ITEM:{buttonRemoveItem:{opacity:1},info:{translateX:Yn},status:{translateX:Yn}},DID_START_ITEM_PROCESSING:nr,DID_REQUEST_ITEM_PROCESSING:nr,DID_UPDATE_ITEM_PROCESS_PROGRESS:nr,DID_COMPLETE_ITEM_PROCESSING:{buttonRevertItemProcessing:{opacity:1},info:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_PROCESSING_ERROR:{buttonRemoveItem:{opacity:1},buttonRetryItemProcessing:{opacity:1},status:{opacity:1},info:{translateX:Yn}},DID_THROW_ITEM_PROCESSING_REVERT_ERROR:{buttonRevertItemProcessing:{opacity:1},status:{opacity:1},info:{opacity:1}},DID_ABORT_ITEM_PROCESSING:{buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:Yn},status:{opacity:1}},DID_REVERT_ITEM_PROCESSING:er},ir=V({create:function(e){var t=e.root;t.element.innerHTML=t.query("GET_ICON_DONE")},name:"processing-complete-indicator",ignoreRect:!0,mixins:{styles:["scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",opacity:{type:"tween",duration:250}}}}),or=function(e){var t,n=e.root,r=e.props,c=Object.keys(Vn).reduce((function(e,t){return e[t]=Object.assign({},Vn[t]),e}),{}),l=r.id,f=n.query("GET_ALLOW_REVERT"),d=n.query("GET_ALLOW_REMOVE"),h=n.query("GET_ALLOW_PROCESS"),v=n.query("GET_INSTANT_UPLOAD"),_=n.query("IS_ASYNC"),m=n.query("GET_STYLE_BUTTON_REMOVE_ITEM_ALIGN");_?h&&!f?t=function(e){return!/RevertItemProcessing/.test(e)}:!h&&f?t=function(e){return!/ProcessItem|RetryItemProcessing|AbortItemProcessing/.test(e)}:h||f||(t=function(e){return!/Process/.test(e)}):t=function(e){return!/Process/.test(e)};var y=t?Wn.filter(t):Wn.concat();if(v&&f&&(c.RevertItemProcessing.label="GET_LABEL_BUTTON_REMOVE_ITEM",c.RevertItemProcessing.icon="GET_ICON_REMOVE"),_&&!f){var map=rr.DID_COMPLETE_ITEM_PROCESSING;map.info.translateX=Kn,map.info.translateY=Zn,map.status.translateY=Zn,map.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}if(_&&!h&&(["DID_START_ITEM_PROCESSING","DID_REQUEST_ITEM_PROCESSING","DID_UPDATE_ITEM_PROCESS_PROGRESS","DID_THROW_ITEM_PROCESSING_ERROR"].forEach((function(e){rr[e].status.translateY=Zn})),rr.DID_THROW_ITEM_PROCESSING_ERROR.status.translateX=Xn),m&&f){c.RevertItemProcessing.align="BUTTON_REMOVE_ITEM_POSITION";var E=rr.DID_COMPLETE_ITEM_PROCESSING;E.info.translateX=Yn,E.status.translateY=Zn,E.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}d||(c.RemoveItem.disabled=!0),o(c,(function(e,t){var r=n.createChildView(Cn,{label:n.query(t.label),icon:n.query(t.icon),opacity:0});y.includes(e)&&n.appendChildView(r),t.disabled&&(r.element.setAttribute("disabled","disabled"),r.element.setAttribute("hidden","hidden")),r.element.dataset.align=n.query("GET_STYLE_"+t.align),r.element.classList.add(t.className),r.on("click",(function(e){e.stopPropagation(),t.disabled||n.dispatch(t.action,{query:l})})),n.ref["button"+e]=r})),n.ref.processingCompleteIndicator=n.appendChildView(n.createChildView(ir)),n.ref.processingCompleteIndicator.element.dataset.align=n.query("GET_STYLE_BUTTON_PROCESS_ITEM_POSITION"),n.ref.info=n.appendChildView(n.createChildView(Fn,{id:l})),n.ref.status=n.appendChildView(n.createChildView(zn,{id:l}));var w=n.appendChildView(n.createChildView(Pn,{opacity:0,align:n.query("GET_STYLE_LOAD_INDICATOR_POSITION")}));w.element.classList.add("filepond--load-indicator"),n.ref.loadProgressIndicator=w;var T=n.appendChildView(n.createChildView(Pn,{opacity:0,align:n.query("GET_STYLE_PROGRESS_INDICATOR_POSITION")}));T.element.classList.add("filepond--process-indicator"),n.ref.processProgressIndicator=T,n.ref.activeStyles=[]},ar=function(e){var t=e.root,n=e.actions,r=e.props;sr({root:t,actions:n,props:r});var c=n.concat().filter((function(e){return/^DID_/.test(e.type)})).reverse().find((function(e){return rr[e.type]}));if(c){t.ref.activeStyles=[];var l=rr[c.type];o(Jn,(function(e,n){var r=t.ref[e];o(n,(function(n,o){var c=l[e]&&void 0!==l[e][n]?l[e][n]:o;t.ref.activeStyles.push({control:r,key:n,value:c})}))}))}t.ref.activeStyles.forEach((function(e){var n=e.control,r=e.key,o=e.value;n[r]="function"==typeof o?o(t):o}))},sr=H({DID_SET_LABEL_BUTTON_ABORT_ITEM_PROCESSING:function(e){var t=e.root,n=e.action;t.ref.buttonAbortItemProcessing.label=n.value},DID_SET_LABEL_BUTTON_ABORT_ITEM_LOAD:function(e){var t=e.root,n=e.action;t.ref.buttonAbortItemLoad.label=n.value},DID_SET_LABEL_BUTTON_ABORT_ITEM_REMOVAL:function(e){var t=e.root,n=e.action;t.ref.buttonAbortItemRemoval.label=n.value},DID_REQUEST_ITEM_PROCESSING:function(e){var t=e.root;t.ref.processProgressIndicator.spin=!0,t.ref.processProgressIndicator.progress=0},DID_START_ITEM_LOAD:function(e){var t=e.root;t.ref.loadProgressIndicator.spin=!0,t.ref.loadProgressIndicator.progress=0},DID_START_ITEM_REMOVE:function(e){var t=e.root;t.ref.processProgressIndicator.spin=!0,t.ref.processProgressIndicator.progress=0},DID_UPDATE_ITEM_LOAD_PROGRESS:function(e){var t=e.root,n=e.action;t.ref.loadProgressIndicator.spin=!1,t.ref.loadProgressIndicator.progress=n.progress},DID_UPDATE_ITEM_PROCESS_PROGRESS:function(e){var t=e.root,n=e.action;t.ref.processProgressIndicator.spin=!1,t.ref.processProgressIndicator.progress=n.progress}}),ur=V({create:or,write:ar,didCreateView:function(e){et("CREATE_VIEW",Object.assign({},e,{view:e}))},name:"file"}),cr=V({create:function(e){var t=e.root,n=e.props;t.ref.fileName=An("legend"),t.appendChild(t.ref.fileName),t.ref.file=t.appendChildView(t.createChildView(ur,{id:n.id})),t.ref.data=!1},ignoreRect:!0,write:H({DID_LOAD_ITEM:function(e){var t=e.root,n=e.props;text(t.ref.fileName,On(t.query("GET_ITEM_NAME",n.id)))}}),didCreateView:function(e){et("CREATE_VIEW",Object.assign({},e,{view:e}))},tag:"fieldset",name:"file-wrapper"}),lr={type:"spring",damping:.6,mass:7},fr=function(e){var t=e.root,n=e.props;[{name:"top"},{name:"center",props:{translateY:null,scaleY:null},mixins:{animations:{scaleY:lr},styles:["translateY","scaleY"]}},{name:"bottom",props:{translateY:null},mixins:{animations:{translateY:lr},styles:["translateY"]}}].forEach((function(section){dr(t,section,n.name)})),t.element.classList.add("filepond--"+n.name),t.ref.scalable=null},dr=function(e,section,t){var n=V({name:"panel-"+section.name+" filepond--"+t,mixins:section.mixins,ignoreRectUpdate:!0}),view=e.createChildView(n,section.props);e.ref[section.name]=e.appendChildView(view)},pr=V({name:"panel",read:function(e){var t=e.root;return e.props.heightCurrent=t.ref.bottom.translateY},write:function(e){var t=e.root,n=e.props;if(null!==t.ref.scalable&&n.scalable===t.ref.scalable||(t.ref.scalable=!te(n.scalable)||n.scalable,t.element.dataset.scalable=t.ref.scalable),n.height){var r=t.ref.top.rect.element,o=t.ref.bottom.rect.element,c=Math.max(r.height+o.height,n.height);t.ref.center.translateY=r.height,t.ref.center.scaleY=(c-r.height-o.height)/100,t.ref.bottom.translateY=c-o.height}},create:fr,ignoreRect:!0,mixins:{apis:["height","heightCurrent","scalable"]}}),gr=function(e){var t=e.map((function(e){return e.id})),n=void 0;return{setIndex:function(e){n=e},getIndex:function(){return n},getItemIndex:function(e){return t.indexOf(e.id)}}},vr={type:"spring",stiffness:.75,damping:.45,mass:10},_r="spring",mr={DID_START_ITEM_LOAD:"busy",DID_UPDATE_ITEM_LOAD_PROGRESS:"loading",DID_THROW_ITEM_INVALID:"load-invalid",DID_THROW_ITEM_LOAD_ERROR:"load-error",DID_LOAD_ITEM:"idle",DID_THROW_ITEM_REMOVE_ERROR:"remove-error",DID_START_ITEM_REMOVE:"busy",DID_START_ITEM_PROCESSING:"busy processing",DID_REQUEST_ITEM_PROCESSING:"busy processing",DID_UPDATE_ITEM_PROCESS_PROGRESS:"processing",DID_COMPLETE_ITEM_PROCESSING:"processing-complete",DID_THROW_ITEM_PROCESSING_ERROR:"processing-error",DID_THROW_ITEM_PROCESSING_REVERT_ERROR:"processing-revert-error",DID_ABORT_ITEM_PROCESSING:"cancelled",DID_REVERT_ITEM_PROCESSING:"idle"},yr=function(e){var t=e.root,n=e.props;if(t.ref.handleClick=function(e){return t.dispatch("DID_ACTIVATE_ITEM",{id:n.id})},t.element.id="filepond--item-"+n.id,t.element.addEventListener("click",t.ref.handleClick),t.ref.container=t.appendChildView(t.createChildView(cr,{id:n.id})),t.ref.panel=t.appendChildView(t.createChildView(pr,{name:"item-panel"})),t.ref.panel.height=null,n.markedForRemoval=!1,t.query("GET_ALLOW_REORDER")){t.element.dataset.dragState="idle";var r=function(e){if(e.isPrimary){var r=!1,o={x:e.pageX,y:e.pageY};n.dragOrigin={x:t.translateX,y:t.translateY},n.dragCenter={x:e.offsetX,y:e.offsetY};var c=gr(t.query("GET_ACTIVE_ITEMS"));t.dispatch("DID_GRAB_ITEM",{id:n.id,dragState:c});var l=function(e){e.isPrimary&&(e.stopPropagation(),e.preventDefault(),n.dragOffset={x:e.pageX-o.x,y:e.pageY-o.y},n.dragOffset.x*n.dragOffset.x+n.dragOffset.y*n.dragOffset.y>16&&!r&&(r=!0,t.element.removeEventListener("click",t.ref.handleClick)),t.dispatch("DID_DRAG_ITEM",{id:n.id,dragState:c}))},f=function e(f){f.isPrimary&&(document.removeEventListener("pointermove",l),document.removeEventListener("pointerup",e),n.dragOffset={x:f.pageX-o.x,y:f.pageY-o.y},t.dispatch("DID_DROP_ITEM",{id:n.id,dragState:c}),r&&setTimeout((function(){return t.element.addEventListener("click",t.ref.handleClick)}),0))};document.addEventListener("pointermove",l),document.addEventListener("pointerup",f)}};t.element.addEventListener("pointerdown",r)}},Er=H({DID_UPDATE_PANEL_HEIGHT:function(e){var t=e.root,n=e.action;t.height=n.height}}),wr=H({DID_GRAB_ITEM:function(e){var t=e.root;e.props.dragOrigin={x:t.translateX,y:t.translateY}},DID_DRAG_ITEM:function(e){e.root.element.dataset.dragState="drag"},DID_DROP_ITEM:function(e){var t=e.root,n=e.props;n.dragOffset=null,n.dragOrigin=null,t.element.dataset.dragState="drop"}},(function(e){var t=e.root,n=e.actions,r=e.props,o=e.shouldOptimize;"drop"===t.element.dataset.dragState&&t.scaleX<=1&&(t.element.dataset.dragState="idle");var c=n.concat().filter((function(e){return/^DID_/.test(e.type)})).reverse().find((function(e){return mr[e.type]}));c&&c.type!==r.currentState&&(r.currentState=c.type,t.element.dataset.filepondItemState=mr[r.currentState]||"");var l=t.query("GET_ITEM_PANEL_ASPECT_RATIO")||t.query("GET_PANEL_ASPECT_RATIO");l?o||(t.height=t.rect.element.width*l):(Er({root:t,actions:n,props:r}),!t.height&&t.ref.container.rect.element.height>0&&(t.height=t.ref.container.rect.element.height)),o&&(t.ref.panel.height=null),t.ref.panel.height=t.height})),Tr=V({create:yr,write:wr,destroy:function(e){var t=e.root,n=e.props;t.element.removeEventListener("click",t.ref.handleClick),t.dispatch("RELEASE_ITEM",{query:n.id})},tag:"li",name:"item",mixins:{apis:["id","interactionMethod","markedForRemoval","spawnDate","dragCenter","dragOrigin","dragOffset"],styles:["translateX","translateY","scaleX","scaleY","opacity","height"],animations:{scaleX:_r,scaleY:_r,translateX:vr,translateY:vr,opacity:{type:"tween",duration:150}}}}),Ir=function(e,t){return Math.max(1,Math.floor((e+1)/t))},Sr=function(view,e,t){if(t){var n=view.rect.element.width,r=e.length,o=null;if(0===r||t.top<e[0].rect.element.top)return-1;var c=e[0].rect.element,l=c.marginLeft+c.marginRight,f=c.width+l,d=Ir(n,f);if(1===d){for(var h=0;h<r;h++){var v=e[h],_=v.rect.outer.top+.5*v.rect.element.height;if(t.top<_)return h}return r}for(var m=c.marginTop+c.marginBottom,y=c.height+m,E=0;E<r;E++){var w=E%d*f,T=Math.floor(E/d)*y,I=T-c.marginTop,S=w+f,O=T+y+c.marginBottom;if(t.top<O&&t.top>I){if(t.left<S)return E;o=E!==r-1?E:null}}return null!==o?o:r}},Or={height:0,width:0,get getHeight(){return this.height},set setHeight(e){0!==this.height&&0!==e||(this.height=e)},get getWidth(){return this.width},set setWidth(e){0!==this.width&&0!==e||(this.width=e)},setDimensions:function(e,t){0!==this.height&&0!==e||(this.height=e),0!==this.width&&0!==t||(this.width=t)}},Ar=function(e){var t=e.root;l(t.element,"role","list"),t.ref.lastItemSpanwDate=Date.now()},Rr=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;e.dragOffset?(e.translateX=null,e.translateY=null,e.translateX=e.dragOrigin.x+e.dragOffset.x,e.translateY=e.dragOrigin.y+e.dragOffset.y,e.scaleX=1.025,e.scaleY=1.025):(e.translateX=t,e.translateY=n,Date.now()>e.spawnDate&&(0===e.opacity&&kr(e,t,n,r,o),e.scaleX=1,e.scaleY=1,e.opacity=1))},kr=function(e,t,n,r,o){e.interactionMethod===ke.NONE?(e.translateX=null,e.translateX=t,e.translateY=null,e.translateY=n):e.interactionMethod===ke.DROP?(e.translateX=null,e.translateX=t-20*r,e.translateY=null,e.translateY=n-10*o,e.scaleX=.8,e.scaleY=.8):e.interactionMethod===ke.BROWSE?(e.translateY=null,e.translateY=n-30):e.interactionMethod===ke.API&&(e.translateX=null,e.translateX=t-30,e.translateY=null)},Dr=function(e){return e.rect.element.height+.5*e.rect.element.marginBottom+.5*e.rect.element.marginTop},Pr=function(e){return e.rect.element.width+.5*e.rect.element.marginLeft+.5*e.rect.element.marginRight},Cr=H({DID_ADD_ITEM:function(e){var t=e.root,n=e.action,r=n.id,o=n.index,c=n.interactionMethod;t.ref.addIndex=o;var l=Date.now(),f=l,d=1;if(c!==ke.NONE){d=0;var h=t.query("GET_ITEM_INSERT_INTERVAL"),v=l-t.ref.lastItemSpanwDate;f=v<h?l+(h-v):l}t.ref.lastItemSpanwDate=f,t.appendChildView(t.createChildView(Tr,{spawnDate:f,id:r,opacity:d,interactionMethod:c}),o)},DID_REMOVE_ITEM:function(e){var t=e.root,n=e.action.id,view=t.childViews.find((function(e){return e.id===n}));view&&(view.scaleX=.9,view.scaleY=.9,view.opacity=0,view.markedForRemoval=!0)},DID_DRAG_ITEM:function(e){var t=e.root,n=e.action,r=n.id,o=n.dragState,c=t.query("GET_ITEM",{id:r}),view=t.childViews.find((function(e){return e.id===r})),l=t.childViews.length,f=o.getItemIndex(c);if(view){var d={x:view.dragOrigin.x+view.dragOffset.x+view.dragCenter.x,y:view.dragOrigin.y+view.dragOffset.y+view.dragCenter.y},h=Dr(view),v=Pr(view),_=Math.floor(t.rect.outer.width/v);_>l&&(_=l);var m=Math.floor(l/_+1);Or.setHeight=h*m,Or.setWidth=v*_;var y={y:Math.floor(d.y/h),x:Math.floor(d.x/v),getGridIndex:function(){return d.y>Or.getHeight||d.y<0||d.x>Or.getWidth||d.x<0?f:this.y*_+this.x},getColIndex:function(){for(var e=t.query("GET_ACTIVE_ITEMS"),n=t.childViews.filter((function(e){return e.rect.element.height})),r=e.map((function(e){return n.find((function(t){return t.id===e.id}))})),o=r.findIndex((function(e){return e===view})),c=Dr(view),l=r.length,f=l,h=0,v=0,i=0;i<l;i++)if(h=(v=h)+Dr(r[i]),d.y<h){if(o>i){if(d.y<v+c){f=i;break}continue}f=i;break}return f}},E=_>1?y.getGridIndex():y.getColIndex();t.dispatch("MOVE_ITEM",{query:view,index:E});var w=o.getIndex();if(void 0===w||w!==E){if(o.setIndex(E),void 0===w)return;t.dispatch("DID_REORDER_ITEMS",{items:t.query("GET_ACTIVE_ITEMS"),origin:f,target:E})}}}}),Mr=V({create:Ar,write:function(e){var t=e.root,n=e.props,r=e.actions,o=e.shouldOptimize;Cr({root:t,props:n,actions:r});var c=n.dragCoordinates,l=t.rect.element.width,f=t.childViews.filter((function(e){return e.rect.element.height})),d=t.query("GET_ACTIVE_ITEMS").map((function(e){return f.find((function(t){return t.id===e.id}))})).filter((function(e){return e})),h=c?Sr(t,d,c):null,v=t.ref.addIndex||null;t.ref.addIndex=null;var _=0,m=0,y=0;if(0!==d.length){var E=d[0].rect.element,w=E.marginTop+E.marginBottom,T=E.marginLeft+E.marginRight,I=E.width+T,S=E.height+w,O=Ir(l,I);if(1===O){var A=0,R=0;d.forEach((function(e,t){if(h){var n=t-h;R=-2===n?.25*-w:-1===n?.75*-w:0===n?.75*w:1===n?.25*w:0}o&&(e.translateX=null,e.translateY=null),e.markedForRemoval||Rr(e,0,A+R);var r=(e.rect.element.height+w)*(e.markedForRemoval?e.opacity:1);A+=r}))}else{var k=0,D=0;d.forEach((function(e,t){t===h&&(_=1),t===v&&(y+=1),e.markedForRemoval&&e.opacity<.5&&(m-=1);var n=t+y+_+m,r=n%O,c=Math.floor(n/O),l=r*I,f=c*S,d=Math.sign(l-k),E=Math.sign(f-D);k=l,D=f,e.markedForRemoval||(o&&(e.translateX=null,e.translateY=null),Rr(e,l,f,d,E))}))}}},tag:"ul",name:"list",didWriteView:function(e){var t=e.root;t.childViews.filter((function(view){return view.markedForRemoval&&0===view.opacity&&view.resting})).forEach((function(view){view._destroy(),t.removeChildView(view)}))},filterFrameActionsForChild:function(e,t){return t.filter((function(t){return!t.data||!t.data.id||e.id===t.data.id}))},mixins:{apis:["dragCoordinates"]}}),Lr=function(e){var t=e.root,n=e.props;t.ref.list=t.appendChildView(t.createChildView(Mr)),n.dragCoordinates=null,n.overflowing=!1},xr=H({DID_DRAG:function(e){var t=e.root,n=e.props,r=e.action;t.query("GET_ITEM_INSERT_LOCATION_FREEDOM")&&(n.dragCoordinates={left:r.position.scopeLeft-t.ref.list.rect.element.left,top:r.position.scopeTop-(t.rect.outer.top+t.rect.element.marginTop+t.rect.element.scrollTop)})},DID_END_DRAG:function(e){e.props.dragCoordinates=null}}),Nr=V({create:Lr,write:function(e){var t=e.root,n=e.props,r=e.actions;if(xr({root:t,props:n,actions:r}),t.ref.list.dragCoordinates=n.dragCoordinates,n.overflowing&&!n.overflow&&(n.overflowing=!1,t.element.dataset.state="",t.height=null),n.overflow){var o=Math.round(n.overflow);o!==t.height&&(n.overflowing=!0,t.element.dataset.state="overflow",t.height=o)}},name:"list-scroller",mixins:{apis:["overflow","dragCoordinates"],styles:["height","translateY"],animations:{translateY:"spring"}}}),jr=function(element,e,t){t?l(element,e,arguments.length>3&&void 0!==arguments[3]?arguments[3]:""):element.removeAttribute(e)},Fr=function(input){if(input&&""!==input.value){try{input.value=""}catch(e){}if(input.value){var form=An("form"),e=input.parentNode,t=input.nextSibling;form.appendChild(input),form.reset(),t?e.insertBefore(input,t):e.appendChild(input)}}},Ur=function(e){var t=e.root,n=e.props;t.element.id="filepond--browser-"+n.id,l(t.element,"name",t.query("GET_NAME")),l(t.element,"aria-controls","filepond--assistant-"+n.id),l(t.element,"aria-labelledby","filepond--drop-label-"+n.id),Gr({root:t,action:{value:t.query("GET_ACCEPTED_FILE_TYPES")}}),Br({root:t,action:{value:t.query("GET_ALLOW_MULTIPLE")}}),$r({root:t,action:{value:t.query("GET_ALLOW_DIRECTORIES_ONLY")}}),qr({root:t}),zr({root:t,action:{value:t.query("GET_REQUIRED")}}),Vr({root:t,action:{value:t.query("GET_CAPTURE_METHOD")}}),t.ref.handleChange=function(e){if(t.element.value){var r=Array.from(t.element.files).map((function(e){return e._relativePath=e.webkitRelativePath,e}));setTimeout((function(){n.onload(r),Fr(t.element)}),250)}},t.element.addEventListener("change",t.ref.handleChange)},Gr=function(e){var t=e.root,n=e.action;t.query("GET_ALLOW_SYNC_ACCEPT_ATTRIBUTE")&&jr(t.element,"accept",!!n.value,n.value?n.value.join(","):"")},Br=function(e){var t=e.root,n=e.action;jr(t.element,"multiple",n.value)},$r=function(e){var t=e.root,n=e.action;jr(t.element,"webkitdirectory",n.value)},qr=function(e){var t=e.root,n=t.query("GET_DISABLED"),r=t.query("GET_ALLOW_BROWSE"),o=n||!r;jr(t.element,"disabled",o)},zr=function(e){var t=e.root;e.action.value?0===t.query("GET_TOTAL_ITEMS")&&jr(t.element,"required",!0):jr(t.element,"required",!1)},Vr=function(e){var t=e.root,n=e.action;jr(t.element,"capture",!!n.value,!0===n.value?"":n.value)},Wr=function(e){var t=e.root,element=t.element;t.query("GET_TOTAL_ITEMS")>0?(jr(element,"required",!1),jr(element,"name",!1)):(jr(element,"name",!0,t.query("GET_NAME")),t.query("GET_CHECK_VALIDITY")&&element.setCustomValidity(""),t.query("GET_REQUIRED")&&jr(element,"required",!0))},Hr=V({tag:"input",name:"browser",ignoreRect:!0,ignoreRectUpdate:!0,attributes:{type:"file"},create:Ur,destroy:function(e){var t=e.root;t.element.removeEventListener("change",t.ref.handleChange)},write:H({DID_LOAD_ITEM:Wr,DID_REMOVE_ITEM:Wr,DID_THROW_ITEM_INVALID:function(e){var t=e.root;t.query("GET_CHECK_VALIDITY")&&t.element.setCustomValidity(t.query("GET_LABEL_INVALID_FIELD"))},DID_SET_DISABLED:qr,DID_SET_ALLOW_BROWSE:qr,DID_SET_ALLOW_DIRECTORIES_ONLY:$r,DID_SET_ALLOW_MULTIPLE:Br,DID_SET_ACCEPTED_FILE_TYPES:Gr,DID_SET_CAPTURE_METHOD:Vr,DID_SET_REQUIRED:zr})}),Yr={ENTER:13,SPACE:32},Xr=function(e){var t=e.root,n=e.props,label=An("label");l(label,"for","filepond--browser-"+n.id),l(label,"id","filepond--drop-label-"+n.id),l(label,"aria-hidden","true"),t.ref.handleKeyDown=function(e){(e.keyCode===Yr.ENTER||e.keyCode===Yr.SPACE)&&(e.preventDefault(),t.ref.label.click())},t.ref.handleClick=function(e){e.target===label||label.contains(e.target)||t.ref.label.click()},label.addEventListener("keydown",t.ref.handleKeyDown),t.element.addEventListener("click",t.ref.handleClick),Zr(label,n.caption),t.appendChild(label),t.ref.label=label},Zr=function(label,e){label.innerHTML=e;var t=label.querySelector(".filepond--label-action");return t&&l(t,"tabindex","0"),e},Kr=V({name:"drop-label",ignoreRect:!0,create:Xr,destroy:function(e){var t=e.root;t.ref.label.addEventListener("keydown",t.ref.handleKeyDown),t.element.removeEventListener("click",t.ref.handleClick)},write:H({DID_SET_LABEL_IDLE:function(e){var t=e.root,n=e.action;Zr(t.ref.label,n.value)}}),mixins:{styles:["opacity","translateX","translateY"],animations:{opacity:{type:"tween",duration:150},translateX:"spring",translateY:"spring"}}}),Qr=V({name:"drip-blob",ignoreRect:!0,mixins:{styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}}}}),Jr=function(e){var t=e.root,n=.5*t.rect.element.width,r=.5*t.rect.element.height;t.ref.blob=t.appendChildView(t.createChildView(Qr,{opacity:0,scaleX:2.5,scaleY:2.5,translateX:n,translateY:r}))},ei=function(e){var t=e.root,n=e.props,r=e.actions;ti({root:t,props:n,actions:r});var o=t.ref.blob;0===r.length&&o&&0===o.opacity&&(t.removeChildView(o),t.ref.blob=null)},ti=H({DID_DRAG:function(e){var t=e.root,n=e.action;t.ref.blob?(t.ref.blob.translateX=n.position.scopeLeft,t.ref.blob.translateY=n.position.scopeTop,t.ref.blob.scaleX=1,t.ref.blob.scaleY=1,t.ref.blob.opacity=1):Jr({root:t})},DID_DROP:function(e){var t=e.root;t.ref.blob&&(t.ref.blob.scaleX=2.5,t.ref.blob.scaleY=2.5,t.ref.blob.opacity=0)},DID_END_DRAG:function(e){var t=e.root;t.ref.blob&&(t.ref.blob.opacity=0)}}),ni=V({ignoreRect:!0,ignoreRectUpdate:!0,name:"drip",write:ei}),ri=function(element,e){try{var t=new DataTransfer;e.forEach((function(e){e instanceof File?t.items.add(e):t.items.add(new File([e],e.name,{type:e.type}))})),element.files=t.files}catch(e){return!1}return!0},ii=function(e){return e.root.ref.fields={}},oi=function(e,t){return e.ref.fields[t]},ai=function(e){e.query("GET_ACTIVE_ITEMS").forEach((function(t){e.ref.fields[t.id]&&e.element.appendChild(e.ref.fields[t.id])}))},si=function(e){var t=e.root;return ai(t)},ui=H({DID_SET_DISABLED:function(e){var t=e.root;t.element.disabled=t.query("GET_DISABLED")},DID_ADD_ITEM:function(e){var t=e.root,n=e.action,r=!(t.query("GET_ITEM",n.id).origin===He.LOCAL)&&t.query("SHOULD_UPDATE_FILE_INPUT"),o=An("input");o.type=r?"file":"hidden",o.name=t.query("GET_NAME"),o.disabled=t.query("GET_DISABLED"),t.ref.fields[n.id]=o,ai(t)},DID_LOAD_ITEM:function(e){var t=e.root,n=e.action,r=oi(t,n.id);if(r&&(null!==n.serverFileReference&&(r.value=n.serverFileReference),t.query("SHOULD_UPDATE_FILE_INPUT"))){var o=t.query("GET_ITEM",n.id);ri(r,[o.file])}},DID_REMOVE_ITEM:function(e){var t=e.root,n=e.action,r=oi(t,n.id);r&&(r.parentNode&&r.parentNode.removeChild(r),delete t.ref.fields[n.id])},DID_DEFINE_VALUE:function(e){var t=e.root,n=e.action,r=oi(t,n.id);r&&(null===n.value?r.removeAttribute("value"):"file"!=r.type&&(r.value=n.value),ai(t))},DID_PREPARE_OUTPUT:function(e){var t=e.root,n=e.action;t.query("SHOULD_UPDATE_FILE_INPUT")&&setTimeout((function(){var e=oi(t,n.id);e&&ri(e,[n.file])}),0)},DID_REORDER_ITEMS:si,DID_SORT_ITEMS:si}),data=V({tag:"fieldset",name:"data",create:ii,write:ui,ignoreRect:!0}),ci=function(element){return"getRootNode"in element?element.getRootNode():document},fi=["jpg","jpeg","png","gif","bmp","webp","svg","tiff"],di=["css","csv","html","txt"],map={zip:"zip|compressed",epub:"application/epub+zip"},pi=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e=e.toLowerCase(),fi.includes(e)?"image/"+("jpg"===e?"jpeg":"svg"===e?"svg+xml":e):di.includes(e)?"text/"+e:map[e]||""},hi=function(e){return new Promise((function(t,n){var r=Ii(e);if(r.length&&!gi(e))return t(r);vi(e).then(t)}))},gi=function(e){return!!e.files&&e.files.length>0},vi=function(e){return new Promise((function(t,n){var r=(e.items?Array.from(e.items):[]).filter((function(e){return _i(e)})).map((function(e){return mi(e)}));r.length?Promise.all(r).then((function(e){var n=[];e.forEach((function(e){n.push.apply(n,e)})),t(n.filter((function(e){return e})).map((function(e){return e._relativePath||(e._relativePath=e.webkitRelativePath),e})))})).catch(console.error):t(e.files?Array.from(e.files):[])}))},_i=function(e){if(wi(e)){var t=Ti(e);if(t)return t.isFile||t.isDirectory}return"file"===e.kind},mi=function(e){return new Promise((function(t,n){Ei(e)?yi(Ti(e)).then(t).catch(n):t([e.getAsFile()])}))},yi=function(e){return new Promise((function(t,n){var r=[],o=0,c=0,l=function(){0===c&&0===o&&t(r)},f=function e(t){o++;var f=t.createReader(),d=function t(){f.readEntries((function(n){if(0===n.length)return o--,void l();n.forEach((function(t){t.isDirectory?e(t):(c++,t.file((function(e){var n=bi(e);t.fullPath&&(n._relativePath=t.fullPath),r.push(n),c--,l()})))})),t()}),n)};d()};f(e)}))},bi=function(e){if(e.type.length)return e;var t=e.lastModifiedDate,n=e.name,r=pi(Rt(e.name));return r.length?((e=e.slice(0,e.size,r)).name=n,e.lastModifiedDate=t,e):e},Ei=function(e){return wi(e)&&(Ti(e)||{}).isDirectory},wi=function(e){return"webkitGetAsEntry"in e},Ti=function(e){return e.webkitGetAsEntry()},Ii=function(e){var t=[];try{if((t=Oi(e)).length)return t;t=Si(e)}catch(e){}return t},Si=function(e){var data=e.getData("url");return"string"==typeof data&&data.length?[data]:[]},Oi=function(e){var data=e.getData("text/html");if("string"==typeof data&&data.length){var t=data.match(/src\s*=\s*"(.+?)"/);if(t)return[t[1]]}return[]},Ai=[],Ri=function(e){return{pageLeft:e.pageX,pageTop:e.pageY,scopeLeft:e.offsetX||e.layerX,scopeTop:e.offsetY||e.layerY}},ki=function(element,e,t){var n=Di(e),r={element:element,filterElement:t,state:null,ondrop:function(){},onenter:function(){},ondrag:function(){},onexit:function(){},onload:function(){},allowdrop:function(){}};return r.destroy=n.addListener(r),r},Di=function(element){var e=Ai.find((function(e){return e.element===element}));if(e)return e;var t=Pi(element);return Ai.push(t),t},Pi=function(element){var e=[],t={dragenter:Ni,dragover:ji,dragleave:Ui,drop:Fi},n={};o(t,(function(t,r){n[t]=r(element,e),element.addEventListener(t,n[t],!1)}));var r={element:element,addListener:function(c){return e.push(c),function(){e.splice(e.indexOf(c),1),0===e.length&&(Ai.splice(Ai.indexOf(r),1),o(t,(function(e){element.removeEventListener(e,n[e],!1)})))}}};return r},Ci=function(e,t){return"elementFromPoint"in e||(e=document),e.elementFromPoint(t.x,t.y)},Mi=function(e,t){var n=ci(t),r=Ci(n,{x:e.pageX-window.pageXOffset,y:e.pageY-window.pageYOffset});return r===t||t.contains(r)},Li=null,xi=function(e,t){try{e.dropEffect=t}catch(e){}},Ni=function(e,t){return function(e){e.preventDefault(),Li=e.target,t.forEach((function(t){var element=t.element,n=t.onenter;Mi(e,element)&&(t.state="enter",n(Ri(e)))}))}},ji=function(e,t){return function(e){e.preventDefault();var n=e.dataTransfer;hi(n).then((function(r){var o=!1;t.some((function(t){var c=t.filterElement,element=t.element,l=t.onenter,f=t.onexit,d=t.ondrag,h=t.allowdrop;xi(n,"copy");var v=h(r);if(v)if(Mi(e,element)){if(o=!0,null===t.state)return t.state="enter",void l(Ri(e));if(t.state="over",c&&!v)return void xi(n,"none");d(Ri(e))}else c&&!o&&xi(n,"none"),t.state&&(t.state=null,f(Ri(e)));else xi(n,"none")}))}))}},Fi=function(e,t){return function(e){e.preventDefault();var n=e.dataTransfer;hi(n).then((function(n){t.forEach((function(t){var r=t.filterElement,element=t.element,o=t.ondrop,c=t.onexit,l=t.allowdrop;if(t.state=null,!r||Mi(e,element))return l(n)?void o(Ri(e),n):c(Ri(e))}))}))}},Ui=function(e,t){return function(e){Li===e.target&&t.forEach((function(t){var n=t.onexit;t.state=null,n(Ri(e))}))}},Gi=function(e,t,n){e.classList.add("filepond--hopper");var r=n.catchesDropsOnPage,o=n.requiresDropOnElement,c=n.filterItems,l=void 0===c?function(e){return e}:c,f=ki(e,r?document.documentElement:e,o),d="",h="";f.allowdrop=function(e){return t(l(e))},f.ondrop=function(e,n){var r=l(n);t(r)?(h="drag-drop",v.onload(r,e)):v.ondragend(e)},f.ondrag=function(e){v.ondrag(e)},f.onenter=function(e){h="drag-over",v.ondragstart(e)},f.onexit=function(e){h="drag-exit",v.ondragend(e)};var v={updateHopperState:function(){d!==h&&(e.dataset.hopperState=h,d=h)},onload:function(){},ondragstart:function(){},ondrag:function(){},ondragend:function(){},destroy:function(){f.destroy()}};return v},Bi=!1,$i=[],qi=function(e){var t=document.activeElement;if(t&&/textarea|input/i.test(t.nodeName)){for(var n=!1,element=t;element!==document.body;){if(element.classList.contains("filepond--root")){n=!0;break}element=element.parentNode}if(!n)return}hi(e.clipboardData).then((function(e){e.length&&$i.forEach((function(t){return t(e)}))}))},zi=function(e){$i.includes(e)||($i.push(e),Bi||(Bi=!0,document.addEventListener("paste",qi)))},Vi=function(e){Ue($i,$i.indexOf(e)),0===$i.length&&(document.removeEventListener("paste",qi),Bi=!1)},Wi=function(){var e=function(e){t.onload(e)},t={destroy:function(){Vi(e)},onload:function(){}};return zi(e),t},Hi=null,Yi=null,Xi=[],Zi=function(e,t){e.element.textContent=t},Ki=function(e){e.element.textContent=""},Qi=function(e,t,label){var n=e.query("GET_TOTAL_ITEMS");Zi(e,label+" "+t+", "+n+" "+(1===n?e.query("GET_LABEL_FILE_COUNT_SINGULAR"):e.query("GET_LABEL_FILE_COUNT_PLURAL"))),clearTimeout(Yi),Yi=setTimeout((function(){Ki(e)}),1500)},Ji=function(e){return e.element.parentNode.contains(document.activeElement)},eo=function(e){var t=e.root,n=e.action,r=t.query("GET_ITEM",n.id).filename,label=t.query("GET_LABEL_FILE_PROCESSING_ABORTED");Zi(t,r+" "+label)},to=function(e){var t=e.root,n=e.action,r=t.query("GET_ITEM",n.id).filename;Zi(t,n.status.main+" "+r+" "+n.status.sub)},no=V({create:function(e){var t=e.root,n=e.props;t.element.id="filepond--assistant-"+n.id,l(t.element,"role","status"),l(t.element,"aria-live","polite"),l(t.element,"aria-relevant","additions")},ignoreRect:!0,ignoreRectUpdate:!0,write:H({DID_LOAD_ITEM:function(e){var t=e.root,n=e.action;if(Ji(t)){t.element.textContent="";var r=t.query("GET_ITEM",n.id);Xi.push(r.filename),clearTimeout(Hi),Hi=setTimeout((function(){Qi(t,Xi.join(", "),t.query("GET_LABEL_FILE_ADDED")),Xi.length=0}),750)}},DID_REMOVE_ITEM:function(e){var t=e.root,n=e.action;if(Ji(t)){var r=n.item;Qi(t,r.filename,t.query("GET_LABEL_FILE_REMOVED"))}},DID_COMPLETE_ITEM_PROCESSING:function(e){var t=e.root,n=e.action,r=t.query("GET_ITEM",n.id).filename,label=t.query("GET_LABEL_FILE_PROCESSING_COMPLETE");Zi(t,r+" "+label)},DID_ABORT_ITEM_PROCESSING:eo,DID_REVERT_ITEM_PROCESSING:eo,DID_THROW_ITEM_REMOVE_ERROR:to,DID_THROW_ITEM_LOAD_ERROR:to,DID_THROW_ITEM_INVALID:to,DID_THROW_ITEM_PROCESSING_ERROR:to}),tag:"span",name:"assistant"}),ro=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";return e.replace(new RegExp(t+".","g"),(function(sub){return sub.charAt(1).toUpperCase()}))},io=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=Date.now(),o=null;return function(){for(var c=arguments.length,l=new Array(c),f=0;f<c;f++)l[f]=arguments[f];clearTimeout(o);var d=Date.now()-r,h=function(){r=Date.now(),e.apply(void 0,l)};d<t?n||(o=setTimeout(h,t-d)):h()}},oo=1e6,ao=function(e){return e.preventDefault()},so=function(e){var t=e.root,n=e.props,r=t.query("GET_ID");r&&(t.element.id=r);var o=t.query("GET_CLASS_NAME");o&&o.split(" ").filter((function(e){return e.length})).forEach((function(e){t.element.classList.add(e)})),t.ref.label=t.appendChildView(t.createChildView(Kr,Object.assign({},n,{translateY:null,caption:t.query("GET_LABEL_IDLE")}))),t.ref.list=t.appendChildView(t.createChildView(Nr,{translateY:null})),t.ref.panel=t.appendChildView(t.createChildView(pr,{name:"panel-root"})),t.ref.assistant=t.appendChildView(t.createChildView(no,Object.assign({},n))),t.ref.data=t.appendChildView(t.createChildView(data,Object.assign({},n))),t.ref.measure=An("div"),t.ref.measure.style.height="100%",t.element.appendChild(t.ref.measure),t.ref.bounds=null,t.query("GET_STYLES").filter((function(style){return!K(style.value)})).map((function(e){var n=e.name,r=e.value;t.element.dataset[n]=r})),t.ref.widthPrevious=null,t.ref.widthUpdated=io((function(){t.ref.updateHistory=[],t.dispatch("DID_RESIZE_ROOT")}),250),t.ref.previousAspectRatio=null,t.ref.updateHistory=[];var c=window.matchMedia("(pointer: fine) and (hover: hover)").matches,l="PointerEvent"in window;t.query("GET_ALLOW_REORDER")&&l&&!c&&(t.element.addEventListener("touchmove",ao,{passive:!1}),t.element.addEventListener("gesturestart",ao));var f=t.query("GET_CREDITS");if(2===f.length){var d=document.createElement("a");d.className="filepond--credits",d.setAttribute("aria-hidden","true"),d.href=f[0],d.tabindex=-1,d.target="_blank",d.rel="noopener noreferrer",d.textContent=f[1],t.element.appendChild(d),t.ref.credits=d}},uo=function(e){var t=e.root,n=e.props,r=e.actions;if(mo({root:t,props:n,actions:r}),r.filter((function(e){return/^DID_SET_STYLE_/.test(e.type)})).filter((function(e){return!K(e.data.value)})).map((function(e){var n=e.type,data=e.data,r=ro(n.substring(8).toLowerCase(),"_");t.element.dataset[r]=data.value,t.invalidateLayout()})),!t.rect.element.hidden){t.rect.element.width!==t.ref.widthPrevious&&(t.ref.widthPrevious=t.rect.element.width,t.ref.widthUpdated());var o=t.ref.bounds;o||(o=t.ref.bounds=fo(t),t.element.removeChild(t.ref.measure),t.ref.measure=null);var c=t.ref,l=c.hopper,label=c.label,f=c.list,d=c.panel;l&&l.updateHopperState();var h=t.query("GET_PANEL_ASPECT_RATIO"),v=t.query("GET_ALLOW_MULTIPLE"),_=t.query("GET_TOTAL_ITEMS"),m=_===(v?t.query("GET_MAX_FILES")||oo:1),y=r.find((function(e){return"DID_ADD_ITEM"===e.type}));if(m&&y){var E=y.data.interactionMethod;label.opacity=0,v?label.translateY=-40:E===ke.API?label.translateX=40:E===ke.BROWSE?label.translateY=40:label.translateY=30}else m||(label.opacity=1,label.translateX=0,label.translateY=0);var w=co(t),T=lo(t),I=label.rect.element.height,S=!v||m?0:I,O=m?f.rect.element.marginTop:0,A=0===_?0:f.rect.element.marginBottom,R=S+O+T.visual+A,k=S+O+T.bounds+A;if(f.translateY=Math.max(0,S-f.rect.element.marginTop)-w.top,h){var D=t.rect.element.width,P=D*h;h!==t.ref.previousAspectRatio&&(t.ref.previousAspectRatio=h,t.ref.updateHistory=[]);var C=t.ref.updateHistory;C.push(D);var M=2;if(C.length>2*M)for(var L=C.length,x=L-10,N=0,i=L;i>=x;i--)if(C[i]===C[i-2]&&N++,N>=M)return;d.scalable=!1,d.height=P;var j=P-S-(A-w.bottom)-(m?O:0);T.visual>j?f.overflow=j:f.overflow=null,t.height=P}else if(o.fixedHeight){d.scalable=!1;var F=o.fixedHeight-S-(A-w.bottom)-(m?O:0);T.visual>F?f.overflow=F:f.overflow=null}else if(o.cappedHeight){var U=R>=o.cappedHeight,G=Math.min(o.cappedHeight,R);d.scalable=!0,d.height=U?G:G-w.top-w.bottom;var B=G-S-(A-w.bottom)-(m?O:0);R>o.cappedHeight&&T.visual>B?f.overflow=B:f.overflow=null,t.height=Math.min(o.cappedHeight,k-w.top-w.bottom)}else{var $=_>0?w.top+w.bottom:0;d.scalable=!0,d.height=Math.max(I,R-$),t.height=Math.max(I,k-$)}t.ref.credits&&d.heightCurrent&&(t.ref.credits.style.transform="translateY("+d.heightCurrent+"px)")}},co=function(e){var t=e.ref.list.childViews[0].childViews[0];return t?{top:t.rect.element.marginTop,bottom:t.rect.element.marginBottom}:{top:0,bottom:0}},lo=function(e){var t=0,n=0,r=e.ref.list,o=r.childViews[0],c=o.childViews.filter((function(e){return e.rect.element.height})),l=e.query("GET_ACTIVE_ITEMS").map((function(e){return c.find((function(t){return t.id===e.id}))})).filter((function(e){return e}));if(0===l.length)return{visual:t,bounds:n};var f=o.rect.element.width,d=Sr(o,l,r.dragCoordinates),h=l[0].rect.element,v=h.marginTop+h.marginBottom,_=h.marginLeft+h.marginRight,m=h.width+_,y=h.height+v,E=void 0!==d&&d>=0?1:0,w=l.find((function(e){return e.markedForRemoval&&e.opacity<.45}))?-1:0,T=l.length+E+w,I=Ir(f,m);return 1===I?l.forEach((function(e){var r=e.rect.element.height+v;n+=r,t+=r*e.opacity})):(n=Math.ceil(T/I)*y,t=n),{visual:t,bounds:n}},fo=function(e){var t=e.ref.measureHeight||null;return{cappedHeight:parseInt(e.style.maxHeight,10)||null,fixedHeight:0===t?null:t}},po=function(e,t){var n=e.query("GET_ALLOW_REPLACE"),r=e.query("GET_ALLOW_MULTIPLE"),o=e.query("GET_TOTAL_ITEMS"),c=e.query("GET_MAX_FILES"),l=t.length;return!r&&l>1?(e.dispatch("DID_THROW_MAX_FILES",{source:t,error:Yt("warning",0,"Max files")}),!0):!(!r&&n||!(se(c=r?c:1)&&o+l>c)||(e.dispatch("DID_THROW_MAX_FILES",{source:t,error:Yt("warning",0,"Max files")}),0))},ho=function(e,t,n){var r=e.childViews[0];return Sr(r,t,{left:n.scopeLeft-r.rect.element.left,top:n.scopeTop-(e.rect.outer.top+e.rect.element.marginTop+e.rect.element.scrollTop)})},go=function(e){var t=e.query("GET_ALLOW_DROP"),n=e.query("GET_DISABLED"),r=t&&!n;if(r&&!e.ref.hopper){var o=Gi(e.element,(function(t){var n=e.query("GET_BEFORE_DROP_FILE")||function(){return!0};return!e.query("GET_DROP_VALIDATION")||t.every((function(t){return et("ALLOW_HOPPER_ITEM",t,{query:e.query}).every((function(e){return!0===e}))&&n(t)}))}),{filterItems:function(t){var n=e.query("GET_IGNORED_FILES");return t.filter((function(e){return!ln(e)||!n.includes(e.name.toLowerCase())}))},catchesDropsOnPage:e.query("GET_DROP_ON_PAGE"),requiresDropOnElement:e.query("GET_DROP_ON_ELEMENT")});o.onload=function(t,n){var r=e.ref.list.childViews[0].childViews.filter((function(e){return e.rect.element.height})),o=e.query("GET_ACTIVE_ITEMS").map((function(e){return r.find((function(t){return t.id===e.id}))})).filter((function(e){return e}));Je("ADD_ITEMS",t,{dispatch:e.dispatch}).then((function(t){if(po(e,t))return!1;e.dispatch("ADD_ITEMS",{items:t,index:ho(e.ref.list,o,n),interactionMethod:ke.DROP})})),e.dispatch("DID_DROP",{position:n}),e.dispatch("DID_END_DRAG",{position:n})},o.ondragstart=function(t){e.dispatch("DID_START_DRAG",{position:t})},o.ondrag=io((function(t){e.dispatch("DID_DRAG",{position:t})})),o.ondragend=function(t){e.dispatch("DID_END_DRAG",{position:t})},e.ref.hopper=o,e.ref.drip=e.appendChildView(e.createChildView(ni))}else!r&&e.ref.hopper&&(e.ref.hopper.destroy(),e.ref.hopper=null,e.removeChildView(e.ref.drip))},vo=function(e,t){var n=e.query("GET_ALLOW_BROWSE"),r=e.query("GET_DISABLED"),o=n&&!r;o&&!e.ref.browser?e.ref.browser=e.appendChildView(e.createChildView(Hr,Object.assign({},t,{onload:function(t){Je("ADD_ITEMS",t,{dispatch:e.dispatch}).then((function(t){if(po(e,t))return!1;e.dispatch("ADD_ITEMS",{items:t,index:-1,interactionMethod:ke.BROWSE})}))}})),0):!o&&e.ref.browser&&(e.removeChildView(e.ref.browser),e.ref.browser=null)},_o=function(e){var t=e.query("GET_ALLOW_PASTE"),n=e.query("GET_DISABLED"),r=t&&!n;r&&!e.ref.paster?(e.ref.paster=Wi(),e.ref.paster.onload=function(t){Je("ADD_ITEMS",t,{dispatch:e.dispatch}).then((function(t){if(po(e,t))return!1;e.dispatch("ADD_ITEMS",{items:t,index:-1,interactionMethod:ke.PASTE})}))}):!r&&e.ref.paster&&(e.ref.paster.destroy(),e.ref.paster=null)},mo=H({DID_SET_ALLOW_BROWSE:function(e){var t=e.root,n=e.props;vo(t,n)},DID_SET_ALLOW_DROP:function(e){var t=e.root;go(t)},DID_SET_ALLOW_PASTE:function(e){var t=e.root;_o(t)},DID_SET_DISABLED:function(e){var t=e.root,n=e.props;go(t),_o(t),vo(t,n),t.query("GET_DISABLED")?t.element.dataset.disabled="disabled":t.element.removeAttribute("data-disabled")}}),yo=V({name:"root",read:function(e){var t=e.root;t.ref.measure&&(t.ref.measureHeight=t.ref.measure.offsetHeight)},create:so,write:uo,destroy:function(e){var t=e.root;t.ref.paster&&t.ref.paster.destroy(),t.ref.hopper&&t.ref.hopper.destroy(),t.element.removeEventListener("touchmove",ao),t.element.removeEventListener("gesturestart",ao)},mixins:{styles:["height"]}}),bo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=null,r=it(),o=n(Ie(r),[Et,Re(r)],[In,Ae(r)]);o.dispatch("SET_OPTIONS",{options:e});var l=function(){document.hidden||o.dispatch("KICK")};document.addEventListener("visibilitychange",l);var f=null,d=!1,h=!1,v=null,_=null,m=function(){d||(d=!0),clearTimeout(f),f=setTimeout((function(){d=!1,v=null,_=null,h&&(h=!1,o.dispatch("DID_STOP_RESIZE"))}),500)};window.addEventListener("resize",m);var view=yo(o,{id:De()}),y=!1,E=!1,w={_read:function(){d&&(_=window.innerWidth,v||(v=_),h||_===v||(o.dispatch("DID_START_RESIZE"),h=!0)),E&&y&&(y=null===view.element.offsetParent),y||(view._read(),E=view.rect.element.hidden)},_write:function(e){var t=o.processActionQueue().filter((function(e){return!/^SET_/.test(e.type)}));y&&!t.length||(O(t),y=view._write(e,t,h),Ve(o.query("GET_ITEMS")),y&&o.processDispatchQueue())}},T=function(e){return function(data){var t={type:e};if(!data)return t;if(data.hasOwnProperty("error")&&(t.error=data.error?Object.assign({},data.error):null),data.status&&(t.status=Object.assign({},data.status)),data.file&&(t.output=data.file),data.source)t.file=data.source;else if(data.item||data.id){var n=data.item?data.item:o.query("GET_ITEM",data.id);t.file=n?ze(n):null}return data.items&&(t.items=data.items.map(ze)),/progress/.test(e)&&(t.progress=data.progress),data.hasOwnProperty("origin")&&data.hasOwnProperty("target")&&(t.origin=data.origin,t.target=data.target),t}},I={DID_DESTROY:T("destroy"),DID_INIT:T("init"),DID_THROW_MAX_FILES:T("warning"),DID_INIT_ITEM:T("initfile"),DID_START_ITEM_LOAD:T("addfilestart"),DID_UPDATE_ITEM_LOAD_PROGRESS:T("addfileprogress"),DID_LOAD_ITEM:T("addfile"),DID_THROW_ITEM_INVALID:[T("error"),T("addfile")],DID_THROW_ITEM_LOAD_ERROR:[T("error"),T("addfile")],DID_THROW_ITEM_REMOVE_ERROR:[T("error"),T("removefile")],DID_PREPARE_OUTPUT:T("preparefile"),DID_START_ITEM_PROCESSING:T("processfilestart"),DID_UPDATE_ITEM_PROCESS_PROGRESS:T("processfileprogress"),DID_ABORT_ITEM_PROCESSING:T("processfileabort"),DID_COMPLETE_ITEM_PROCESSING:T("processfile"),DID_COMPLETE_ITEM_PROCESSING_ALL:T("processfiles"),DID_REVERT_ITEM_PROCESSING:T("processfilerevert"),DID_THROW_ITEM_PROCESSING_ERROR:[T("error"),T("processfile")],DID_REMOVE_ITEM:T("removefile"),DID_UPDATE_ITEMS:T("updatefiles"),DID_ACTIVATE_ITEM:T("activatefile"),DID_REORDER_ITEMS:T("reorderfiles")},S=function(e){var t=Object.assign({pond:G},e);delete t.type,view.element.dispatchEvent(new CustomEvent("FilePond:"+e.type,{detail:t,bubbles:!0,cancelable:!0,composed:!0}));var n=[];e.hasOwnProperty("error")&&n.push(e.error),e.hasOwnProperty("file")&&n.push(e.file);var r=["type","error","file"];Object.keys(e).filter((function(e){return!r.includes(e)})).forEach((function(t){return n.push(e[t])})),G.fire.apply(G,[e.type].concat(n));var c=o.query("GET_ON"+e.type.toUpperCase());c&&c.apply(void 0,n)},O=function(e){e.length&&e.filter((function(e){return I[e.type]})).forEach((function(e){var t=I[e.type];(Array.isArray(t)?t:[t]).forEach((function(t){"DID_INIT_ITEM"===e.type?S(t(e.data)):setTimeout((function(){S(t(e.data))}),0)}))}))},R=function(e){return o.dispatch("SET_OPTIONS",{options:e})},k=function(e){return o.query("GET_ACTIVE_ITEM",e)},D=function(e){return new Promise((function(t,n){o.dispatch("REQUEST_ITEM_PREPARE",{query:e,success:function(e){t(e)},failure:function(e){n(e)}})}))},P=function(source){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(t,n){L([{source:source,options:e}],{index:e.index}).then((function(e){return t(e&&e[0])})).catch(n)}))},C=function(e){return e.file&&e.id},M=function(e,t){return"object"!=typeof e||C(e)||t||(t=e,e=void 0),o.dispatch("REMOVE_ITEM",Object.assign({},t,{query:e})),null===o.query("GET_ACTIVE_ITEM",e)},L=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Promise((function(e,n){var r=[],c={};if(Z(t[0]))r.push.apply(r,t[0]),Object.assign(c,t[1]||{});else{var l=t[t.length-1];"object"!=typeof l||l instanceof Blob||Object.assign(c,t.pop()),r.push.apply(r,t)}o.dispatch("ADD_ITEMS",{items:r,index:c.index,interactionMethod:ke.API,success:e,failure:n})}))},x=function(){return o.query("GET_ACTIVE_ITEMS")},N=function(e){return new Promise((function(t,n){o.dispatch("REQUEST_ITEM_PROCESSING",{query:e,success:function(e){t(e)},failure:function(e){n(e)}})}))},j=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=Array.isArray(t[0])?t[0]:t,o=r.length?r:x();return Promise.all(o.map(D))},F=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=Array.isArray(t[0])?t[0]:t;if(!r.length){var o=x().filter((function(e){return!(e.status===We.IDLE&&e.origin===He.LOCAL)&&e.status!==We.PROCESSING&&e.status!==We.PROCESSING_COMPLETE&&e.status!==We.PROCESSING_REVERT_ERROR}));return Promise.all(o.map(N))}return Promise.all(r.map(N))},U=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,o=Array.isArray(t[0])?t[0]:t;"object"==typeof o[o.length-1]?r=o.pop():Array.isArray(t[0])&&(r=t[1]);var c=x();return o.length?o.map((function(e){return A(e)?c[e]?c[e].id:null:e})).filter((function(e){return e})).map((function(q){return M(q,r)})):Promise.all(c.map((function(e){return M(e,r)})))},G=Object.assign({},Be(),{},w,{},Oe(o,r),{setOptions:R,addFile:P,addFiles:L,getFile:k,processFile:N,prepareFile:D,removeFile:M,moveFile:function(e,t){return o.dispatch("MOVE_ITEM",{query:e,index:t})},getFiles:x,processFiles:F,removeFiles:U,prepareFiles:j,sort:function(e){return o.dispatch("SORT",{compare:e})},browse:function(){var input=view.element.querySelector("input[type=file]");input&&input.click()},destroy:function(){G.fire("destroy",view.element),o.dispatch("ABORT_ALL"),view._destroy(),window.removeEventListener("resize",m),document.removeEventListener("visibilitychange",l),o.dispatch("DID_DESTROY")},insertBefore:function(element){return Y(view.element,element)},insertAfter:function(element){return X(view.element,element)},appendTo:function(element){return element.appendChild(view.element)},replaceElement:function(element){Y(view.element,element),element.parentNode.removeChild(element),t=element},restoreElement:function(){t&&(X(t,view.element),view.element.parentNode.removeChild(view.element),t=null)},isAttachedTo:function(element){return view.element===element||t===element},element:{get:function(){return view.element}},status:{get:function(){return o.query("GET_STATUS")}}});return o.dispatch("DID_INIT"),c(G)},Eo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};return o(it(),(function(e,n){t[e]=n[0]})),bo(Object.assign({},t,{},e))},wo=function(e){return e.charAt(0).toLowerCase()+e.slice(1)},To=function(e){return ro(e.replace(/^data-/,""))},Io=function e(object,t){o(t,(function(t,n){o(object,(function(e,r){var o=new RegExp(t);if(o.test(e)&&(delete object[e],!1!==n))if(re(n))object[n]=r;else{var c=n.group;ge(n)&&!object[c]&&(object[c]={}),object[c][wo(e.replace(o,""))]=r}})),n.mapping&&e(object[n.group],n.mapping)}))},So=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[];o(e.attributes,(function(t){n.push(e.attributes[t])}));var output=n.filter((function(e){return e.name})).reduce((function(t,n){var r=l(e,n.name);return t[To(n.name)]=r===n.name||r,t}),{});return Io(output,t),output},Oo=function(element){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t={"^class$":"className","^multiple$":"allowMultiple","^capture$":"captureMethod","^webkitdirectory$":"allowDirectoriesOnly","^server":{group:"server",mapping:{"^process":{group:"process"},"^revert":{group:"revert"},"^fetch":{group:"fetch"},"^restore":{group:"restore"},"^load":{group:"load"}}},"^type$":!1,"^files$":!1};et("SET_ATTRIBUTE_TO_OPTION_MAP",t);var n=Object.assign({},e),r=So("FIELDSET"===element.nodeName?element.querySelector("input[type=file]"):element,t);Object.keys(r).forEach((function(e){ge(r[e])?(ge(n[e])||(n[e]={}),Object.assign(n[e],r[e])):n[e]=r[e]})),n.files=(e.files||[]).concat(Array.from(element.querySelectorAll("input:not([type=file])")).map((function(input){return{source:input.value,options:{type:input.dataset.type}}})));var o=Eo(n);return element.files&&Array.from(element.files).forEach((function(e){o.addFile(e)})),o.replaceElement(element),o},Ao=function(){return t(arguments.length<=0?void 0:arguments[0])?Oo.apply(void 0,arguments):Eo.apply(void 0,arguments)},Ro=["fire","_read","_write"],ko=function(e){var t={};return $e(e,t,Ro),t},Do=function(e,t){return e.replace(/(?:{([a-zA-Z]+)})/g,(function(e,n){return t[n]}))},Po=function(e){var t=new Blob(["(",e.toString(),")()"],{type:"application/javascript"}),n=URL.createObjectURL(t),r=new Worker(n);return{transfer:function(e,t){},post:function(e,t,n){var o=De();r.onmessage=function(e){e.data.id===o&&t(e.data.message)},r.postMessage({id:o,message:e},n)},terminate:function(){r.terminate(),URL.revokeObjectURL(n)}}},Co=function(e){return new Promise((function(t,n){var img=new Image;img.onload=function(){t(img)},img.onerror=function(e){n(e)},img.src=e}))},Mo=function(e,t){var n=e.slice(0,e.size,e.type);return n.lastModifiedDate=e.lastModifiedDate,n.name=t,n},Lo=function(e){return Mo(e,e.name)},xo=[],No=function(e){if(!xo.includes(e)){xo.push(e);var t=e({addFilter:tt,utils:{Type:Ke,forin:o,isString:re,isFile:ln,toNaturalFileSize:Mn,replaceInString:Do,getExtensionFromFilename:Rt,getFilenameWithoutExtension:un,guesstimateMimeType:pi,getFileFromBlob:Ct,getFilenameFromURL:At,createRoute:H,createWorker:Po,createView:V,createItemAPI:ze,loadImage:Co,copyFile:Lo,renameFile:Mo,createBlob:Lt,applyFilterChain:Je,text:text,getNumericAspectRatioFromString:ut},views:{fileActionButton:Cn}});nt(t.options)}},jo=function(){return"[object OperaMini]"===Object.prototype.toString.call(window.operamini)},Fo=function(){return"Promise"in window},Uo=function(){return"slice"in Blob.prototype},Go=function(){return"URL"in window&&"createObjectURL"in window.URL},Bo=function(){return"visibilityState"in document},$o=function(){return"performance"in window},qo=function(){return"supports"in(window.CSS||{})},zo=function(){return/MSIE|Trident/.test(window.navigator.userAgent)},Vo=(Hn=w()&&!jo()&&Bo()&&Fo()&&Uo()&&Go()&&$o()&&(qo()||zo()),function(){return Hn}),Wo={apps:[]},Ho="filepond",Yo=function(){};if(e.Status={},e.FileStatus={},e.FileOrigin={},e.OptionTypes={},e.create=Yo,e.destroy=Yo,e.parse=Yo,e.find=Yo,e.registerPlugin=Yo,e.getOptions=Yo,e.setOptions=Yo,Vo()){W((function(){Wo.apps.forEach((function(e){return e._read()}))}),(function(e){Wo.apps.forEach((function(t){return t._write(e)}))}));var Xo=function t(){document.dispatchEvent(new CustomEvent("FilePond:loaded",{detail:{supported:Vo,create:e.create,destroy:e.destroy,parse:e.parse,find:e.find,registerPlugin:e.registerPlugin,setOptions:e.setOptions}})),document.removeEventListener("DOMContentLoaded",t)};"loading"!==document.readyState?setTimeout((function(){return Xo()}),0):document.addEventListener("DOMContentLoaded",Xo);var Zo=function(){return o(it(),(function(t,n){e.OptionTypes[t]=n[1]}))};e.Status=Object.assign({},lt),e.FileOrigin=Object.assign({},He),e.FileStatus=Object.assign({},We),e.OptionTypes={},Zo(),e.create=function(){var t=Ao.apply(void 0,arguments);return t.on("destroy",e.destroy),Wo.apps.push(t),ko(t)},e.destroy=function(e){var t=Wo.apps.findIndex((function(t){return t.isAttachedTo(e)}));return t>=0&&(Wo.apps.splice(t,1)[0].restoreElement(),!0)},e.parse=function(t){return Array.from(t.querySelectorAll("."+Ho)).filter((function(e){return!Wo.apps.find((function(t){return t.isAttachedTo(e)}))})).map((function(t){return e.create(t)}))},e.find=function(e){var t=Wo.apps.find((function(t){return t.isAttachedTo(e)}));return t?ko(t):null},e.registerPlugin=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach(No),Zo()},e.getOptions=function(){var e={};return o(it(),(function(t,n){e[t]=n[0]})),e},e.setOptions=function(t){return ge(t)&&(Wo.apps.forEach((function(e){e.setOptions(t)})),ot(t)),e.getOptions()}}e.supported=Vo,Object.defineProperty(e,"__esModule",{value:!0})}(t)},813:function(e,t,n){e.exports={}},814:function(e,t,n){e.exports={}},815:function(e,t,n){e.exports=function(){"use strict";var e=function(e){var t=e.addFilter,n=e.utils,r=n.Type,o=n.isString,c=n.replaceInString,l=n.guesstimateMimeType,f=n.getExtensionFromFilename,d=n.getFilenameFromURL,h=function(e,t){return(/^[^/]+/.exec(e)||[]).pop()===t.slice(0,-2)},v=function(e,t){return e.some((function(e){return/\*$/.test(e)?h(t,e):e===t}))},_=function(e){var t="";if(o(e)){var n=d(e),r=f(n);r&&(t=l(r))}else t=e.type;return t},m=function(e,t,n){if(0===t.length)return!0;var r=_(e);return n?new Promise((function(o,c){n(e,r).then((function(e){v(t,e)?o():c()})).catch(c)})):v(t,r)},y=function(map){return function(e){return null!==map[e]&&(map[e]||e)}};return t("SET_ATTRIBUTE_TO_OPTION_MAP",(function(map){return Object.assign(map,{accept:"acceptedFileTypes"})})),t("ALLOW_HOPPER_ITEM",(function(e,t){var n=t.query;return!n("GET_ALLOW_FILE_TYPE_VALIDATION")||m(e,n("GET_ACCEPTED_FILE_TYPES"))})),t("LOAD_FILE",(function(e,t){var n=t.query;return new Promise((function(t,r){if(n("GET_ALLOW_FILE_TYPE_VALIDATION")){var o=n("GET_ACCEPTED_FILE_TYPES"),l=n("GET_FILE_VALIDATE_TYPE_DETECT_TYPE"),f=m(e,o,l),d=function(){var e=o.map(y(n("GET_FILE_VALIDATE_TYPE_LABEL_EXPECTED_TYPES_MAP"))).filter((function(label){return!1!==label})),t=e.filter((function(t,n){return e.indexOf(t)===n}));r({status:{main:n("GET_LABEL_FILE_TYPE_NOT_ALLOWED"),sub:c(n("GET_FILE_VALIDATE_TYPE_LABEL_EXPECTED_TYPES"),{allTypes:t.join(", "),allButLastType:t.slice(0,-1).join(", "),lastType:t[e.length-1]})}})};if("boolean"==typeof f)return f?t(e):d();f.then((function(){t(e)})).catch(d)}else t(e)}))})),{options:{allowFileTypeValidation:[!0,r.BOOLEAN],acceptedFileTypes:[[],r.ARRAY],labelFileTypeNotAllowed:["File is of invalid type",r.STRING],fileValidateTypeLabelExpectedTypes:["Expects {allButLastType} or {lastType}",r.STRING],fileValidateTypeLabelExpectedTypesMap:[{},r.OBJECT],fileValidateTypeDetectType:[null,r.FUNCTION]}}};return"undefined"!=typeof window&&void 0!==window.document&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:e})),e}()},816:function(e,t,n){e.exports=function(){"use strict";var e=function(e){var t=e.addFilter,n=e.utils,r=n.Type,o=n.replaceInString,c=n.toNaturalFileSize;return t("ALLOW_HOPPER_ITEM",(function(e,t){var n=t.query;if(!n("GET_ALLOW_FILE_SIZE_VALIDATION"))return!0;var r=n("GET_MAX_FILE_SIZE");if(null!==r&&e.size>r)return!1;var o=n("GET_MIN_FILE_SIZE");return!(null!==o&&e.size<o)})),t("LOAD_FILE",(function(e,t){var n=t.query;return new Promise((function(t,r){if(!n("GET_ALLOW_FILE_SIZE_VALIDATION"))return t(e);var l=n("GET_FILE_VALIDATE_SIZE_FILTER");if(l&&!l(e))return t(e);var f=n("GET_MAX_FILE_SIZE");if(null!==f&&e.size>f)r({status:{main:n("GET_LABEL_MAX_FILE_SIZE_EXCEEDED"),sub:o(n("GET_LABEL_MAX_FILE_SIZE"),{filesize:c(f,".",n("GET_FILE_SIZE_BASE"),n("GET_FILE_SIZE_LABELS",n))})}});else{var d=n("GET_MIN_FILE_SIZE");if(null!==d&&e.size<d)r({status:{main:n("GET_LABEL_MIN_FILE_SIZE_EXCEEDED"),sub:o(n("GET_LABEL_MIN_FILE_SIZE"),{filesize:c(d,".",n("GET_FILE_SIZE_BASE"),n("GET_FILE_SIZE_LABELS",n))})}});else{var h=n("GET_MAX_TOTAL_FILE_SIZE");if(null!==h&&n("GET_ACTIVE_ITEMS").reduce((function(e,t){return e+t.fileSize}),0)>h)return void r({status:{main:n("GET_LABEL_MAX_TOTAL_FILE_SIZE_EXCEEDED"),sub:o(n("GET_LABEL_MAX_TOTAL_FILE_SIZE"),{filesize:c(h,".",n("GET_FILE_SIZE_BASE"),n("GET_FILE_SIZE_LABELS",n))})}});t(e)}}}))})),{options:{allowFileSizeValidation:[!0,r.BOOLEAN],maxFileSize:[null,r.INT],minFileSize:[null,r.INT],maxTotalFileSize:[null,r.INT],fileValidateSizeFilter:[null,r.FUNCTION],labelMinFileSizeExceeded:["File is too small",r.STRING],labelMinFileSize:["Minimum file size is {filesize}",r.STRING],labelMaxFileSizeExceeded:["File is too large",r.STRING],labelMaxFileSize:["Maximum file size is {filesize}",r.STRING],labelMaxTotalFileSizeExceeded:["Maximum total size exceeded",r.STRING],labelMaxTotalFileSize:["Maximum total file size is {filesize}",r.STRING]}}};return"undefined"!=typeof window&&void 0!==window.document&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:e})),e}()},817:function(e,t,n){e.exports=function(){"use strict";var e=function(e){return/^image/.test(e.type)};function t(e){this.wrapped=e}function n(e){var n,r;function o(e,t){return new Promise((function(o,l){var f={key:e,arg:t,resolve:o,reject:l,next:null};r?r=r.next=f:(n=r=f,c(e,t))}))}function c(n,r){try{var o=e[n](r),f=o.value,d=f instanceof t;Promise.resolve(d?f.wrapped:f).then((function(e){d?c("next",e):l(o.done?"return":"normal",e)}),(function(e){c("throw",e)}))}catch(e){l("throw",e)}}function l(e,t){switch(e){case"return":n.resolve({value:t,done:!0});break;case"throw":n.reject(t);break;default:n.resolve({value:t,done:!1})}(n=n.next)?c(n.key,n.arg):r=null}this._invoke=o,"function"!=typeof e.return&&(this.return=void 0)}function r(e,i){return o(e)||c(e,i)||l()}function o(e){if(Array.isArray(e))return e}function c(e,i){var t=[],n=!0,r=!1,o=void 0;try{for(var c,l=e[Symbol.iterator]();!(n=(c=l.next()).done)&&(t.push(c.value),!i||t.length!==i);n=!0);}catch(e){r=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(r)throw o}}return t}function l(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}"function"==typeof Symbol&&Symbol.asyncIterator&&(n.prototype[Symbol.asyncIterator]=function(){return this}),n.prototype.next=function(e){return this._invoke("next",e)},n.prototype.throw=function(e){return this._invoke("throw",e)},n.prototype.return=function(e){return this._invoke("return",e)};var f=function(e,t){return _(e.x*t,e.y*t)},d=function(a,b){return _(a.x+b.x,a.y+b.y)},h=function(e){var t=Math.sqrt(e.x*e.x+e.y*e.y);return 0===t?{x:0,y:0}:_(e.x/t,e.y/t)},v=function(e,t,n){var r=Math.cos(t),o=Math.sin(t),c=_(e.x-n.x,e.y-n.y);return _(n.x+r*c.x-o*c.y,n.y+o*c.x+r*c.y)},_=function(){return{x:arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,y:arguments.length>1&&void 0!==arguments[1]?arguments[1]:0}},m=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0;return"string"==typeof e?parseFloat(e)*n:"number"==typeof e?e*(r?t[r]:Math.min(t.width,t.height)):void 0},y=function(e,t,n){var r=e.borderStyle||e.lineStyle||"solid",o=e.backgroundColor||e.fontColor||"transparent",c=e.borderColor||e.lineColor||"transparent",l=m(e.borderWidth||e.lineWidth,t,n);return{"stroke-linecap":e.lineCap||"round","stroke-linejoin":e.lineJoin||"round","stroke-width":l||0,"stroke-dasharray":"string"==typeof r?"":r.map((function(e){return m(e,t,n)})).join(","),stroke:c,fill:o,opacity:e.opacity||1}},E=function(e){return null!=e},w=function(rect,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=m(rect.x,e,t,"width")||m(rect.left,e,t,"width"),r=m(rect.y,e,t,"height")||m(rect.top,e,t,"height"),o=m(rect.width,e,t,"width"),c=m(rect.height,e,t,"height"),l=m(rect.right,e,t,"width"),f=m(rect.bottom,e,t,"height");return E(r)||(r=E(c)&&E(f)?e.height-c-f:f),E(n)||(n=E(o)&&E(l)?e.width-o-l:l),E(o)||(o=E(n)&&E(l)?e.width-n-l:0),E(c)||(c=E(r)&&E(f)?e.height-r-f:0),{x:n||0,y:r||0,width:o||0,height:c||0}},T=function(e){return e.map((function(e,t){return"".concat(0===t?"M":"L"," ").concat(e.x," ").concat(e.y)})).join(" ")},I=function(element,e){return Object.keys(e).forEach((function(t){return element.setAttribute(t,e[t])}))},S="http://www.w3.org/2000/svg",svg=function(e,t){var element=document.createElementNS(S,e);return t&&I(element,t),element},O=function(element){return I(element,Object.assign({},element.rect,element.styles))},A=function(element){var e=element.rect.x+.5*element.rect.width,t=element.rect.y+.5*element.rect.height,n=.5*element.rect.width,r=.5*element.rect.height;return I(element,Object.assign({cx:e,cy:t,rx:n,ry:r},element.styles))},R={contain:"xMidYMid meet",cover:"xMidYMid slice"},k=function(element,e){I(element,Object.assign({},element.rect,element.styles,{preserveAspectRatio:R[e.fit]||"none"}))},D={left:"start",center:"middle",right:"end"},P=function(element,e,t,n){var r=m(e.fontSize,t,n),o=e.fontFamily||"sans-serif",c=e.fontWeight||"normal",l=D[e.textAlign]||"start";I(element,Object.assign({},element.rect,element.styles,{"stroke-width":0,"font-weight":c,"font-size":r,"font-family":o,"text-anchor":l})),element.text!==e.text&&(element.text=e.text,element.textContent=e.text.length?e.text:" ")},C=function(element,e,t,n){I(element,Object.assign({},element.rect,element.styles,{fill:"none"}));var line=element.childNodes[0],r=element.childNodes[1],o=element.childNodes[2],c=element.rect,l={x:element.rect.x+element.rect.width,y:element.rect.y+element.rect.height};if(I(line,{x1:c.x,y1:c.y,x2:l.x,y2:l.y}),e.lineDecoration){r.style.display="none",o.style.display="none";var _=h({x:l.x-c.x,y:l.y-c.y}),y=m(.05,t,n);if(-1!==e.lineDecoration.indexOf("arrow-begin")){var E=f(_,y),w=d(c,E),T=v(c,2,w),S=v(c,-2,w);I(r,{style:"display:block;",d:"M".concat(T.x,",").concat(T.y," L").concat(c.x,",").concat(c.y," L").concat(S.x,",").concat(S.y)})}if(-1!==e.lineDecoration.indexOf("arrow-end")){var O=f(_,-y),A=d(l,O),R=v(l,2,A),k=v(l,-2,A);I(o,{style:"display:block;",d:"M".concat(R.x,",").concat(R.y," L").concat(l.x,",").concat(l.y," L").concat(k.x,",").concat(k.y)})}}},M=function(element,e,t,n){I(element,Object.assign({},element.styles,{fill:"none",d:T(e.points.map((function(e){return{x:m(e.x,t,n,"width"),y:m(e.y,t,n,"height")}})))}))},L=function(e){return function(t){return svg(e,{id:t.id})}},x=function(e){var t=svg("g",{id:e.id,"stroke-linecap":"round","stroke-linejoin":"round"}),line=svg("line");t.appendChild(line);var n=svg("path");t.appendChild(n);var r=svg("path");return t.appendChild(r),t},N={image:function(e){var t=svg("image",{id:e.id,"stroke-linecap":"round","stroke-linejoin":"round",opacity:"0"});return t.onload=function(){t.setAttribute("opacity",e.opacity||1)},t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",e.src),t},rect:L("rect"),ellipse:L("ellipse"),text:L("text"),path:L("path"),line:x},j={rect:O,ellipse:A,image:k,text:P,path:M,line:C},F=function(e,t){return N[e](t)},U=function(element,e,t,n,r){"path"!==e&&(element.rect=w(t,n,r)),element.styles=y(t,n,r),j[e](element,t,n,r)},G=["x","y","left","top","right","bottom","width","height"],B=function(e){return"string"==typeof e&&/%/.test(e)?parseFloat(e)/100:e},$=function(e){var t=r(e,2),n=t[0],o=t[1],rect=o.points?{}:G.reduce((function(e,t){return e[t]=B(o[t]),e}),{});return[n,Object.assign({zIndex:0},o,rect)]},z=function(a,b){return a[1].zIndex>b[1].zIndex?1:a[1].zIndex<b[1].zIndex?-1:0},V=function(e){return e.utils.createView({name:"image-preview-markup",tag:"svg",ignoreRect:!0,mixins:{apis:["width","height","crop","markup","resize","dirty"]},write:function(e){var t=e.root,n=e.props;if(n.dirty){var o=n.crop,c=n.resize,l=n.markup,f=n.width,d=n.height,h=o.width,v=o.height;if(c){var _=c.size,m=_&&_.width,y=_&&_.height,E=c.mode,w=c.upscale;m&&!y&&(y=m),y&&!m&&(m=y);var T=h<m&&v<y;if(!T||T&&w){var I,S=m/h,O=y/v;"force"===E?(h=m,v=y):("cover"===E?I=Math.max(S,O):"contain"===E&&(I=Math.min(S,O)),h*=I,v*=I)}}var A={width:f,height:d};t.element.setAttribute("width",A.width),t.element.setAttribute("height",A.height);var R=Math.min(f/h,d/v);t.element.innerHTML="";var k=t.query("GET_IMAGE_PREVIEW_MARKUP_FILTER");l.filter(k).map($).sort(z).forEach((function(e){var n=r(e,2),o=n[0],c=n[1],element=F(o,c);U(element,o,c,A,R),t.element.appendChild(element)}))}}})},W=function(e,t){return{x:e,y:t}},H=function(a,b){return a.x*b.x+a.y*b.y},Y=function(a,b){return W(a.x-b.x,a.y-b.y)},X=function(a,b){return H(Y(a,b),Y(a,b))},Z=function(a,b){return Math.sqrt(X(a,b))},K=function(e,t){var a=e,n=1.5707963267948966,r=t,o=1.5707963267948966-t,c=Math.sin(n),l=Math.sin(r),f=Math.sin(o),d=Math.cos(o),h=a/c;return W(d*(h*l),d*(h*f))},Q=function(rect,e){var t=rect.width,n=rect.height,r=K(t,e),o=K(n,e),c=W(rect.x+Math.abs(r.x),rect.y-Math.abs(r.y)),tr=W(rect.x+rect.width+Math.abs(o.y),rect.y+Math.abs(o.x)),l=W(rect.x-Math.abs(o.y),rect.y+rect.height-Math.abs(o.x));return{width:Z(c,tr),height:Z(c,l)}},J=function(image,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=image.height/image.width,r=1,o=e,c=1,l=n;l>o&&(c=(l=o)/n);var f=Math.max(r/c,o/l),d=image.width/(t*f*c);return{width:d,height:d*e}},ee=function(e,t,n,r){var o=r.x>.5?1-r.x:r.x,c=r.y>.5?1-r.y:r.y,l=2*o*e.width,f=2*c*e.height,d=Q(t,n);return Math.max(d.width/l,d.height/f)},te=function(e,t){var n=e.width,r=n*t;return r>e.height&&(n=(r=e.height)/t),{x:.5*(e.width-n),y:.5*(e.height-r),width:n,height:r}},ne=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.zoom,r=t.rotation,o=t.center,c=t.aspectRatio;c||(c=e.height/e.width);var l=J(e,c,n),f={x:.5*l.width,y:.5*l.height},d={x:0,y:0,width:l.width,height:l.height,center:f},h=void 0===t.scaleToFit||t.scaleToFit,v=n*ee(e,te(d,c),r,h?o:{x:.5,y:.5});return{widthFloat:l.width/v,heightFloat:l.height/v,width:Math.round(l.width/v),height:Math.round(l.height/v)}},re={type:"spring",stiffness:.5,damping:.45,mass:10},ie=function(e){return e.utils.createView({name:"image-bitmap",ignoreRect:!0,mixins:{styles:["scaleX","scaleY"]},create:function(e){var t=e.root,n=e.props;t.appendChild(n.image)}})},oe=function(e){return e.utils.createView({name:"image-canvas-wrapper",tag:"div",ignoreRect:!0,mixins:{apis:["crop","width","height"],styles:["originX","originY","translateX","translateY","scaleX","scaleY","rotateZ"],animations:{originX:re,originY:re,scaleX:re,scaleY:re,translateX:re,translateY:re,rotateZ:re}},create:function(t){var n=t.root,r=t.props;r.width=r.image.width,r.height=r.image.height,n.ref.bitmap=n.appendChildView(n.createChildView(ie(e),{image:r.image}))},write:function(e){var t=e.root,n=e.props.crop.flip,r=t.ref.bitmap;r.scaleX=n.horizontal?-1:1,r.scaleY=n.vertical?-1:1}})},ae=function(e){return e.utils.createView({name:"image-clip",tag:"div",ignoreRect:!0,mixins:{apis:["crop","markup","resize","width","height","dirty","background"],styles:["width","height","opacity"],animations:{opacity:{type:"tween",duration:250}}},didWriteView:function(e){var t=e.root,n=e.props;n.background&&(t.element.style.backgroundColor=n.background)},create:function(t){var n=t.root,r=t.props;n.ref.image=n.appendChildView(n.createChildView(oe(e),Object.assign({},r))),n.ref.createMarkup=function(){n.ref.markup||(n.ref.markup=n.appendChildView(n.createChildView(V(e),Object.assign({},r))))},n.ref.destroyMarkup=function(){n.ref.markup&&(n.removeChildView(n.ref.markup),n.ref.markup=null)};var o=n.query("GET_IMAGE_PREVIEW_TRANSPARENCY_INDICATOR");null!==o&&(n.element.dataset.transparencyIndicator="grid"===o?o:"color")},write:function(e){var t=e.root,n=e.props,r=e.shouldOptimize,o=n.crop,c=n.markup,l=n.resize,f=n.dirty,d=n.width,h=n.height;t.ref.image.crop=o;var v={x:0,y:0,width:d,height:h,center:{x:.5*d,y:.5*h}},image={width:t.ref.image.width,height:t.ref.image.height},_={x:o.center.x*image.width,y:o.center.y*image.height},m={x:v.center.x-image.width*o.center.x,y:v.center.y-image.height*o.center.y},y=2*Math.PI+o.rotation%(2*Math.PI),E=o.aspectRatio||image.height/image.width,w=void 0===o.scaleToFit||o.scaleToFit,T=ee(image,te(v,E),y,w?o.center:{x:.5,y:.5}),I=o.zoom*T;c&&c.length?(t.ref.createMarkup(),t.ref.markup.width=d,t.ref.markup.height=h,t.ref.markup.resize=l,t.ref.markup.dirty=f,t.ref.markup.markup=c,t.ref.markup.crop=ne(image,o)):t.ref.markup&&t.ref.destroyMarkup();var S=t.ref.image;if(r)return S.originX=null,S.originY=null,S.translateX=null,S.translateY=null,S.rotateZ=null,S.scaleX=null,void(S.scaleY=null);S.originX=_.x,S.originY=_.y,S.translateX=m.x,S.translateY=m.y,S.rotateZ=y,S.scaleX=I,S.scaleY=I}})},se=function(e){return e.utils.createView({name:"image-preview",tag:"div",ignoreRect:!0,mixins:{apis:["image","crop","markup","resize","dirty","background"],styles:["translateY","scaleX","scaleY","opacity"],animations:{scaleX:re,scaleY:re,translateY:re,opacity:{type:"tween",duration:400}}},create:function(t){var n=t.root,r=t.props;n.ref.clip=n.appendChildView(n.createChildView(ae(e),{id:r.id,image:r.image,crop:r.crop,markup:r.markup,resize:r.resize,dirty:r.dirty,background:r.background}))},write:function(e){var t=e.root,n=e.props,r=e.shouldOptimize,o=t.ref.clip,image=n.image,c=n.crop,l=n.markup,f=n.resize,d=n.dirty;if(o.crop=c,o.markup=l,o.resize=f,o.dirty=d,o.opacity=r?0:1,!r&&!t.rect.element.hidden){var h=image.height/image.width,v=c.aspectRatio||h,_=t.rect.inner.width,m=t.rect.inner.height,y=t.query("GET_IMAGE_PREVIEW_HEIGHT"),E=t.query("GET_IMAGE_PREVIEW_MIN_HEIGHT"),w=t.query("GET_IMAGE_PREVIEW_MAX_HEIGHT"),T=t.query("GET_PANEL_ASPECT_RATIO"),I=t.query("GET_ALLOW_MULTIPLE");T&&!I&&(y=_*T,v=T);var S=null!==y?y:Math.max(E,Math.min(_*v,w)),O=S/v;O>_&&(S=(O=_)*v),S>m&&(S=m,O=m/v),o.width=O,o.height=S}}})},ue='<svg width="500" height="200" viewBox="0 0 500 200" preserveAspectRatio="none">\n    <defs>\n        <radialGradient id="gradient-__UID__" cx=".5" cy="1.25" r="1.15">\n            <stop offset=\'50%\' stop-color=\'#000000\'/>\n            <stop offset=\'56%\' stop-color=\'#0a0a0a\'/>\n            <stop offset=\'63%\' stop-color=\'#262626\'/>\n            <stop offset=\'69%\' stop-color=\'#4f4f4f\'/>\n            <stop offset=\'75%\' stop-color=\'#808080\'/>\n            <stop offset=\'81%\' stop-color=\'#b1b1b1\'/>\n            <stop offset=\'88%\' stop-color=\'#dadada\'/>\n            <stop offset=\'94%\' stop-color=\'#f6f6f6\'/>\n            <stop offset=\'100%\' stop-color=\'#ffffff\'/>\n        </radialGradient>\n        <mask id="mask-__UID__">\n            <rect x="0" y="0" width="500" height="200" fill="url(#gradient-__UID__)"></rect>\n        </mask>\n    </defs>\n    <rect x="0" width="500" height="200" fill="currentColor" mask="url(#mask-__UID__)"></rect>\n</svg>',ce=0,le=function(e){return e.utils.createView({name:"image-preview-overlay",tag:"div",ignoreRect:!0,create:function(e){var t=e.root,n=e.props,mask=ue;if(document.querySelector("base")){var r=new URL(window.location.href.replace(window.location.hash,"")).href;mask=mask.replace(/url\(\#/g,"url("+r+"#")}ce++,t.element.classList.add("filepond--image-preview-overlay-".concat(n.status)),t.element.innerHTML=mask.replace(/__UID__/g,ce)},mixins:{styles:["opacity"],animations:{opacity:{type:"spring",mass:25}}}})},fe=function(){self.onmessage=function(e){createImageBitmap(e.data.message.file).then((function(t){self.postMessage({id:e.data.id,message:t},[t])}))}},de=function(){self.onmessage=function(e){for(var t=e.data.message.imageData,n=e.data.message.colorMatrix,data=t.data,r=data.length,o=n[0],c=n[1],l=n[2],f=n[3],d=n[4],h=n[5],v=n[6],_=n[7],m=n[8],y=n[9],E=n[10],w=n[11],T=n[12],I=n[13],S=n[14],O=n[15],A=n[16],R=n[17],k=n[18],D=n[19],P=0,C=0,g=0,b=0,a=0;P<r;P+=4)C=data[P]/255,g=data[P+1]/255,b=data[P+2]/255,a=data[P+3]/255,data[P]=Math.max(0,Math.min(255*(C*o+g*c+b*l+a*f+d),255)),data[P+1]=Math.max(0,Math.min(255*(C*h+g*v+b*_+a*m+y),255)),data[P+2]=Math.max(0,Math.min(255*(C*E+g*w+b*T+a*I+S),255)),data[P+3]=Math.max(0,Math.min(255*(C*O+g*A+b*R+a*k+D),255));self.postMessage({id:e.data.id,message:t},[t.data.buffer])}},pe=function(e,t){var image=new Image;image.onload=function(){var e=image.naturalWidth,n=image.naturalHeight;image=null,t(e,n)},image.src=e},he={1:function(){return[1,0,0,1,0,0]},2:function(e){return[-1,0,0,1,e,0]},3:function(e,t){return[-1,0,0,-1,e,t]},4:function(e,t){return[1,0,0,-1,0,t]},5:function(){return[0,1,1,0,0,0]},6:function(e,t){return[0,1,-1,0,t,0]},7:function(e,t){return[0,-1,-1,0,t,e]},8:function(e){return[0,-1,1,0,0,e]}},ge=function(e,t,n,r){-1!==r&&e.transform.apply(e,he[r](t,n))},ve=function(data,e,t,n){e=Math.round(e),t=Math.round(t);var canvas=document.createElement("canvas");canvas.width=e,canvas.height=t;var r=canvas.getContext("2d");if(n>=5&&n<=8){var o=[t,e];e=o[0],t=o[1]}return ge(r,e,t,n),r.drawImage(data,0,0,e,t),canvas},_e=function(e){return/^image/.test(e.type)&&!/svg/.test(e.type)},me=10,ye=10,be=function(image){var e=Math.min(me/image.width,ye/image.height),canvas=document.createElement("canvas"),t=canvas.getContext("2d"),n=canvas.width=Math.ceil(image.width*e),r=canvas.height=Math.ceil(image.height*e);t.drawImage(image,0,0,n,r);var data=null;try{data=t.getImageData(0,0,n,r).data}catch(e){return null}for(var o=data.length,c=0,g=0,b=0,i=0;i<o;i+=4)c+=data[i]*data[i],g+=data[i+1]*data[i+1],b+=data[i+2]*data[i+2];return{r:c=Ee(c,o),g:g=Ee(g,o),b:b=Ee(b,o)}},Ee=function(e,t){return Math.floor(Math.sqrt(e/(t/4)))},we=function(e,t){return(t=t||document.createElement("canvas")).width=e.width,t.height=e.height,t.getContext("2d").drawImage(e,0,0),t},Te=function(e){var t;try{t=new ImageData(e.width,e.height)}catch(n){t=document.createElement("canvas").getContext("2d").createImageData(e.width,e.height)}return t.data.set(new Uint8ClampedArray(e.data)),t},Ie=function(e){return new Promise((function(t,n){var img=new Image;img.crossOrigin="Anonymous",img.onload=function(){t(img)},img.onerror=function(e){n(e)},img.src=e}))},Se=function(e){var t=le(e),n=se(e),r=e.utils.createWorker,o=function(e,filter,t){return new Promise((function(n){e.ref.imageData||(e.ref.imageData=t.getContext("2d").getImageData(0,0,t.width,t.height));var o=Te(e.ref.imageData);if(!filter||20!==filter.length)return t.getContext("2d").putImageData(o,0,0),n();var c=r(de);c.post({imageData:o,colorMatrix:filter},(function(e){t.getContext("2d").putImageData(e,0,0),c.terminate(),n()}),[o.data.buffer])}))},c=function(e,t){e.removeChildView(t),t.image.width=1,t.image.height=1,t._destroy()},l=function(e){var t=e.root,n=t.ref.images.shift();return n.opacity=0,n.translateY=-15,t.ref.imageViewBin.push(n),n},f=function(e){var t=e.root,r=e.props,image=e.image,o=r.id,c=t.query("GET_ITEM",{id:o});if(c){var l,f,d=c.getMetadata("crop")||{center:{x:.5,y:.5},flip:{horizontal:!1,vertical:!1},zoom:1,rotation:0,aspectRatio:null},h=t.query("GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR"),v=!1;t.query("GET_IMAGE_PREVIEW_MARKUP_SHOW")&&(l=c.getMetadata("markup")||[],f=c.getMetadata("resize"),v=!0);var _=t.appendChildView(t.createChildView(n,{id:o,image:image,crop:d,resize:f,markup:l,dirty:v,background:h,opacity:0,scaleX:1.15,scaleY:1.15,translateY:15}),t.childViews.length);t.ref.images.push(_),_.opacity=1,_.scaleX=1,_.scaleY=1,_.translateY=0,setTimeout((function(){t.dispatch("DID_IMAGE_PREVIEW_SHOW",{id:o})}),250)}},d=function(e){var t=e.root,n=e.props,r=t.query("GET_ITEM",{id:n.id});if(r){var o=t.ref.images[t.ref.images.length-1];o.crop=r.getMetadata("crop"),o.background=t.query("GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR"),t.query("GET_IMAGE_PREVIEW_MARKUP_SHOW")&&(o.dirty=!0,o.resize=r.getMetadata("resize"),o.markup=r.getMetadata("markup"))}},h=function(e){var t=e.root,n=e.props,r=e.action;if(/crop|filter|markup|resize/.test(r.change.key)&&t.ref.images.length){var c=t.query("GET_ITEM",{id:n.id});if(c)if(/filter/.test(r.change.key)){var h=t.ref.images[t.ref.images.length-1];o(t,r.change.value,h.image)}else if(/crop|markup|resize/.test(r.change.key)){var v=c.getMetadata("crop"),image=t.ref.images[t.ref.images.length-1];if(v&&v.aspectRatio&&image.crop&&image.crop.aspectRatio&&Math.abs(v.aspectRatio-image.crop.aspectRatio)>1e-5){var _=l({root:t});f({root:t,props:n,image:we(_.image)})}else d({root:t,props:n})}}},v=function(e){var t=window.navigator.userAgent.match(/Firefox\/([0-9]+)\./),n=t?parseInt(t[1]):null;return!(null!==n&&n<=58)&&"createImageBitmap"in window&&_e(e)},_=function(e){var t=e.root,n=e.props.id,r=t.query("GET_ITEM",n);if(r){var o=URL.createObjectURL(r.file);pe(o,(function(e,r){t.dispatch("DID_IMAGE_PREVIEW_CALCULATE_SIZE",{id:n,width:e,height:r})}))}},m=function(e){var t=e.root,n=e.props,c=n.id,l=t.query("GET_ITEM",c);if(l){var d=URL.createObjectURL(l.file),h=function(){Ie(d).then(_)},_=function(e){URL.revokeObjectURL(d);var r=(l.getMetadata("exif")||{}).orientation||-1,c=e.width,h=e.height;if(c&&h){if(r>=5&&r<=8){var v=[h,c];c=v[0],h=v[1]}var _=Math.max(1,.75*window.devicePixelRatio),m=t.query("GET_IMAGE_PREVIEW_ZOOM_FACTOR")*_,y=h/c,E=t.rect.element.width,w=t.rect.element.height,T=E,I=T*y;y>1?I=(T=Math.min(c,E*m))*y:T=(I=Math.min(h,w*m))/y;var S=ve(e,T,I,r),O=function(){var r=t.query("GET_IMAGE_PREVIEW_CALCULATE_AVERAGE_IMAGE_COLOR")?be(data):null;l.setMetadata("color",r,!0),"close"in e&&e.close(),t.ref.overlayShadow.opacity=1,f({root:t,props:n,image:S})},filter=l.getMetadata("filter");filter?o(t,filter,S).then(O):O()}};if(v(l.file)){var m=r(fe);m.post({file:l.file},(function(e){m.terminate(),e?_(e):h()}))}else h()}},y=function(e){var t=e.root,image=t.ref.images[t.ref.images.length-1];image.translateY=0,image.scaleX=1,image.scaleY=1,image.opacity=1},E=function(e){var t=e.root;t.ref.overlayShadow.opacity=1,t.ref.overlayError.opacity=0,t.ref.overlaySuccess.opacity=0},w=function(e){var t=e.root;t.ref.overlayShadow.opacity=.25,t.ref.overlayError.opacity=1},T=function(e){var t=e.root;t.ref.overlayShadow.opacity=.25,t.ref.overlaySuccess.opacity=1},I=function(e){var n=e.root;n.ref.images=[],n.ref.imageData=null,n.ref.imageViewBin=[],n.ref.overlayShadow=n.appendChildView(n.createChildView(t,{opacity:0,status:"idle"})),n.ref.overlaySuccess=n.appendChildView(n.createChildView(t,{opacity:0,status:"success"})),n.ref.overlayError=n.appendChildView(n.createChildView(t,{opacity:0,status:"failure"}))};return e.utils.createView({name:"image-preview-wrapper",create:I,styles:["height"],apis:["height"],destroy:function(e){e.root.ref.images.forEach((function(e){e.image.width=1,e.image.height=1}))},didWriteView:function(e){e.root.ref.images.forEach((function(e){e.dirty=!1}))},write:e.utils.createRoute({DID_IMAGE_PREVIEW_DRAW:y,DID_IMAGE_PREVIEW_CONTAINER_CREATE:_,DID_FINISH_CALCULATE_PREVIEWSIZE:m,DID_UPDATE_ITEM_METADATA:h,DID_THROW_ITEM_LOAD_ERROR:w,DID_THROW_ITEM_PROCESSING_ERROR:w,DID_THROW_ITEM_INVALID:w,DID_COMPLETE_ITEM_PROCESSING:T,DID_START_ITEM_PROCESSING:E,DID_REVERT_ITEM_PROCESSING:E},(function(e){var t=e.root,n=t.ref.imageViewBin.filter((function(e){return 0===e.opacity}));t.ref.imageViewBin=t.ref.imageViewBin.filter((function(e){return e.opacity>0})),n.forEach((function(e){return c(t,e)})),n.length=0}))})},Oe=function(t){var n=t.addFilter,r=t.utils,o=r.Type,c=r.createRoute,l=r.isFile,f=Se(t);return n("CREATE_VIEW",(function(t){var n=t.is,view=t.view,r=t.query;if(n("file")&&r("GET_ALLOW_IMAGE_PREVIEW")){var o=function(t){var n=t.root,o=t.props.id,c=r("GET_ITEM",o);if(c&&l(c.file)&&!c.archived){var d=c.file;if(e(d)&&r("GET_IMAGE_PREVIEW_FILTER_ITEM")(c)){var h="createImageBitmap"in(window||{}),v=r("GET_IMAGE_PREVIEW_MAX_FILE_SIZE");if(!(!h&&v&&d.size>v)){n.ref.imagePreview=view.appendChildView(view.createChildView(f,{id:o}));var _=n.query("GET_IMAGE_PREVIEW_HEIGHT");_&&n.dispatch("DID_UPDATE_PANEL_HEIGHT",{id:c.id,height:_});var m=!h&&d.size>r("GET_IMAGE_PREVIEW_MAX_INSTANT_PREVIEW_FILE_SIZE");n.dispatch("DID_IMAGE_PREVIEW_CONTAINER_CREATE",{id:o},m)}}}},d=function(e,t){if(e.ref.imagePreview){var n=t.id,r=e.query("GET_ITEM",{id:n});if(r){var o=e.query("GET_PANEL_ASPECT_RATIO"),c=e.query("GET_ITEM_PANEL_ASPECT_RATIO"),l=e.query("GET_IMAGE_PREVIEW_HEIGHT");if(!(o||c||l)){var f=e.ref,d=f.imageWidth,h=f.imageHeight;if(d&&h){var v=e.query("GET_IMAGE_PREVIEW_MIN_HEIGHT"),_=e.query("GET_IMAGE_PREVIEW_MAX_HEIGHT"),m=(r.getMetadata("exif")||{}).orientation||-1;if(m>=5&&m<=8){var y=[h,d];d=y[0],h=y[1]}if(!_e(r.file)||e.query("GET_IMAGE_PREVIEW_UPSCALE")){var E=2048/d;d*=E,h*=E}var w=h/d,T=(r.getMetadata("crop")||{}).aspectRatio||w,I=Math.max(v,Math.min(h,_)),S=e.rect.element.width,O=Math.min(S*T,I);e.dispatch("DID_UPDATE_PANEL_HEIGHT",{id:r.id,height:O})}}}}},h=function(e){e.root.ref.shouldRescale=!0},v=function(e){var t=e.root;"crop"===e.action.change.key&&(t.ref.shouldRescale=!0)},_=function(e){var t=e.root,n=e.action;t.ref.imageWidth=n.width,t.ref.imageHeight=n.height,t.ref.shouldRescale=!0,t.ref.shouldDrawPreview=!0,t.dispatch("KICK")};view.registerWriter(c({DID_RESIZE_ROOT:h,DID_STOP_RESIZE:h,DID_LOAD_ITEM:o,DID_IMAGE_PREVIEW_CALCULATE_SIZE:_,DID_UPDATE_ITEM_METADATA:v},(function(e){var t=e.root,n=e.props;t.ref.imagePreview&&(t.rect.element.hidden||(t.ref.shouldRescale&&(d(t,n),t.ref.shouldRescale=!1),t.ref.shouldDrawPreview&&(requestAnimationFrame((function(){requestAnimationFrame((function(){t.dispatch("DID_FINISH_CALCULATE_PREVIEWSIZE",{id:n.id})}))})),t.ref.shouldDrawPreview=!1)))})))}})),{options:{allowImagePreview:[!0,o.BOOLEAN],imagePreviewFilterItem:[function(){return!0},o.FUNCTION],imagePreviewHeight:[null,o.INT],imagePreviewMinHeight:[44,o.INT],imagePreviewMaxHeight:[256,o.INT],imagePreviewMaxFileSize:[null,o.INT],imagePreviewZoomFactor:[2,o.INT],imagePreviewUpscale:[!1,o.BOOLEAN],imagePreviewMaxInstantPreviewFileSize:[1e6,o.INT],imagePreviewTransparencyIndicator:[null,o.STRING],imagePreviewCalculateAverageImageColor:[!1,o.BOOLEAN],imagePreviewMarkupShow:[!0,o.BOOLEAN],imagePreviewMarkupFilter:[function(){return!0},o.FUNCTION]}}};return"undefined"!=typeof window&&void 0!==window.document&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:Oe})),Oe}()},823:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getInstance=t.load=void 0;var r,o=n(504);!function(e){e[e.NOT_LOADED=0]="NOT_LOADED",e[e.LOADING=1]="LOADING",e[e.LOADED=2]="LOADED"}(r||(r={}));var c=function(){function e(){}return e.load=function(t,n){if(void 0===n&&(n={}),"undefined"==typeof document)return Promise.reject(new Error("This is a library for the browser!"));if(e.getLoadingState()===r.LOADED)return e.instance.getSiteKey()===t?Promise.resolve(e.instance):Promise.reject(new Error("reCAPTCHA already loaded with different site key!"));if(e.getLoadingState()===r.LOADING)return t!==e.instanceSiteKey?Promise.reject(new Error("reCAPTCHA already loaded with different site key!")):new Promise((function(t,n){e.successfulLoadingConsumers.push((function(e){return t(e)})),e.errorLoadingRunnable.push((function(e){return n(e)}))}));e.instanceSiteKey=t,e.setLoadingState(r.LOADING);var c=new e;return new Promise((function(l,f){c.loadScript(t,n.useRecaptchaNet||!1,n.useEnterprise||!1,n.renderParameters?n.renderParameters:{},n.customUrl).then((function(){e.setLoadingState(r.LOADED);var f=c.doExplicitRender(grecaptcha,t,n.explicitRenderParameters?n.explicitRenderParameters:{},n.useEnterprise||!1),d=new o.ReCaptchaInstance(t,f,grecaptcha);e.successfulLoadingConsumers.forEach((function(e){return e(d)})),e.successfulLoadingConsumers=[],n.autoHideBadge&&d.hideBadge(),e.instance=d,l(d)})).catch((function(t){e.errorLoadingRunnable.forEach((function(e){return e(t)})),e.errorLoadingRunnable=[],f(t)}))}))},e.getInstance=function(){return e.instance},e.setLoadingState=function(t){e.loadingState=t},e.getLoadingState=function(){return null===e.loadingState?r.NOT_LOADED:e.loadingState},e.prototype.loadScript=function(t,n,o,c,l){var f=this;void 0===n&&(n=!1),void 0===o&&(o=!1),void 0===c&&(c={}),void 0===l&&(l="");var d=document.createElement("script");d.setAttribute("recaptcha-v3-script","");var h="https://www.google.com/recaptcha/api.js";n&&(h=o?"https://recaptcha.net/recaptcha/enterprise.js":"https://recaptcha.net/recaptcha/api.js"),o&&(h="https://www.google.com/recaptcha/enterprise.js"),l&&(h=l),c.render&&(c.render=void 0);var v=this.buildQueryString(c);return d.src=h+"?render=explicit"+v,new Promise((function(t,n){d.addEventListener("load",f.waitForScriptToLoad((function(){t(d)}),o),!1),d.onerror=function(t){e.setLoadingState(r.NOT_LOADED),n(t)},document.head.appendChild(d)}))},e.prototype.buildQueryString=function(e){return Object.keys(e).length<1?"":"&"+Object.keys(e).filter((function(t){return!!e[t]})).map((function(t){return t+"="+e[t]})).join("&")},e.prototype.waitForScriptToLoad=function(t,n){var r=this;return function(){void 0===window.grecaptcha?setTimeout((function(){r.waitForScriptToLoad(t,n)}),e.SCRIPT_LOAD_DELAY):n?window.grecaptcha.enterprise.ready((function(){t()})):window.grecaptcha.ready((function(){t()}))}},e.prototype.doExplicitRender=function(e,t,n,r){var o={sitekey:t,badge:n.badge,size:n.size,tabindex:n.tabindex};return n.container?r?e.enterprise.render(n.container,o):e.render(n.container,o):r?e.enterprise.render(o):e.render(o)},e.loadingState=null,e.instance=null,e.instanceSiteKey=null,e.successfulLoadingConsumers=[],e.errorLoadingRunnable=[],e.SCRIPT_LOAD_DELAY=25,e}();t.load=c.load,t.getInstance=c.getInstance},928:function(e,t,n){(function(e){!function e(t,n,r){function o(i,c){if(!n[i]){if(!t[i]){if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};t[i][0].call(p.exports,(function(e){return o(t[i][1][e]||e)}),p,p.exports,e,t,n,r)}return n[i].exports}for(var u=!1,i=0;i<r.length;i++)o(r[i]);return o}({1:[function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,c=void 0,c=function(input,e){if("object"!==r(input)||null===input)return input;var t=input[Symbol.toPrimitive];if(void 0!==t){var n=t.call(input,e||"default");if("object"!==r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(input)}(o,"string"),"symbol"===r(c)?c:String(c)),n)}var o,c}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;n.default=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"getCookieExpiresString",value:function(e){var t=new Date,n=new Date(t.getTime()+e);return"expires=".concat(n.toGMTString(),";")}},{key:"bake",value:function(t,n){document.cookie="smartbanner_exited=1; ".concat(t?e.getCookieExpiresString(t):""," path=").concat(n)}},{key:"unbake",value:function(){document.cookie="smartbanner_exited=; expires=Thu, 01 Jan 1970 00:00:01 GMT;"}},{key:"baked",get:function(){return"1"===document.cookie.replace(/(?:(?:^|.*;\s*)smartbanner_exited\s*=\s*([^;]*).*$)|^.*$/,"$1")}}],(n=null)&&o(t.prototype,n),r&&o(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}()},{}],2:[function(t,n,r){(function(e){(function(){"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function n(e,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,c=void 0,c=function(input,e){if("object"!==t(input)||null===input)return input;var n=input[Symbol.toPrimitive];if(void 0!==n){var r=n.call(input,e||"default");if("object"!==t(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(input)}(o,"string"),"symbol"===t(c)?c:String(c)),r)}var o,c}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;r.default=function(){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t)}var r,o,c;return r=t,c=[{key:"platform",value:function(){var e=window.navigator.maxTouchPoints,t=window.navigator.userAgent;return/Android/i.test(t)?"android":!window.MSStream&&!/X11|Linux/i.test(t)&&e&&e>0||/iPhone|iPad|iPod/i.test(t)?"ios":void 0}},{key:"userAgentMatchesRegex",value:function(e){return new RegExp(e).test(window.navigator.userAgent)}},{key:"jQueryMobilePage",value:function(){return void 0!==e.$&&"undefined"!==e.$.mobile&&null!==document.querySelector(".ui-page")}},{key:"wrapperElement",value:function(){var e=t.jQueryMobilePage()?".ui-page":"html";return document.querySelectorAll(e)}}],(o=null)&&n(r.prototype,o),c&&n(r,c),Object.defineProperty(r,"prototype",{writable:!1}),t}()}).call(this)}).call(this,void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(e,t,n){"use strict";var r,o,c=(r=e("./smartbanner.js"))&&r.__esModule?r:{default:r};window.addEventListener("load",(function(){(o=new c.default).apiEnabled?window.smartbanner=o:o.publish()}))},{"./smartbanner.js":5}],4:[function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,c=void 0,c=function(input,e){if("object"!==r(input)||null===input)return input;var t=input[Symbol.toPrimitive];if(void 0!==t){var n=t.call(input,e||"default");if("object"!==r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(input)}(o,"string"),"symbol"===r(c)?c:String(c)),n)}var o,c}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;n.default=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"parse",value:function(){var e=document.getElementsByTagName("meta"),t={};return Array.apply(null,e).forEach((function(meta){var e=null,n=meta.getAttribute("name"),content=meta.getAttribute("content");n&&content&&function(e){return-1!==e.indexOf("smartbanner:")&&e.split(":")[1].length>0}(n)&&content.length>0&&(-1!==(e=n.split(":")[1]).indexOf("-")&&(e=function(e){var t=e.split("-");return t.map((function(e,n){n>0&&(t[n]=e.charAt(0).toUpperCase()+e.substring(1))})),t.join("")}(e)),t[e]=content)})),t}}])&&o(t.prototype,n),r&&o(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}()},{}],5:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=l(e("./optionparser.js")),o=l(e("./detector.js")),c=l(e("./bakery.js"));function l(e){return e&&e.__esModule?e:{default:e}}function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function d(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(r=n.key,o=void 0,o=function(input,e){if("object"!==f(input)||null===input)return input;var t=input[Symbol.toPrimitive];if(void 0!==t){var n=t.call(input,e||"default");if("object"!==f(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(input)}(r,"string"),"symbol"===f(o)?o:String(o)),n)}var r,o}var h={originalTop:"data-smartbanner-original-top",originalMarginTop:"data-smartbanner-original-margin-top"};function v(e){this.positioningDisabled||_(e.data.height)}function _(e){for(var t,n=o.default.wrapperElement(),i=0,r=n.length;i<r;i++)if(t=n[i],o.default.jQueryMobilePage()){if(t.getAttribute(h.originalTop))continue;var c=parseFloat(getComputedStyle(t).top);t.setAttribute(h.originalTop,isNaN(c)?0:c),t.style.top=e+"px"}else{if(t.getAttribute(h.originalMarginTop))continue;var l=parseFloat(getComputedStyle(t).marginTop);t.setAttribute(h.originalMarginTop,isNaN(l)?0:l),t.style.marginTop=e+"px"}}n.default=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var t=new r.default;this.options=t.parse(),this.platform=o.default.platform();var n=new Event("smartbanner.init");document.dispatchEvent(n)}var t,n,l;return t=e,(n=[{key:"originalTop",get:function(){var e=o.default.wrapperElement()[0];return parseFloat(e.getAttribute(h.originalTop))}},{key:"originalTopMargin",get:function(){var e=o.default.wrapperElement()[0];return parseFloat(e.getAttribute(h.originalMarginTop))}},{key:"priceSuffix",get:function(){return"ios"===this.platform&&this.options.priceSuffixApple?this.options.priceSuffixApple:"android"===this.platform&&this.options.priceSuffixGoogle?this.options.priceSuffixGoogle:""}},{key:"price",get:function(){return this.options.price&&""!==this.options.price?this.options.price:""}},{key:"icon",get:function(){return"android"===this.platform?this.options.iconGoogle:this.options.iconApple}},{key:"buttonUrl",get:function(){return"android"===this.platform?this.options.buttonUrlGoogle:"ios"===this.platform?this.options.buttonUrlApple:"#"}},{key:"closeLabel",get:function(){return void 0!==this.options.closeLabel?this.options.closeLabel:"Close"}},{key:"buttonLabel",get:function(){var e=this.options.button;return"android"===this.platform&&this.options.buttonGoogle?e=this.options.buttonGoogle:"ios"===this.platform&&this.options.buttonApple&&(e=this.options.buttonApple),e||"View"}},{key:"html",get:function(){var e=this.options.customDesignModifier?this.options.customDesignModifier:this.platform;return'<div class="smartbanner smartbanner--'.concat(e,' js_smartbanner">\n      <a href="javascript:void(0);" class="smartbanner__exit js_smartbanner__exit" aria-label="').concat(this.closeLabel,'"></a>\n      <div class="smartbanner__icon" style="background-image: url(').concat(this.icon,');"></div>\n      <div class="smartbanner__info">\n        <div>\n          <div class="smartbanner__info__title">').concat(this.options.title,'</div>\n          <div class="smartbanner__info__author">').concat(this.options.author,'</div>\n          <div class="smartbanner__info__price">').concat(this.price).concat(this.priceSuffix,'</div>\n        </div>\n      </div>\n      <a href="').concat(this.buttonUrl,'" target="_blank" class="smartbanner__button js_smartbanner__button" rel="noopener" aria-label="').concat(this.buttonLabel,'"><span class="smartbanner__button__label">').concat(this.buttonLabel,"</span></a>\n    </div>")}},{key:"height",get:function(){try{return document.querySelector(".js_smartbanner").offsetHeight}catch(e){return 0}}},{key:"platformEnabled",get:function(){var e=this.options.enabledPlatforms||"android,ios";return e&&-1!==e.replace(/\s+/g,"").split(",").indexOf(this.platform)}},{key:"positioningDisabled",get:function(){return"true"===this.options.disablePositioning}},{key:"apiEnabled",get:function(){return"true"===this.options.api}},{key:"userAgentExcluded",get:function(){return!!this.options.excludeUserAgentRegex&&o.default.userAgentMatchesRegex(this.options.excludeUserAgentRegex)}},{key:"userAgentIncluded",get:function(){return!!this.options.includeUserAgentRegex&&o.default.userAgentMatchesRegex(this.options.includeUserAgentRegex)}},{key:"hideTtl",get:function(){return!!this.options.hideTtl&&parseInt(this.options.hideTtl)}},{key:"hidePath",get:function(){return this.options.hidePath?this.options.hidePath:"/"}},{key:"publish",value:function(){if(0===Object.keys(this.options).length)throw new Error("No options detected. Please consult documentation.");if(c.default.baked)return!1;if(this.userAgentExcluded)return!1;if(!this.platformEnabled&&!this.userAgentIncluded)return!1;var e=document.createElement("div");document.querySelector("body").prepend(e),e.outerHTML=this.html;var t=new Event("smartbanner.view");document.dispatchEvent(t),this.positioningDisabled||_(this.height),function(e){document.querySelector(".js_smartbanner__exit").addEventListener("click",(function(t){return function(e,t){t.exit(),e.preventDefault()}(t,e)})),document.querySelector(".js_smartbanner__button").addEventListener("click",(function(t){return function(e,t){t.clickout()}(0,e)})),o.default.jQueryMobilePage()&&$(document).on("pagebeforeshow",e,v)}(this)}},{key:"exit",value:function(){o.default.jQueryMobilePage()&&$(document).off("pagebeforeshow",v),this.positioningDisabled||function(){for(var e,t=o.default.wrapperElement(),i=0,n=t.length;i<n;i++)e=t[i],o.default.jQueryMobilePage()&&e.getAttribute(h.originalTop)?e.style.top=e.getAttribute(h.originalTop)+"px":e.getAttribute(h.originalMarginTop)&&(e.style.marginTop=e.getAttribute(h.originalMarginTop)+"px")}();var e=document.querySelector(".js_smartbanner");document.querySelector("body").removeChild(e);var t=new Event("smartbanner.exit");document.dispatchEvent(t),c.default.bake(this.hideTtl,this.hidePath)}},{key:"clickout",value:function(){var e=new Event("smartbanner.clickout");document.dispatchEvent(e)}}])&&d(t.prototype,n),l&&d(t,l),Object.defineProperty(t,"prototype",{writable:!1}),e}()},{"./bakery.js":1,"./detector.js":2,"./optionparser.js":4}]},{},[3])}).call(this,n(59))},929:function(e,t,n){e.exports={}}}]);